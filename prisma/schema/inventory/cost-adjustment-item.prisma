// ═══════════════════════════════════════════════════════════════
// COST ADJUSTMENT ITEM MODEL
// ═══════════════════════════════════════════════════════════════

model CostAdjustmentItem {
  systemId          String          @id @default(uuid())
  
  // Parent Adjustment
  adjustmentId      String
  costAdjustment    CostAdjustment  @relation(fields: [adjustmentId], references: [systemId])
  
  // Product
  productId         String
  productName       String
  productSku        String?
  
  // Cost
  oldCost           Decimal         @db.Decimal(15, 2)
  newCost           Decimal         @db.Decimal(15, 2)
  adjustment        Decimal         @db.Decimal(15, 2) // newCost - oldCost
  
  // Quantity affected
  quantity          Int             @default(0)
  totalAdjustment   Decimal         @db.Decimal(15, 2) // adjustment * quantity
  
  // Reason
  reason            String?
  
  // Audit
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  
  @@map("cost_adjustment_items")
}
