// ═══════════════════════════════════════════════════════════════
// EMPLOYEE MODEL
// ═══════════════════════════════════════════════════════════════
// SystemId: EMP000001 (English)
// BusinessId: NV000001 (Vietnamese - Nhân viên)
// ═══════════════════════════════════════════════════════════════

model Employee {
  systemId              String   @id           // EMP000001
  id                    String   @unique       // NV000001
  fullName              String
  
  // Personal Info
  dob                   DateTime?
  placeOfBirth          String?
  gender                Gender   @default(OTHER)
  phone                 String?
  personalEmail         String?
  workEmail             String?
  nationalId            String?
  nationalIdIssueDate   DateTime?
  nationalIdIssuePlace  String?
  avatarUrl             String?
  avatar                String?
  
  // Address
  permanentAddress      String?
  temporaryAddress      String?
  
  // Organization
  departmentId          String?
  department            Department? @relation(fields: [departmentId], references: [systemId])
  jobTitleId            String?
  jobTitle              JobTitle?  @relation(fields: [jobTitleId], references: [systemId])
  branchId              String?
  branch                Branch?    @relation(fields: [branchId], references: [systemId])
  managerId             String?
  manager               Employee?  @relation("EmployeeManager", fields: [managerId], references: [systemId])
  subordinates          Employee[] @relation("EmployeeManager")
  
  // Employment
  hireDate              DateTime?
  startDate             DateTime?
  endDate               DateTime?
  terminationDate       DateTime?
  reasonForLeaving      String?
  employeeType          EmployeeType     @default(FULLTIME)
  employmentStatus      EmploymentStatus @default(ACTIVE)
  role                  String?
  
  // Salary
  baseSalary            Decimal?   @db.Decimal(15, 2)
  socialInsuranceSalary Decimal?   @db.Decimal(15, 2)
  positionAllowance     Decimal?   @db.Decimal(15, 2)
  mealAllowance         Decimal?   @db.Decimal(15, 2)
  otherAllowances       Decimal?   @db.Decimal(15, 2)
  numberOfDependents    Int?
  
  // Contract
  contractNumber        String?
  contractStartDate     DateTime?
  contractEndDate       DateTime?
  contractType          String?
  probationEndDate      DateTime?
  
  // Banking
  bankAccountNumber     String?
  bankName              String?
  bankBranch            String?
  
  // Tax & Insurance
  personalTaxId         String?
  socialInsuranceNumber String?
  
  // Leave
  annualLeaveBalance    Int        @default(12)
  
  // Notes
  notes                 String?
  
  // Relations
  user                  User?
  leaves                Leave[]
  attendanceRecords     AttendanceRecord[]
  payrollItems          PayrollItem[]
  penalties             Penalty[]
  
  // Soft delete
  isDeleted             Boolean  @default(false)
  deletedAt             DateTime?
  
  // Audit
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
  createdBy             String?
  updatedBy             String?
  
  @@map("employees")
}
