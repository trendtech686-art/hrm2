// ═══════════════════════════════════════════════════════════════
// PAYMENT MODEL (Chi tiền)
// ═══════════════════════════════════════════════════════════════
// SystemId: PAY0000000001 (English, 10 digits)
// BusinessId: PC0000000001 (Vietnamese - Phiếu chi, 10 digits)
// ═══════════════════════════════════════════════════════════════

model Payment {
  systemId          String          @id           // PAY0000000001
  id                String          @unique       // PC0000000001
  
  // Related Purchase Order
  purchaseOrderId   String?
  purchaseOrder     PurchaseOrder?  @relation(fields: [purchaseOrderId], references: [systemId])
  
  // Supplier
  supplierId        String?
  supplierName      String?
  
  // Branch
  branchId          String?
  branch            Branch?         @relation(fields: [branchId], references: [systemId])
  
  // Cash Account
  cashAccountId     String?
  cashAccount       CashAccount?    @relation(fields: [cashAccountId], references: [systemId])
  
  // Payment details
  paymentDate       DateTime        @default(now())
  amount            Decimal         @db.Decimal(15, 2)
  paymentMethod     String?
  reference         String?
  
  // Status
  status            String          @default("completed")
  
  // Notes
  description       String?
  notes             String?
  
  // Soft delete
  isDeleted         Boolean         @default(false)
  deletedAt         DateTime?
  
  // Audit
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  createdBy         String?
  updatedBy         String?
  
  @@map("payments")
}
