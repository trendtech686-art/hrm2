// ═══════════════════════════════════════════════════════════════
// DEPARTMENT MODEL
// ═══════════════════════════════════════════════════════════════
// SystemId: DEPT000001 (English)
// BusinessId: PB000001 (Vietnamese - Phòng ban)
// ═══════════════════════════════════════════════════════════════

model Department {
  systemId    String   @id           // DEPT000001
  id          String   @unique       // PB000001
  name        String
  description String?
  managerId   String?
  
  // Self-referencing for hierarchy
  parentId    String?
  parent      Department?  @relation("DepartmentHierarchy", fields: [parentId], references: [systemId])
  children    Department[] @relation("DepartmentHierarchy")
  
  // Relations
  employees   Employee[]
  
  // Soft delete
  isDeleted   Boolean  @default(false)
  deletedAt   DateTime?
  
  // Audit
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  createdBy   String?
  updatedBy   String?
  
  @@map("departments")
}
