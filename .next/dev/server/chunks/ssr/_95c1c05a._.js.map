{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/provinces/api/provinces-api.ts"],"sourcesContent":["/**\r\n * Provinces API Layer\r\n * Handles all province, district, ward-related API calls\r\n */\r\n\r\nimport type { Province, District, Ward } from '../types';\r\n\r\nexport interface ProvinceFilters {\r\n  page?: number;\r\n  limit?: number;\r\n  search?: string;\r\n}\r\n\r\nexport interface DistrictFilters {\r\n  page?: number;\r\n  limit?: number;\r\n  provinceId?: string;\r\n  search?: string;\r\n}\r\n\r\nexport interface WardFilters {\r\n  page?: number;\r\n  limit?: number;\r\n  provinceId?: string;\r\n  districtId?: number;\r\n  level?: string;\r\n  search?: string;\r\n}\r\n\r\nexport interface LocationResponse<T> {\r\n  data: T[];\r\n  pagination: {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    totalPages: number;\r\n  };\r\n}\r\n\r\nconst BASE_URL = '/api/settings/locations';\r\n\r\n// ============== Province API ==============\r\n\r\nexport async function fetchProvinces(\r\n  filters: ProvinceFilters = {}\r\n): Promise<LocationResponse<Province>> {\r\n  const params = new URLSearchParams();\r\n  if (filters.page) params.set('page', String(filters.page));\r\n  if (filters.limit) params.set('limit', String(filters.limit));\r\n  if (filters.search) params.set('search', filters.search);\r\n\r\n  const url = params.toString() ? `${BASE_URL}/provinces?${params}` : `${BASE_URL}/provinces`;\r\n  const response = await fetch(url);\r\n  \r\n  if (!response.ok) throw new Error('Failed to fetch provinces');\r\n  return response.json();\r\n}\r\n\r\nexport async function fetchProvinceById(systemId: string): Promise<Province> {\r\n  const response = await fetch(`${BASE_URL}/provinces/${systemId}`);\r\n  if (!response.ok) throw new Error('Failed to fetch province');\r\n  return response.json();\r\n}\r\n\r\nexport async function fetchAllProvinces(): Promise<Province[]> {\r\n  const response = await fetchProvinces({ limit: 100 });\r\n  return response.data;\r\n}\r\n\r\n// ============== District API ==============\r\n\r\nexport async function fetchDistricts(\r\n  filters: DistrictFilters = {}\r\n): Promise<LocationResponse<District>> {\r\n  const params = new URLSearchParams();\r\n  if (filters.page) params.set('page', String(filters.page));\r\n  if (filters.limit) params.set('limit', String(filters.limit));\r\n  if (filters.provinceId) params.set('provinceId', filters.provinceId);\r\n  if (filters.search) params.set('search', filters.search);\r\n\r\n  const url = params.toString() ? `${BASE_URL}/districts?${params}` : `${BASE_URL}/districts`;\r\n  const response = await fetch(url);\r\n  \r\n  if (!response.ok) throw new Error('Failed to fetch districts');\r\n  return response.json();\r\n}\r\n\r\nexport async function fetchDistrictsByProvince(provinceId: string): Promise<District[]> {\r\n  const response = await fetchDistricts({ provinceId, limit: 100 });\r\n  return response.data;\r\n}\r\n\r\n// ============== Ward API ==============\r\n\r\nexport async function fetchWards(\r\n  filters: WardFilters = {}\r\n): Promise<LocationResponse<Ward>> {\r\n  const params = new URLSearchParams();\r\n  if (filters.page) params.set('page', String(filters.page));\r\n  if (filters.limit) params.set('limit', String(filters.limit));\r\n  if (filters.provinceId) params.set('provinceId', filters.provinceId);\r\n  if (filters.districtId) params.set('districtId', String(filters.districtId));\r\n  if (filters.level) params.set('level', filters.level);\r\n  if (filters.search) params.set('search', filters.search);\r\n\r\n  const url = params.toString() ? `${BASE_URL}/wards?${params}` : `${BASE_URL}/wards`;\r\n  const response = await fetch(url);\r\n  \r\n  if (!response.ok) throw new Error('Failed to fetch wards');\r\n  return response.json();\r\n}\r\n\r\nexport async function fetchWardsByDistrict(districtId: number): Promise<Ward[]> {\r\n  const response = await fetchWards({ districtId, limit: 500 });\r\n  return response.data;\r\n}\r\n\r\nexport async function fetchWardsByProvince(provinceId: string): Promise<Ward[]> {\r\n  const response = await fetchWards({ provinceId, limit: 500 });\r\n  return response.data;\r\n}\r\n\r\nexport async function fetchAllWards(): Promise<Ward[]> {\r\n  const response = await fetchWards({ limit: 2000 });\r\n  return response.data;\r\n}\r\n\r\n// ============== Province Mutations ==============\r\n\r\nexport async function createProvince(data: Omit<Province, 'systemId'>): Promise<Province> {\r\n  const response = await fetch(`${BASE_URL}/provinces`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  if (!response.ok) throw new Error('Failed to create province');\r\n  return response.json();\r\n}\r\n\r\nexport async function updateProvince(systemId: string, data: Partial<Province>): Promise<Province> {\r\n  const response = await fetch(`${BASE_URL}/provinces/${systemId}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  if (!response.ok) throw new Error('Failed to update province');\r\n  return response.json();\r\n}\r\n\r\nexport async function deleteProvince(systemId: string): Promise<void> {\r\n  const response = await fetch(`${BASE_URL}/provinces/${systemId}`, {\r\n    method: 'DELETE',\r\n  });\r\n  if (!response.ok) throw new Error('Failed to delete province');\r\n}\r\n\r\n// ============== District Mutations ==============\r\n\r\nexport async function createDistrict(data: Omit<District, 'systemId'>): Promise<District> {\r\n  const response = await fetch(`${BASE_URL}/districts`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  if (!response.ok) throw new Error('Failed to create district');\r\n  return response.json();\r\n}\r\n\r\nexport async function updateDistrict(systemId: string, data: Partial<District>): Promise<District> {\r\n  const response = await fetch(`${BASE_URL}/districts/${systemId}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  if (!response.ok) throw new Error('Failed to update district');\r\n  return response.json();\r\n}\r\n\r\nexport async function deleteDistrict(systemId: string): Promise<void> {\r\n  const response = await fetch(`${BASE_URL}/districts/${systemId}`, {\r\n    method: 'DELETE',\r\n  });\r\n  if (!response.ok) throw new Error('Failed to delete district');\r\n}\r\n\r\n// ============== Ward Mutations ==============\r\n\r\nexport async function createWard(data: Omit<Ward, 'systemId'>): Promise<Ward> {\r\n  const response = await fetch(`${BASE_URL}/wards`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  if (!response.ok) throw new Error('Failed to create ward');\r\n  return response.json();\r\n}\r\n\r\nexport async function updateWard(systemId: string, data: Partial<Ward>): Promise<Ward> {\r\n  const response = await fetch(`${BASE_URL}/wards/${systemId}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  if (!response.ok) throw new Error('Failed to update ward');\r\n  return response.json();\r\n}\r\n\r\nexport async function deleteWard(systemId: string): Promise<void> {\r\n  const response = await fetch(`${BASE_URL}/wards/${systemId}`, {\r\n    method: 'DELETE',\r\n  });\r\n  if (!response.ok) throw new Error('Failed to delete ward');\r\n}\r\n\r\n// ============== Bulk Import ==============\r\n\r\nexport type AdministrativeImportPayload = {\r\n  provinces: Array<Omit<Province, 'systemId'>>;\r\n  wards: Array<Omit<Ward, 'systemId'>>;\r\n};\r\n\r\nexport async function importAdministrativeUnits(payload: AdministrativeImportPayload): Promise<void> {\r\n  const response = await fetch(`${BASE_URL}/import`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(payload),\r\n  });\r\n  if (!response.ok) throw new Error('Failed to import administrative units');\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/provinces/hooks/use-provinces.ts"],"sourcesContent":["/**\r\n * Provinces React Query Hooks\r\n * Provides data fetching for provinces, districts, wards\r\n */\r\n\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport {\r\n  fetchProvinces,\r\n  fetchProvinceById,\r\n  fetchAllProvinces,\r\n  fetchDistricts,\r\n  fetchDistrictsByProvince,\r\n  fetchWards,\r\n  fetchWardsByDistrict,\r\n  fetchWardsByProvince,\r\n  fetchAllWards,\r\n  createProvince,\r\n  updateProvince,\r\n  deleteProvince,\r\n  createDistrict,\r\n  updateDistrict,\r\n  deleteDistrict,\r\n  createWard,\r\n  updateWard,\r\n  deleteWard,\r\n  importAdministrativeUnits,\r\n  type ProvinceFilters,\r\n  type DistrictFilters,\r\n  type WardFilters,\r\n  type AdministrativeImportPayload,\r\n} from '../api/provinces-api';\r\nimport type { Province, District, Ward } from '../types';\r\n\r\n// Query keys factory\r\nexport const locationKeys = {\r\n  all: ['locations'] as const,\r\n  provinces: () => [...locationKeys.all, 'provinces'] as const,\r\n  provinceList: (filters: ProvinceFilters) => [...locationKeys.provinces(), 'list', filters] as const,\r\n  provinceDetail: (id: string) => [...locationKeys.provinces(), 'detail', id] as const,\r\n  allProvinces: () => [...locationKeys.provinces(), 'all'] as const,\r\n  districts: () => [...locationKeys.all, 'districts'] as const,\r\n  districtList: (filters: DistrictFilters) => [...locationKeys.districts(), 'list', filters] as const,\r\n  districtsByProvince: (provinceId: string) => [...locationKeys.districts(), 'province', provinceId] as const,\r\n  wards: () => [...locationKeys.all, 'wards'] as const,\r\n  wardList: (filters: WardFilters) => [...locationKeys.wards(), 'list', filters] as const,\r\n  wardsByDistrict: (districtId: number) => [...locationKeys.wards(), 'district', districtId] as const,\r\n  wardsByProvince: (provinceId: string) => [...locationKeys.wards(), 'province', provinceId] as const,\r\n  allWards: () => [...locationKeys.wards(), 'all'] as const,\r\n};\r\n\r\n// ============== Province Hooks ==============\r\n\r\nexport function useProvinces(filters: ProvinceFilters = {}) {\r\n  return useQuery({\r\n    queryKey: locationKeys.provinceList(filters),\r\n    queryFn: () => fetchProvinces(filters),\r\n    staleTime: 1000 * 60 * 60, // 1 hour - provinces rarely change\r\n  });\r\n}\r\n\r\nexport function useAllProvinces() {\r\n  return useQuery({\r\n    queryKey: locationKeys.allProvinces(),\r\n    queryFn: fetchAllProvinces,\r\n    staleTime: 1000 * 60 * 60 * 24, // 24 hours\r\n  });\r\n}\r\n\r\nexport function useProvinceById(systemId: string | undefined) {\r\n  return useQuery({\r\n    queryKey: locationKeys.provinceDetail(systemId!),\r\n    queryFn: () => fetchProvinceById(systemId!),\r\n    enabled: !!systemId,\r\n    staleTime: 1000 * 60 * 60,\r\n  });\r\n}\r\n\r\n// ============== District Hooks ==============\r\n\r\nexport function useDistricts(filters: DistrictFilters = {}) {\r\n  return useQuery({\r\n    queryKey: locationKeys.districtList(filters),\r\n    queryFn: () => fetchDistricts(filters),\r\n    staleTime: 1000 * 60 * 60,\r\n  });\r\n}\r\n\r\nexport function useDistrictsByProvince(provinceId: string | undefined) {\r\n  return useQuery({\r\n    queryKey: locationKeys.districtsByProvince(provinceId!),\r\n    queryFn: () => fetchDistrictsByProvince(provinceId!),\r\n    enabled: !!provinceId,\r\n    staleTime: 1000 * 60 * 60,\r\n  });\r\n}\r\n\r\n// ============== Ward Hooks ==============\r\n\r\nexport function useWards(filters: WardFilters = {}) {\r\n  return useQuery({\r\n    queryKey: locationKeys.wardList(filters),\r\n    queryFn: () => fetchWards(filters),\r\n    staleTime: 1000 * 60 * 60,\r\n  });\r\n}\r\n\r\nexport function useWardsByDistrict(districtId: number | undefined) {\r\n  return useQuery({\r\n    queryKey: locationKeys.wardsByDistrict(districtId!),\r\n    queryFn: () => fetchWardsByDistrict(districtId!),\r\n    enabled: !!districtId,\r\n    staleTime: 1000 * 60 * 60,\r\n  });\r\n}\r\n\r\nexport function useWardsByProvince(provinceId: string | undefined) {\r\n  return useQuery({\r\n    queryKey: locationKeys.wardsByProvince(provinceId!),\r\n    queryFn: () => fetchWardsByProvince(provinceId!),\r\n    enabled: !!provinceId,\r\n    staleTime: 1000 * 60 * 60,\r\n  });\r\n}\r\n\r\nexport function useAllWards() {\r\n  return useQuery({\r\n    queryKey: locationKeys.allWards(),\r\n    queryFn: fetchAllWards,\r\n    staleTime: 1000 * 60 * 60 * 24, // 24 hours - wards rarely change\r\n  });\r\n}\r\n\r\n// ============== Province Mutations ==============\r\n\r\ninterface UseProvinceMutationsOptions {\r\n  onSuccess?: () => void;\r\n  onError?: (error: Error) => void;\r\n}\r\n\r\nexport function useProvinceMutations(options: UseProvinceMutationsOptions = {}) {\r\n  const queryClient = useQueryClient();\r\n\r\n  const invalidateAll = () => {\r\n    queryClient.invalidateQueries({ queryKey: locationKeys.provinces() });\r\n  };\r\n\r\n  const add = useMutation({\r\n    mutationFn: (data: Omit<Province, 'systemId'>) => createProvince(data),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  const update = useMutation({\r\n    mutationFn: ({ systemId, data }: { systemId: string; data: Partial<Province> }) =>\r\n      updateProvince(systemId, data),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  const remove = useMutation({\r\n    mutationFn: (systemId: string) => deleteProvince(systemId),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  return { add, update, remove };\r\n}\r\n\r\n// ============== District Mutations ==============\r\n\r\ninterface UseDistrictMutationsOptions {\r\n  onSuccess?: () => void;\r\n  onError?: (error: Error) => void;\r\n}\r\n\r\nexport function useDistrictMutations(options: UseDistrictMutationsOptions = {}) {\r\n  const queryClient = useQueryClient();\r\n\r\n  const invalidateAll = () => {\r\n    queryClient.invalidateQueries({ queryKey: locationKeys.districts() });\r\n  };\r\n\r\n  const add = useMutation({\r\n    mutationFn: (data: Omit<District, 'systemId'>) => createDistrict(data),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  const update = useMutation({\r\n    mutationFn: ({ systemId, data }: { systemId: string; data: Partial<District> }) =>\r\n      updateDistrict(systemId, data),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  const remove = useMutation({\r\n    mutationFn: (systemId: string) => deleteDistrict(systemId),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  return { add, update, remove };\r\n}\r\n\r\n// ============== Ward Mutations ==============\r\n\r\ninterface UseWardMutationsOptions {\r\n  onSuccess?: () => void;\r\n  onError?: (error: Error) => void;\r\n}\r\n\r\nexport function useWardMutations(options: UseWardMutationsOptions = {}) {\r\n  const queryClient = useQueryClient();\r\n\r\n  const invalidateAll = () => {\r\n    queryClient.invalidateQueries({ queryKey: locationKeys.wards() });\r\n  };\r\n\r\n  const add = useMutation({\r\n    mutationFn: (data: Omit<Ward, 'systemId'>) => createWard(data),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  const update = useMutation({\r\n    mutationFn: ({ systemId, data }: { systemId: string; data: Partial<Ward> }) =>\r\n      updateWard(systemId, data),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  const remove = useMutation({\r\n    mutationFn: (systemId: string) => deleteWard(systemId),\r\n    onSuccess: () => {\r\n      invalidateAll();\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n\r\n  return { add, update, remove };\r\n}\r\n\r\n// ============== Import Mutation ==============\r\n\r\nexport function useAdministrativeImportMutation(options: UseProvinceMutationsOptions = {}) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (payload: AdministrativeImportPayload) => importAdministrativeUnits(payload),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: locationKeys.all });\r\n      options.onSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/id-types.ts"],"sourcesContent":["/**\r\n * Type-safe ID System\r\n * \r\n * Prevents mixing systemId with business ID at compile time\r\n */\r\n\r\n// Branded types for type safety\r\nexport type SystemId = string & { readonly __brand: 'SystemId' };\r\nexport type BusinessId = string & { readonly __brand: 'BusinessId' };\r\n\r\n/**\r\n * Create a SystemId from a string\r\n * Use this when you know for sure it's a systemId\r\n */\r\nexport function asSystemId(id: string): SystemId {\r\n  return id as SystemId;\r\n}\r\n\r\n/**\r\n * Create a BusinessId from a string\r\n * Use this when you know for sure it's a business ID\r\n */\r\nexport function asBusinessId(id: string): BusinessId {\r\n  return id as BusinessId;\r\n}\r\n\r\n/**\r\n * Check if a string is a valid systemId format\r\n */\r\nexport function isSystemIdFormat(id: string): boolean {\r\n  // SystemId: 8 digits + prefix (e.g., NV00000001, VOUCHER00000123)\r\n  return /^[A-Z]+\\d{8}$/.test(id);\r\n}\r\n\r\n/**\r\n * Check if a string is a valid business ID format\r\n */\r\nexport function isBusinessIdFormat(id: string): boolean {\r\n  // Business ID: shorter, variable length (e.g., NV001, PT000001)\r\n  return /^[A-Z]+\\d{3,6}$/.test(id);\r\n}\r\n\r\n/**\r\n * Safely convert unknown ID to proper type\r\n */\r\nexport function parseId(id: string): { type: 'system' | 'business'; value: SystemId | BusinessId } {\r\n  if (isSystemIdFormat(id)) {\r\n    return { type: 'system', value: asSystemId(id) };\r\n  }\r\n  if (isBusinessIdFormat(id)) {\r\n    return { type: 'business', value: asBusinessId(id) };\r\n  }\r\n  throw new Error(`Invalid ID format: ${id}`);\r\n}\r\n\r\n/**\r\n * ID Pair - Always keep systemId and businessId together\r\n */\r\nexport interface IDPair {\r\n  systemId: SystemId;\r\n  businessId: BusinessId;\r\n}\r\n\r\n/**\r\n * Entity with dual IDs\r\n */\r\nexport interface DualIDEntity {\r\n  systemId: SystemId;\r\n  id: BusinessId;\r\n}\r\n\r\n/**\r\n * Store methods with type-safe IDs\r\n */\r\nexport interface TypeSafeStore<T extends DualIDEntity> {\r\n  /** Find by systemId (for queries, relationships) */\r\n  findBySystemId(systemId: SystemId): T | null;\r\n  \r\n  /** Find by business ID (for user input, display) */\r\n  findByBusinessId(businessId: BusinessId): T | null;\r\n  \r\n  /** Update by systemId (always use systemId for updates) */\r\n  updateBySystemId(systemId: SystemId, updates: Partial<T>): void;\r\n  \r\n  /** Delete by systemId (always use systemId for deletes) */\r\n  deleteBySystemId(systemId: SystemId): void;\r\n}\r\n\r\n/**\r\n * Route params with type-safe IDs\r\n */\r\nexport interface RouteParams {\r\n  systemId?: SystemId;\r\n  id?: BusinessId;\r\n}\r\n\r\n/**\r\n * Link builder - always uses systemId\r\n */\r\nexport function buildEntityLink(path: string, entity: DualIDEntity): string {\r\n  return path.replace(':systemId', entity.systemId);\r\n}\r\n\r\n/**\r\n * Display ID - always uses business ID\r\n */\r\nexport function getDisplayId(entity: DualIDEntity): string {\r\n  return entity.id;\r\n}\r\n\r\n/**\r\n * Runtime guard: ensures a string is valid SystemId format and casts it\r\n * Logs warning if format is invalid\r\n */\r\nexport function ensureSystemId(id: string, context?: string): SystemId {\r\n  if (!isSystemIdFormat(id)) {\r\n    console.warn(`[ensureSystemId] Invalid SystemId format: \"${id}\"${context ? ` in ${context}` : ''}`);\r\n  }\r\n  return asSystemId(id);\r\n}\r\n\r\n/**\r\n * Runtime guard: ensures a string is valid BusinessId format and casts it\r\n * Logs warning if format is invalid\r\n */\r\nexport function ensureBusinessId(id: string, context?: string): BusinessId {\r\n  if (!isBusinessIdFormat(id)) {\r\n    console.warn(`[ensureBusinessId] Invalid BusinessId format: \"${id}\"${context ? ` in ${context}` : ''}`);\r\n  }\r\n  return asBusinessId(id);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC,GAED,gCAAgC;;;;;;;;;;;;;;;;;;;;;AAQzB,SAAS,WAAW,EAAU;IACnC,OAAO;AACT;AAMO,SAAS,aAAa,EAAU;IACrC,OAAO;AACT;AAKO,SAAS,iBAAiB,EAAU;IACzC,kEAAkE;IAClE,OAAO,gBAAgB,IAAI,CAAC;AAC9B;AAKO,SAAS,mBAAmB,EAAU;IAC3C,gEAAgE;IAChE,OAAO,kBAAkB,IAAI,CAAC;AAChC;AAKO,SAAS,QAAQ,EAAU;IAChC,IAAI,iBAAiB,KAAK;QACxB,OAAO;YAAE,MAAM;YAAU,OAAO,WAAW;QAAI;IACjD;IACA,IAAI,mBAAmB,KAAK;QAC1B,OAAO;YAAE,MAAM;YAAY,OAAO,aAAa;QAAI;IACrD;IACA,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,IAAI;AAC5C;AA8CO,SAAS,gBAAgB,IAAY,EAAE,MAAoB;IAChE,OAAO,KAAK,OAAO,CAAC,aAAa,OAAO,QAAQ;AAClD;AAKO,SAAS,aAAa,MAAoB;IAC/C,OAAO,OAAO,EAAE;AAClB;AAMO,SAAS,eAAe,EAAU,EAAE,OAAgB;IACzD,IAAI,CAAC,iBAAiB,KAAK;QACzB,QAAQ,IAAI,CAAC,CAAC,2CAA2C,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI;IACpG;IACA,OAAO,WAAW;AACpB;AAMO,SAAS,iBAAiB,EAAU,EAAE,OAAgB;IAC3D,IAAI,CAAC,mBAAmB,KAAK;QAC3B,QAAQ,IAAI,CAAC,CAAC,+CAA+C,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI;IACxG;IACA,OAAO,aAAa;AACtB"}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n \r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n/**\r\n * Generate URL-friendly slug from Vietnamese text\r\n * Handles Vietnamese diacritics and special characters\r\n */\r\nexport function slugify(text: string): string {\r\n  if (!text) return '';\r\n  \r\n  // Vietnamese character map\r\n  const vnMap: Record<string, string> = {\r\n    'à': 'a', 'á': 'a', 'ả': 'a', 'ã': 'a', 'ạ': 'a',\r\n    'ă': 'a', 'ằ': 'a', 'ắ': 'a', 'ẳ': 'a', 'ẵ': 'a', 'ặ': 'a',\r\n    'â': 'a', 'ầ': 'a', 'ấ': 'a', 'ẩ': 'a', 'ẫ': 'a', 'ậ': 'a',\r\n    'đ': 'd',\r\n    'è': 'e', 'é': 'e', 'ẻ': 'e', 'ẽ': 'e', 'ẹ': 'e',\r\n    'ê': 'e', 'ề': 'e', 'ế': 'e', 'ể': 'e', 'ễ': 'e', 'ệ': 'e',\r\n    'ì': 'i', 'í': 'i', 'ỉ': 'i', 'ĩ': 'i', 'ị': 'i',\r\n    'ò': 'o', 'ó': 'o', 'ỏ': 'o', 'õ': 'o', 'ọ': 'o',\r\n    'ô': 'o', 'ồ': 'o', 'ố': 'o', 'ổ': 'o', 'ỗ': 'o', 'ộ': 'o',\r\n    'ơ': 'o', 'ờ': 'o', 'ớ': 'o', 'ở': 'o', 'ỡ': 'o', 'ợ': 'o',\r\n    'ù': 'u', 'ú': 'u', 'ủ': 'u', 'ũ': 'u', 'ụ': 'u',\r\n    'ư': 'u', 'ừ': 'u', 'ứ': 'u', 'ử': 'u', 'ữ': 'u', 'ự': 'u',\r\n    'ỳ': 'y', 'ý': 'y', 'ỷ': 'y', 'ỹ': 'y', 'ỵ': 'y',\r\n  };\r\n  \r\n  return text\r\n    .toLowerCase()\r\n    .split('')\r\n    .map(char => vnMap[char] || char)\r\n    .join('')\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '') // Remove remaining diacritics\r\n    .replace(/[^a-z0-9\\s-]/g, '') // Remove non-alphanumeric\r\n    .replace(/\\s+/g, '-') // Replace spaces with hyphens\r\n    .replace(/-+/g, '-') // Replace multiple hyphens\r\n    .replace(/^-+|-+$/g, ''); // Trim hyphens from ends\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAMO,SAAS,QAAQ,IAAY;IAClC,IAAI,CAAC,MAAM,OAAO;IAElB,2BAA2B;IAC3B,MAAM,QAAgC;QACpC,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QACL,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;IAC/C;IAEA,OAAO,KACJ,WAAW,GACX,KAAK,CAAC,IACN,GAAG,CAAC,CAAA,OAAQ,KAAK,CAAC,KAAK,IAAI,MAC3B,IAAI,CAAC,IACL,SAAS,CAAC,OACV,OAAO,CAAC,oBAAoB,IAAI,8BAA8B;KAC9D,OAAO,CAAC,iBAAiB,IAAI,0BAA0B;KACvD,OAAO,CAAC,QAAQ,KAAK,8BAA8B;KACnD,OAAO,CAAC,OAAO,KAAK,2BAA2B;KAC/C,OAAO,CAAC,YAAY,KAAK,yBAAyB;AACvD"}},
    {"offset": {"line": 683, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-9 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 743, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Form = registerClientReference(\n    function() { throw new Error(\"Attempted to call Form() from the server but Form is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx <module evaluation>\",\n    \"Form\",\n);\nexport const FormControl = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormControl() from the server but FormControl is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx <module evaluation>\",\n    \"FormControl\",\n);\nexport const FormDescription = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormDescription() from the server but FormDescription is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx <module evaluation>\",\n    \"FormDescription\",\n);\nexport const FormField = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormField() from the server but FormField is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx <module evaluation>\",\n    \"FormField\",\n);\nexport const FormItem = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormItem() from the server but FormItem is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx <module evaluation>\",\n    \"FormItem\",\n);\nexport const FormLabel = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormLabel() from the server but FormLabel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx <module evaluation>\",\n    \"FormLabel\",\n);\nexport const FormMessage = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormMessage() from the server but FormMessage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx <module evaluation>\",\n    \"FormMessage\",\n);\nexport const useFormField = registerClientReference(\n    function() { throw new Error(\"Attempted to call useFormField() from the server but useFormField is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx <module evaluation>\",\n    \"useFormField\",\n);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,OAAO,IAAA,wQAAuB,EACvC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,wDACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,wDACA;AAEG,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,wDACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,wDACA;AAEG,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,wDACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,wDACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,wDACA;AAEG,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,wDACA","ignoreList":[0]}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Form = registerClientReference(\n    function() { throw new Error(\"Attempted to call Form() from the server but Form is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx\",\n    \"Form\",\n);\nexport const FormControl = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormControl() from the server but FormControl is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx\",\n    \"FormControl\",\n);\nexport const FormDescription = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormDescription() from the server but FormDescription is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx\",\n    \"FormDescription\",\n);\nexport const FormField = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormField() from the server but FormField is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx\",\n    \"FormField\",\n);\nexport const FormItem = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormItem() from the server but FormItem is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx\",\n    \"FormItem\",\n);\nexport const FormLabel = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormLabel() from the server but FormLabel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx\",\n    \"FormLabel\",\n);\nexport const FormMessage = registerClientReference(\n    function() { throw new Error(\"Attempted to call FormMessage() from the server but FormMessage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx\",\n    \"FormMessage\",\n);\nexport const useFormField = registerClientReference(\n    function() { throw new Error(\"Attempted to call useFormField() from the server but useFormField is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/form.tsx\",\n    \"useFormField\",\n);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,OAAO,IAAA,wQAAuB,EACvC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,oCACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,oCACA;AAEG,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,oCACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,oCACA;AAEG,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,oCACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,oCACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,oCACA;AAEG,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,oCACA","ignoreList":[0]}},
    {"offset": {"line": 841, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 849, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nexport type InputProps = React.ComponentProps<\"input\">;\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,iYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 877, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/provinces/form.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useForm } from \"react-hook-form\"\r\nimport type { Province } from \"./types\"\r\nimport { useAllProvinces } from \"./hooks/use-provinces\";\r\nimport { Button } from \"../../../components/ui/button\"\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"../../../components/ui/form\"\r\nimport { Input } from \"../../../components/ui/input\"\r\n\r\nexport type ProvinceFormValues = Omit<Province, 'systemId'>;\r\n\r\ntype ProvinceFormProps = {\r\n  initialData: Province | null\r\n  onSubmit: (values: ProvinceFormValues) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport function ProvinceForm({ initialData, onSubmit, onCancel }: ProvinceFormProps) {\r\n  const { data: provinces = [] } = useAllProvinces();\r\n  const form = useForm<ProvinceFormValues>({\r\n    defaultValues: initialData || {\r\n      id: \"\", // ✅ Empty string = auto-generate\r\n      name: \"\",\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\r\n        <FormField control={form.control} name=\"id\" render={({ field }) => (\r\n          <FormItem>\r\n            <FormLabel>Mã Tỉnh thành</FormLabel>\r\n            <FormControl><Input placeholder=\"VD: T000001\" {...field} value={field.value ?? ''} /></FormControl>\r\n            <FormMessage />\r\n          </FormItem>\r\n        )} />\r\n        <FormField control={form.control} name=\"name\" render={({ field }) => (\r\n          <FormItem>\r\n            <FormLabel>Tên Tỉnh thành</FormLabel>\r\n            <FormControl><Input placeholder=\"VD: TP. Hồ Chí Minh\" {...field} value={field.value ?? ''} /></FormControl>\r\n            <FormMessage />\r\n          </FormItem>\r\n        )} />\r\n        <div className=\"flex justify-end space-x-2 pt-4\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={onCancel}>Hủy</Button>\r\n            <Button type=\"submit\">Lưu</Button>\r\n        </div>\r\n      </form>\r\n    </Form>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;AACA;AAQA;;;;;;;AAUO,SAAS,aAAa,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAqB;IACjF,MAAM,EAAE,MAAM,YAAY,EAAE,EAAE,GAAG,IAAA,iLAAe;IAChD,MAAM,OAAO,IAAA,mLAAO,EAAqB;QACvC,eAAe,eAAe;YAC5B,IAAI;YACJ,MAAM;QACR;IACF;IAEA,qBACE,8OAAC,iIAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,8OAAC;YAAK,UAAU,KAAK,YAAY,CAAC;YAAW,WAAU;;8BACrD,8OAAC,sIAAS;oBAAC,SAAS,KAAK,OAAO;oBAAE,MAAK;oBAAK,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAC5D,8OAAC,qIAAQ;;8CACP,8OAAC,sIAAS;8CAAC;;;;;;8CACX,8OAAC,wIAAW;8CAAC,cAAA,8OAAC,mIAAK;wCAAC,aAAY;wCAAe,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAC/E,8OAAC,wIAAW;;;;;;;;;;;;;;;;8BAGhB,8OAAC,sIAAS;oBAAC,SAAS,KAAK,OAAO;oBAAE,MAAK;oBAAO,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAC9D,8OAAC,qIAAQ;;8CACP,8OAAC,sIAAS;8CAAC;;;;;;8CACX,8OAAC,wIAAW;8CAAC,cAAA,8OAAC,mIAAK;wCAAC,aAAY;wCAAuB,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CACvF,8OAAC,wIAAW;;;;;;;;;;;;;;;;8BAGhB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,qIAAM;4BAAC,MAAK;4BAAS,SAAQ;4BAAU,SAAS;sCAAU;;;;;;sCAC3D,8OAAC,qIAAM;4BAAC,MAAK;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAKlC"}},
    {"offset": {"line": 1036, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/provinces/ward-form.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useForm } from \"react-hook-form\"\r\nimport type { Ward } from \"./types\"\r\n\r\nimport { Button } from \"../../../components/ui/button\"\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"../../../components/ui/form\"\r\nimport { Input } from \"../../../components/ui/input\"\r\n\r\nexport type WardFormValues = Omit<Ward, 'systemId' | 'provinceId'>;\r\n\r\ntype WardFormProps = {\r\n  initialData: Ward | null\r\n  onSubmit: (values: WardFormValues) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport function WardForm({ initialData, onSubmit, onCancel }: WardFormProps) {\r\n  const form = useForm<WardFormValues>({\r\n    defaultValues: initialData || {\r\n      id: \"\",\r\n      name: \"\",\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\r\n        <FormField control={form.control} name=\"id\" render={({ field }) => (\r\n          <FormItem>\r\n            <FormLabel>Mã Phường/Xã</FormLabel>\r\n            <FormControl><Input placeholder=\"VD: 00001\" {...field} value={field.value ?? ''} /></FormControl>\r\n            <FormMessage />\r\n          </FormItem>\r\n        )} />\r\n        <FormField control={form.control} name=\"name\" render={({ field }) => (\r\n          <FormItem>\r\n            <FormLabel>Tên Phường/Xã</FormLabel>\r\n            <FormControl><Input placeholder=\"VD: Phường Phúc Xá\" {...field} value={field.value ?? ''} /></FormControl>\r\n            <FormMessage />\r\n          </FormItem>\r\n        )} />\r\n        <div className=\"flex justify-end space-x-2 pt-4\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={onCancel}>Hủy</Button>\r\n            <Button type=\"submit\">Lưu</Button>\r\n        </div>\r\n      </form>\r\n    </Form>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAGA;AACA;AAQA;;;;;;AAUO,SAAS,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAiB;IACzE,MAAM,OAAO,IAAA,mLAAO,EAAiB;QACnC,eAAe,eAAe;YAC5B,IAAI;YACJ,MAAM;QACR;IACF;IAEA,qBACE,8OAAC,iIAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,8OAAC;YAAK,UAAU,KAAK,YAAY,CAAC;YAAW,WAAU;;8BACrD,8OAAC,sIAAS;oBAAC,SAAS,KAAK,OAAO;oBAAE,MAAK;oBAAK,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAC5D,8OAAC,qIAAQ;;8CACP,8OAAC,sIAAS;8CAAC;;;;;;8CACX,8OAAC,wIAAW;8CAAC,cAAA,8OAAC,mIAAK;wCAAC,aAAY;wCAAa,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAC7E,8OAAC,wIAAW;;;;;;;;;;;;;;;;8BAGhB,8OAAC,sIAAS;oBAAC,SAAS,KAAK,OAAO;oBAAE,MAAK;oBAAO,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAC9D,8OAAC,qIAAQ;;8CACP,8OAAC,sIAAS;8CAAC;;;;;;8CACX,8OAAC,wIAAW;8CAAC,cAAA,8OAAC,mIAAK;wCAAC,aAAY;wCAAsB,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CACtF,8OAAC,wIAAW;;;;;;;;;;;;;;;;8BAGhB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,qIAAM;4BAAC,MAAK;4BAAS,SAAQ;4BAAU,SAAS;sCAAU;;;;;;sCAC3D,8OAAC,qIAAM;4BAAC,MAAK;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAKlC"}},
    {"offset": {"line": 1192, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/provinces/district-form.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport type { District } from \"./types\"\r\n\r\nimport { Button } from \"../../../components/ui/button\"\r\nimport { Input } from \"../../../components/ui/input\"\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"../../../components/ui/form\"\r\n\r\nexport interface DistrictFormValues {\r\n  id: number\r\n  name: string\r\n  provinceId: string\r\n}\r\n\r\ninterface DistrictFormProps {\r\n  initialData?: District | null\r\n  provinceId: string\r\n  onSubmit: (data: DistrictFormValues) => void\r\n  onCancel: () => void\r\n}\r\n\r\nexport function DistrictForm({ initialData, provinceId, onSubmit, onCancel }: DistrictFormProps) {\r\n  const form = useForm<DistrictFormValues>({\r\n    defaultValues: initialData || {\r\n      id: 0,\r\n      name: '',\r\n      provinceId: provinceId\r\n    }\r\n  })\r\n\r\n  const handleSubmit = (data: DistrictFormValues) => {\r\n    onSubmit({\r\n      ...data,\r\n      provinceId: provinceId\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n        <FormField\r\n          control={form.control}\r\n          name=\"id\"\r\n          rules={{ required: 'Vui lòng nhập mã' }}\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Mã Quận/Huyện</FormLabel>\r\n              <FormControl>\r\n                <Input \r\n                  type=\"number\" \r\n                  placeholder=\"VD: 760\" \r\n                  {...field} \r\n                  value={field.value ?? 0}\r\n                  onChange={e => field.onChange(e.target.valueAsNumber)}\r\n                />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        <FormField\r\n          control={form.control}\r\n          name=\"name\"\r\n          rules={{ required: 'Vui lòng nhập tên' }}\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Tên Quận/Huyện</FormLabel>\r\n              <FormControl>\r\n                <Input \r\n                  placeholder=\"VD: Quận 1\" \r\n                  {...field} \r\n                  value={field.value ?? ''} \r\n                />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        <div className=\"flex justify-end gap-2 pt-4\">\r\n          <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\r\n            Hủy\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {initialData ? 'Cập nhật' : 'Thêm mới'}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Form>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAGA;AACA;AACA;;;;;;AAsBO,SAAS,aAAa,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAqB;IAC7F,MAAM,OAAO,IAAA,mLAAO,EAAqB;QACvC,eAAe,eAAe;YAC5B,IAAI;YACJ,MAAM;YACN,YAAY;QACd;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,SAAS;YACP,GAAG,IAAI;YACP,YAAY;QACd;IACF;IAEA,qBACE,8OAAC,iIAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,8OAAC;YAAK,UAAU,KAAK,YAAY,CAAC;YAAe,WAAU;;8BACzD,8OAAC,sIAAS;oBACR,SAAS,KAAK,OAAO;oBACrB,MAAK;oBACL,OAAO;wBAAE,UAAU;oBAAmB;oBACtC,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,qIAAQ;;8CACP,8OAAC,sIAAS;8CAAC;;;;;;8CACX,8OAAC,wIAAW;8CACV,cAAA,8OAAC,mIAAK;wCACJ,MAAK;wCACL,aAAY;wCACX,GAAG,KAAK;wCACT,OAAO,MAAM,KAAK,IAAI;wCACtB,UAAU,CAAA,IAAK,MAAM,QAAQ,CAAC,EAAE,MAAM,CAAC,aAAa;;;;;;;;;;;8CAGxD,8OAAC,wIAAW;;;;;;;;;;;;;;;;8BAKlB,8OAAC,sIAAS;oBACR,SAAS,KAAK,OAAO;oBACrB,MAAK;oBACL,OAAO;wBAAE,UAAU;oBAAoB;oBACvC,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,qIAAQ;;8CACP,8OAAC,sIAAS;8CAAC;;;;;;8CACX,8OAAC,wIAAW;8CACV,cAAA,8OAAC,mIAAK;wCACJ,aAAY;wCACX,GAAG,KAAK;wCACT,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAG1B,8OAAC,wIAAW;;;;;;;;;;;;;;;;8BAKlB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qIAAM;4BAAC,MAAK;4BAAS,SAAQ;4BAAU,SAAS;sCAAU;;;;;;sCAG3D,8OAAC,qIAAM;4BAAC,MAAK;sCACV,cAAc,aAAa;;;;;;;;;;;;;;;;;;;;;;;AAMxC"}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/smart-prefix.ts"],"sourcesContent":["/**\r\n * Smart Prefix System\r\n * Mapping entity types to their unique prefixes\r\n */\r\n\r\nexport const ENTITY_PREFIXES = {\r\n  // ========================================\r\n  // NHÂN SỰ & TỔ CHỨC (HR & ORGANIZATION)\r\n  // ========================================\r\n  'employees': 'NV',           // Nhân viên (Employee)\r\n  'departments': 'PB',         // Phòng ban (Department)\r\n  'branches': 'CN',            // Chi nhánh (Branch)\r\n  'job-titles': 'CV',          // Chức vụ (Job Title)\r\n  \r\n  // ========================================\r\n  // KHÁCH HÀNG & ĐỐI TÁC (CUSTOMERS & PARTNERS)\r\n  // ========================================\r\n  'customers': 'KH',           // Khách hàng (Customer)\r\n  'suppliers': 'NCC',          // Nhà cung cấp (Supplier)\r\n  'shipping-partners': 'DVVC', // Đơn vị vận chuyển (Shipping Partner)\r\n  \r\n  // ========================================\r\n  // SẢN PHẨM & KHO (PRODUCTS & INVENTORY)\r\n  // ========================================\r\n  'products': 'SP',            // Sản phẩm (Product)\r\n  'brands': 'TH',              // Thương hiệu (Brand)\r\n  'categories': 'DM',          // Danh mục (Category)\r\n  'units': 'DVT',              // Đơn vị tính (Unit)\r\n  'stock-locations': 'KHO',    // Kho hàng (Stock Location)\r\n  'inventory-receipts': 'NK',  // Nhập kho (Inventory Receipt)\r\n  'inventory-checks': 'PKK',   // Phiếu kiểm kho (Inventory Check)\r\n  'stock-transfers': 'PCK',    // Phiếu chuyển kho (Stock Transfer)\r\n  'stock-history': 'LS',       // Lịch sử kho (Stock History)\r\n  \r\n  // ========================================\r\n  // BÁN HÀNG (SALES)\r\n  // ========================================\r\n  'orders': 'DH',              // Đơn hàng (Sales Order)\r\n  'sales-returns': 'TH',       // Trả hàng (Sales Return)\r\n  'sales-channels': 'KENH',    // Kênh bán hàng (Sales Channel)\r\n  'shipments': 'VC',           // Vận chuyển (Shipment)\r\n  \r\n  // ========================================\r\n  // MUA HÀNG (PURCHASING)\r\n  // ========================================\r\n  'purchase-orders': 'PO',     // Đơn mua hàng (Purchase Order)\r\n  'purchase-returns': 'TM',    // Trả mua (Purchase Return)\r\n  \r\n  // ========================================\r\n  // TÀI CHÍNH (FINANCE)\r\n  // ========================================\r\n  'receipts': 'PT',            // Phiếu thu (Receipt)\r\n  'payments': 'PC',            // Phiếu chi (Payment)\r\n  'voucher-receipt': 'PT',     // Alias phiếu thu từ workflow voucher\r\n  'voucher-payment': 'PC',     // Alias phiếu chi từ workflow voucher\r\n  'cashbook': 'SCT',           // Sổ quỹ (Cashbook)\r\n  'reconciliation': 'DT',      // Đối tài (Reconciliation)\r\n  \r\n  // Cài đặt tài chính\r\n  'receipt-types': 'LT',       // Loại thu (Receipt Type)\r\n  'payment-types': 'LC',       // Loại chi (Payment Type)\r\n  'cash-accounts': 'TK',       // Tài khoản tiền (Cash Account)\r\n  'payment-methods': 'PTTT',   // Phương thức thanh toán (Payment Method)\r\n  'pricing-settings': 'GIA',   // Chính sách giá (Pricing Policy)\r\n  'taxes': 'TAX',              // Thuế (Tax)\r\n  \r\n  // ========================================\r\n  // LƯƠNG & NHÂN SỰ (PAYROLL & HR)\r\n  // ========================================\r\n  'payroll': 'BL',             // Bảng lương (Payroll)\r\n  'payslips': 'PL',            // Phiếu lương (Payslip)\r\n  'payroll-audit-log': 'PAL',  // Nhật ký payroll\r\n  'payroll-templates': 'BTP',  // Mẫu bảng lương (Payroll Template)\r\n  'penalties': 'PF',           // Phiếu phạt (Penalty)\r\n  'leaves': 'PN',              // Phép nghỉ (Leave)\r\n  'attendance': 'CC',          // Chấm công (Attendance)\r\n  'duty-schedule': 'PC',       // Phân công (Duty Schedule)\r\n  \r\n  // ========================================\r\n  // KPI & MỤC TIÊU (KPI & TARGETS)\r\n  // ========================================\r\n  'kpi': 'KPI',                // KPI\r\n  'target-groups': 'NHOM',     // Nhóm mục tiêu (Target Group)\r\n  'other-targets': 'MT',       // Mục tiêu khác (Other Target)\r\n  \r\n  // ========================================\r\n  // CÔNG VIỆC & DỊCH VỤ (TASKS & SERVICES)\r\n  // ========================================\r\n  'internal-tasks': 'CVNB',    // Công việc nội bộ (Internal Task)\r\n  'task-templates': 'TMPL',    // Mẫu công việc (Task Template)\r\n  'custom-fields': 'FIELD',    // Trường tùy chỉnh (Custom Field)\r\n  'warranty': 'BH',            // Bảo hành (Warranty)\r\n  'complaints': 'PKN',         // Khiếu nại (Complaint)\r\n  \r\n  // ========================================\r\n  // CÀI ĐẶT & DANH MỤC (SETTINGS & CATEGORIES)\r\n  // ========================================\r\n  'provinces': 'TP',           // Tỉnh/Thành phố (Province)\r\n  'districts': 'QH',           // Quận/Huyện (District)\r\n  'wards': 'PX',               // Phường/Xã (Ward)\r\n  'wiki': 'TL',                // Tài liệu (Wiki)\r\n  'packaging': 'DG',           // Đóng gói (Packaging)\r\n  'audit-log': 'LOG',          // Nhật ký (Audit Log)\r\n  \r\n  // ========================================\r\n  // CÀI ĐẶT KHÁCH HÀNG (CUSTOMER SETTINGS)\r\n  // ========================================\r\n  'customer-types': 'LKH',     // Loại khách hàng (Customer Type)\r\n  'customer-groups': 'NHKH',   // Nhóm khách hàng (Customer Group)\r\n  'customer-sources': 'NKH',   // Nguồn khách hàng (Customer Source)\r\n  'payment-terms': 'HTTT',     // Hạn thanh toán (Payment Term)\r\n  'credit-ratings': 'XHTD',    // Xếp hạng tín dụng (Credit Rating)\r\n  'lifecycle-stages': 'GDL',   // Giai đoạn vòng đời khách hàng\r\n  'sla-settings': 'SLA',       // Cài đặt SLA khách hàng\r\n  \r\n  // ========================================\r\n  // CÀI ĐẶT NHÂN VIÊN (EMPLOYEE SETTINGS)\r\n  // ========================================\r\n  'employee-types': 'LNV',     // Loại nhân viên (Employee Type)\r\n  'employee-statuses': 'TTNV', // Trạng thái nhân viên (Employee Status)\r\n  'contract-types': 'LHD',     // Loại hợp đồng (Contract Type)\r\n  'work-shifts': 'CA',         // Ca làm việc (Work Shift)\r\n  'leave-types': 'LP',         // Loại nghỉ phép (Leave Type)\r\n  'salary-components': 'SC',   // Thành phần lương (Salary Component)\r\n  \r\n  // ========================================\r\n  // CÀI ĐẶT KHÁC (OTHER SETTINGS)\r\n  // ========================================\r\n  'settings': 'CFG',           // Cấu hình (Configuration)\r\n  \r\n  // ========================================\r\n  // AUTHENTICATION & USERS\r\n  // ========================================\r\n  'users': 'USER',             // User accounts (for admin management)\r\n  \r\n  // ========================================\r\n  // PKGX INTEGRATION (phukiengiaxuong.com.vn)\r\n  // ========================================\r\n  'pkgx-categories': 'PKGXCAT',        // Danh mục PKGX\r\n  'pkgx-brands': 'PKGXBRAND',          // Thương hiệu PKGX\r\n  'pkgx-category-mappings': 'CATMAP',  // Mapping danh mục HRM → PKGX\r\n  'pkgx-brand-mappings': 'BRANDMAP',   // Mapping thương hiệu HRM → PKGX\r\n  'pkgx-price-mappings': 'PRICEMAP',   // Mapping bảng giá HRM → PKGX\r\n  'pkgx-sync-logs': 'PKGXLOG',         // Log đồng bộ PKGX\r\n  \r\n} as const;\r\n\r\nexport type EntityType = keyof typeof ENTITY_PREFIXES;\r\n\r\n/**\r\n * Get prefix for an entity type\r\n */\r\nexport function getPrefix(entityType: EntityType): string {\r\n  return ENTITY_PREFIXES[entityType];\r\n}\r\n\r\n/**\r\n * Get all entity types\r\n */\r\nexport function getAllEntityTypes(): EntityType[] {\r\n  return Object.keys(ENTITY_PREFIXES) as EntityType[];\r\n}\r\n\r\n/**\r\n * Check if an entity type exists\r\n */\r\nexport function isValidEntityType(entityType: string): entityType is EntityType {\r\n  return entityType in ENTITY_PREFIXES;\r\n}\r\n\r\n/**\r\n * Get entity type from prefix\r\n */\r\nexport function getEntityTypeFromPrefix(prefix: string): EntityType | null {\r\n  const entry = Object.entries(ENTITY_PREFIXES).find(([_, p]) => p === prefix);\r\n  return entry ? (entry[0] as EntityType) : null;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;AAEM,MAAM,kBAAkB;IAC7B,2CAA2C;IAC3C,wCAAwC;IACxC,2CAA2C;IAC3C,aAAa;IACb,eAAe;IACf,YAAY;IACZ,cAAc;IAEd,2CAA2C;IAC3C,8CAA8C;IAC9C,2CAA2C;IAC3C,aAAa;IACb,aAAa;IACb,qBAAqB;IAErB,2CAA2C;IAC3C,wCAAwC;IACxC,2CAA2C;IAC3C,YAAY;IACZ,UAAU;IACV,cAAc;IACd,SAAS;IACT,mBAAmB;IACnB,sBAAsB;IACtB,oBAAoB;IACpB,mBAAmB;IACnB,iBAAiB;IAEjB,2CAA2C;IAC3C,mBAAmB;IACnB,2CAA2C;IAC3C,UAAU;IACV,iBAAiB;IACjB,kBAAkB;IAClB,aAAa;IAEb,2CAA2C;IAC3C,wBAAwB;IACxB,2CAA2C;IAC3C,mBAAmB;IACnB,oBAAoB;IAEpB,2CAA2C;IAC3C,sBAAsB;IACtB,2CAA2C;IAC3C,YAAY;IACZ,YAAY;IACZ,mBAAmB;IACnB,mBAAmB;IACnB,YAAY;IACZ,kBAAkB;IAElB,oBAAoB;IACpB,iBAAiB;IACjB,iBAAiB;IACjB,iBAAiB;IACjB,mBAAmB;IACnB,oBAAoB;IACpB,SAAS;IAET,2CAA2C;IAC3C,iCAAiC;IACjC,2CAA2C;IAC3C,WAAW;IACX,YAAY;IACZ,qBAAqB;IACrB,qBAAqB;IACrB,aAAa;IACb,UAAU;IACV,cAAc;IACd,iBAAiB;IAEjB,2CAA2C;IAC3C,iCAAiC;IACjC,2CAA2C;IAC3C,OAAO;IACP,iBAAiB;IACjB,iBAAiB;IAEjB,2CAA2C;IAC3C,yCAAyC;IACzC,2CAA2C;IAC3C,kBAAkB;IAClB,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;IACZ,cAAc;IAEd,2CAA2C;IAC3C,6CAA6C;IAC7C,2CAA2C;IAC3C,aAAa;IACb,aAAa;IACb,SAAS;IACT,QAAQ;IACR,aAAa;IACb,aAAa;IAEb,2CAA2C;IAC3C,yCAAyC;IACzC,2CAA2C;IAC3C,kBAAkB;IAClB,mBAAmB;IACnB,oBAAoB;IACpB,iBAAiB;IACjB,kBAAkB;IAClB,oBAAoB;IACpB,gBAAgB;IAEhB,2CAA2C;IAC3C,wCAAwC;IACxC,2CAA2C;IAC3C,kBAAkB;IAClB,qBAAqB;IACrB,kBAAkB;IAClB,eAAe;IACf,eAAe;IACf,qBAAqB;IAErB,2CAA2C;IAC3C,gCAAgC;IAChC,2CAA2C;IAC3C,YAAY;IAEZ,2CAA2C;IAC3C,yBAAyB;IACzB,2CAA2C;IAC3C,SAAS;IAET,2CAA2C;IAC3C,4CAA4C;IAC5C,2CAA2C;IAC3C,mBAAmB;IACnB,eAAe;IACf,0BAA0B;IAC1B,uBAAuB;IACvB,uBAAuB;IACvB,kBAAkB;AAEpB;AAOO,SAAS,UAAU,UAAsB;IAC9C,OAAO,eAAe,CAAC,WAAW;AACpC;AAKO,SAAS;IACd,OAAO,OAAO,IAAI,CAAC;AACrB;AAKO,SAAS,kBAAkB,UAAkB;IAClD,OAAO,cAAc;AACvB;AAKO,SAAS,wBAAwB,MAAc;IACpD,MAAM,QAAQ,OAAO,OAAO,CAAC,iBAAiB,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,GAAK,MAAM;IACrE,OAAO,QAAS,KAAK,CAAC,EAAE,GAAkB;AAC5C"}},
    {"offset": {"line": 1520, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/id-config.ts"],"sourcesContent":["/**\r\n * ⚡ ENTERPRISE ID MANAGEMENT SYSTEM v2.0\r\n * \r\n * SINGLE SOURCE OF TRUTH - Synced with smart-prefix.ts\r\n * \r\n * Features:\r\n * - 60+ entity configurations\r\n * - TypeScript branded types (SystemId, BusinessId)\r\n * - Category grouping for UI\r\n * - Validation rules\r\n * - Store factory integration\r\n * - Backward compatibility\r\n * \r\n * @version 2.0.0\r\n * @date 2025-11-10\r\n */\r\n\r\nimport { ENTITY_PREFIXES, type EntityType } from './smart-prefix';\r\n\r\n// Re-export EntityType for external use\r\nexport type { EntityType };\r\n\r\n// ========================================\r\n// 🏷️ BRANDED TYPES FOR TYPE SAFETY\r\n// ========================================\r\n\r\n/**\r\n * SystemId - Internal unique identifier (6 digits)\r\n * Used for: Database queries, foreign keys, routing\r\n * Example: \"EMP000001\", \"CUSTOMER000001\", \"ORDER000001\"\r\n */\r\nexport type SystemId = string & { readonly __brand: 'SystemId' };\r\n\r\n/**\r\n * BusinessId - User-facing display identifier (6 digits)\r\n * Used for: UI display, breadcrumbs, user communication\r\n * Example: \"NV000001\", \"KH000001\", \"DH000001\"\r\n */\r\nexport type BusinessId = string & { readonly __brand: 'BusinessId' };\r\n\r\n/**\r\n * Create a branded SystemId (use with caution - prefer auto-generation)\r\n */\r\nexport function createSystemId(id: string): SystemId {\r\n  return id as SystemId;\r\n}\r\n\r\n/**\r\n * Create a branded BusinessId (use with caution - prefer auto-generation)\r\n */\r\nexport function createBusinessId(id: string): BusinessId {\r\n  return id as BusinessId;\r\n}\r\n\r\nexport interface FormattedCounterInfo {\r\n  currentBusinessCounter: number;\r\n  currentSystemCounter: number;\r\n  nextBusinessId: BusinessId;\r\n  nextSystemId: SystemId;\r\n  digitCount: number;\r\n  prefix: string;\r\n  systemIdPrefix: string;\r\n  displayName: string;\r\n}\r\n\r\nexport function formatCounterInfo(\r\n  entityType: EntityType,\r\n  counters?: { business?: number | null; system?: number | null }\r\n): FormattedCounterInfo {\r\n  const config = ID_CONFIG[entityType];\r\n  if (!config) {\r\n    throw new Error(`Unknown entity type: ${entityType}`);\r\n  }\r\n\r\n  const currentBusinessCounter = Math.max(0, counters?.business ?? 0);\r\n  const currentSystemCounter = Math.max(0, counters?.system ?? currentBusinessCounter);\r\n  const nextBusinessCounter = currentBusinessCounter + 1;\r\n  const nextSystemCounter = currentSystemCounter + 1;\r\n  const paddedBusiness = String(nextBusinessCounter).padStart(config.digitCount, '0');\r\n  const paddedSystem = String(nextSystemCounter).padStart(config.digitCount, '0');\r\n\r\n  return {\r\n    currentBusinessCounter,\r\n    currentSystemCounter,\r\n    nextBusinessId: createBusinessId(`${config.prefix}${paddedBusiness}`),\r\n    nextSystemId: createSystemId(`${config.systemIdPrefix}${paddedSystem}`),\r\n    digitCount: config.digitCount,\r\n    prefix: config.prefix,\r\n    systemIdPrefix: config.systemIdPrefix,\r\n    displayName: config.displayName,\r\n  };\r\n}\r\n\r\n// ========================================\r\n// 📋 CONFIGURATION INTERFACE\r\n// ========================================\r\n\r\nexport interface EntityIDConfig {\r\n  /** Entity type identifier */\r\n  entityType: EntityType;\r\n  \r\n  /** Prefix for business ID (user-facing) - from smart-prefix.ts */\r\n  prefix: string;\r\n  \r\n  /** Prefix for system ID (internal) - usually same or 'entity-name' */\r\n  systemIdPrefix: string;\r\n  \r\n  /** Number of digits for business ID (e.g., 6 → NV000001) */\r\n  digitCount: number;\r\n  \r\n  /** Display name (Vietnamese) */\r\n  displayName: string;\r\n  \r\n  /** Category for settings UI grouping */\r\n  category: 'hr' | 'finance' | 'inventory' | 'sales' | 'purchasing' | 'service' | 'settings' | 'system';\r\n  \r\n  /** Description or notes */\r\n  description?: string;\r\n  \r\n  /** Custom validation rules */\r\n  validation?: {\r\n    /** Allow users to input custom ID */\r\n    allowCustomId?: boolean;\r\n    /** Regex pattern for validation */\r\n    pattern?: RegExp;\r\n    /** Minimum counter value */\r\n    minValue?: number;\r\n    /** Maximum counter value */\r\n    maxValue?: number;\r\n  };\r\n  \r\n  /** Whether entity uses store-factory auto-generation */\r\n  usesStoreFactory?: boolean;\r\n  \r\n  /** Special handling notes for developers */\r\n  notes?: string;\r\n}\r\n\r\n// ========================================\r\n// 🗂️ COMPLETE CONFIGURATION REGISTRY\r\n// ========================================\r\n\r\n/**\r\n * ID_CONFIG - Central registry for all 60+ entities\r\n * \r\n * ✅ Synced with smart-prefix.ts\r\n * ✅ Includes all missing entities\r\n * ✅ Category organization\r\n */\r\nexport const ID_CONFIG: Record<EntityType, EntityIDConfig> = {\r\n  // ========================================\r\n  // 👥 HR & ORGANIZATION (NHÂN SỰ)\r\n  // ========================================\r\n  \r\n  'employees': {\r\n    entityType: 'employees',\r\n    prefix: ENTITY_PREFIXES['employees'], // 'NV'\r\n    systemIdPrefix: 'EMP',\r\n    digitCount: 6,\r\n    displayName: 'Nhân viên',\r\n    category: 'hr',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'departments': {\r\n    entityType: 'departments',\r\n    prefix: ENTITY_PREFIXES['departments'], // 'PB'\r\n    systemIdPrefix: 'DEPT',\r\n    digitCount: 6,\r\n    displayName: 'Phòng ban',\r\n    category: 'hr',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'branches': {\r\n    entityType: 'branches',\r\n    prefix: ENTITY_PREFIXES['branches'], // 'CN'\r\n    systemIdPrefix: 'BRANCH',\r\n    digitCount: 6,\r\n    displayName: 'Chi nhánh',\r\n    category: 'hr',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'job-titles': {\r\n    entityType: 'job-titles',\r\n    prefix: ENTITY_PREFIXES['job-titles'], // 'CV'\r\n    systemIdPrefix: 'JOB',\r\n    digitCount: 6,\r\n    displayName: 'Chức vụ',\r\n    category: 'hr',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'attendance': {\r\n    entityType: 'attendance',\r\n    prefix: ENTITY_PREFIXES['attendance'], // 'CC'\r\n    systemIdPrefix: 'ATTEND',\r\n    digitCount: 6,\r\n    displayName: 'Chấm công',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'duty-schedule': {\r\n    entityType: 'duty-schedule',\r\n    prefix: ENTITY_PREFIXES['duty-schedule'], // 'PC'\r\n    systemIdPrefix: 'DUTY',\r\n    digitCount: 6,\r\n    displayName: 'Phân công',\r\n    category: 'hr',\r\n    notes: 'Prefix conflict with \"payments\" (PC)',\r\n  },\r\n  \r\n  'payroll': {\r\n    entityType: 'payroll',\r\n    prefix: ENTITY_PREFIXES['payroll'], // 'BL'\r\n    systemIdPrefix: 'PAYROLL',\r\n    digitCount: 6,\r\n    displayName: 'Bảng lương',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'payslips': {\r\n    entityType: 'payslips',\r\n    prefix: ENTITY_PREFIXES['payslips'], // 'PL'\r\n    systemIdPrefix: 'PAYSLIP',\r\n    digitCount: 6,\r\n    displayName: 'Phiếu lương',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n    notes: 'Sinh từ payroll batch store',\r\n  },\r\n  \r\n  'payroll-audit-log': {\r\n    entityType: 'payroll-audit-log',\r\n    prefix: ENTITY_PREFIXES['payroll-audit-log'], // 'PAL'\r\n    systemIdPrefix: 'PAYROLLLOG',\r\n    digitCount: 6,\r\n    displayName: 'Nhật ký payroll',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n  },\r\n  'payroll-templates': {\r\n    entityType: 'payroll-templates',\r\n    prefix: ENTITY_PREFIXES['payroll-templates'], // 'BTP'\r\n    systemIdPrefix: 'PAYTPL',\r\n    digitCount: 6,\r\n    displayName: 'Mẫu bảng lương',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n    notes: 'Dùng cho trang template payroll Phase 3',\r\n  },\r\n  \r\n  'penalties': {\r\n    entityType: 'penalties',\r\n    prefix: ENTITY_PREFIXES['penalties'], // 'PF'\r\n    systemIdPrefix: 'PENALTY',\r\n    digitCount: 6,\r\n    displayName: 'Phiếu phạt',\r\n    category: 'hr',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'leaves': {\r\n    entityType: 'leaves',\r\n    prefix: ENTITY_PREFIXES['leaves'], // 'PN'\r\n    systemIdPrefix: 'LEAVE',\r\n    digitCount: 6,\r\n    displayName: 'Nghỉ phép',\r\n    category: 'hr',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // ========================================\r\n  // 👤 CUSTOMERS & PARTNERS (KHÁCH HÀNG)\r\n  // ========================================\r\n  \r\n  'customers': {\r\n    entityType: 'customers',\r\n    prefix: ENTITY_PREFIXES['customers'], // 'KH'\r\n    systemIdPrefix: 'CUSTOMER',\r\n    digitCount: 6,\r\n    displayName: 'Khách hàng',\r\n    category: 'sales',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'suppliers': {\r\n    entityType: 'suppliers',\r\n    prefix: ENTITY_PREFIXES['suppliers'], // 'NCC'\r\n    systemIdPrefix: 'SUPPLIER',\r\n    digitCount: 6,\r\n    displayName: 'Nhà cung cấp',\r\n    category: 'purchasing',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'shipping-partners': {\r\n    entityType: 'shipping-partners',\r\n    prefix: ENTITY_PREFIXES['shipping-partners'], // 'DVVC'\r\n    systemIdPrefix: 'SHIPPING',\r\n    digitCount: 6,\r\n    displayName: 'Đơn vị vận chuyển',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // ========================================\r\n  // 📦 PRODUCTS & INVENTORY (SẢN PHẨM & KHO)\r\n  // ========================================\r\n  \r\n  'products': {\r\n    entityType: 'products',\r\n    prefix: ENTITY_PREFIXES['products'], // 'SP'\r\n    systemIdPrefix: 'PRODUCT',\r\n    digitCount: 6,\r\n    displayName: 'Sản phẩm',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'brands': {\r\n    entityType: 'brands',\r\n    prefix: ENTITY_PREFIXES['brands'], // 'TH'\r\n    systemIdPrefix: 'BRAND',\r\n    digitCount: 6,\r\n    displayName: 'Thương hiệu',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'categories': {\r\n    entityType: 'categories',\r\n    prefix: ENTITY_PREFIXES['categories'], // 'DM'\r\n    systemIdPrefix: 'CATEGORY',\r\n    digitCount: 6,\r\n    displayName: 'Danh mục',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'units': {\r\n    entityType: 'units',\r\n    prefix: ENTITY_PREFIXES['units'], // 'DVT'\r\n    systemIdPrefix: 'UNIT',\r\n    digitCount: 6,\r\n    displayName: 'Đơn vị tính',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'stock-locations': {\r\n    entityType: 'stock-locations',\r\n    prefix: ENTITY_PREFIXES['stock-locations'], // 'KHO'\r\n    systemIdPrefix: 'STOCK',\r\n    digitCount: 6,\r\n    displayName: 'Vị trí kho',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'inventory-receipts': {\r\n    entityType: 'inventory-receipts',\r\n    prefix: ENTITY_PREFIXES['inventory-receipts'], // 'NK'\r\n    systemIdPrefix: 'INVRECEIPT',\r\n    digitCount: 6,\r\n    displayName: 'Nhập kho',\r\n    category: 'inventory',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'inventory-checks': {\r\n    entityType: 'inventory-checks',\r\n    prefix: ENTITY_PREFIXES['inventory-checks'], // 'PKK'\r\n    systemIdPrefix: 'INVCHECK',\r\n    digitCount: 6,\r\n    displayName: 'Phiếu kiểm kho',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'stock-transfers': {\r\n    entityType: 'stock-transfers',\r\n    prefix: ENTITY_PREFIXES['stock-transfers'], // 'PCK'\r\n    systemIdPrefix: 'TRANSFER',\r\n    digitCount: 6,\r\n    displayName: 'Phiếu chuyển kho',\r\n    category: 'inventory',\r\n    usesStoreFactory: true,\r\n    notes: 'systemId: TRANSFER000001, Business ID: PCK000001',\r\n  },\r\n  \r\n  'stock-history': {\r\n    entityType: 'stock-history',\r\n    prefix: ENTITY_PREFIXES['stock-history'], // 'LS'\r\n    systemIdPrefix: 'HISTORY',\r\n    digitCount: 6,\r\n    displayName: 'Lịch sử kho',\r\n    category: 'inventory',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // ========================================\r\n  // 🛒 SALES (BÁN HÀNG)\r\n  // ========================================\r\n  \r\n  'orders': {\r\n    entityType: 'orders',\r\n    prefix: ENTITY_PREFIXES['orders'], // 'DH'\r\n    systemIdPrefix: 'ORDER',\r\n    digitCount: 6,\r\n    displayName: 'Đơn hàng',\r\n    category: 'sales',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'sales-returns': {\r\n    entityType: 'sales-returns',\r\n    prefix: ENTITY_PREFIXES['sales-returns'], // 'TH'\r\n    systemIdPrefix: 'RETURN',\r\n    digitCount: 6,\r\n    displayName: 'Trả hàng',\r\n    category: 'sales',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'sales-channels': {\r\n    entityType: 'sales-channels',\r\n    prefix: ENTITY_PREFIXES['sales-channels'], // 'KENH'\r\n    systemIdPrefix: 'CHANNEL',\r\n    digitCount: 6,\r\n    displayName: 'Kênh bán hàng',\r\n    category: 'sales',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'shipments': {\r\n    entityType: 'shipments',\r\n    prefix: ENTITY_PREFIXES['shipments'], // 'VC'\r\n    systemIdPrefix: 'SHIPMENT',\r\n    digitCount: 6,\r\n    displayName: 'Vận chuyển',\r\n    category: 'sales',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // ========================================\r\n  // 🏭 PURCHASING (MUA HÀNG)\r\n  // ========================================\r\n  \r\n  'purchase-orders': {\r\n    entityType: 'purchase-orders',\r\n    prefix: ENTITY_PREFIXES['purchase-orders'], // 'PO'\r\n    systemIdPrefix: 'PURCHASE',\r\n    digitCount: 6,\r\n    displayName: 'Đơn mua hàng',\r\n    category: 'purchasing',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'purchase-returns': {\r\n    entityType: 'purchase-returns',\r\n    prefix: ENTITY_PREFIXES['purchase-returns'], // 'TM'\r\n    systemIdPrefix: 'PRETURN',\r\n    digitCount: 6,\r\n    displayName: 'Trả hàng NCC',\r\n    category: 'purchasing',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // ========================================\r\n  // 💰 FINANCE (TÀI CHÍNH)\r\n  // ========================================\r\n  \r\n  'receipts': {\r\n    entityType: 'receipts',\r\n    prefix: ENTITY_PREFIXES['receipts'], // 'PT'\r\n    systemIdPrefix: 'RECEIPT',\r\n    digitCount: 6,\r\n    displayName: 'Phiếu thu',\r\n    category: 'finance',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'payments': {\r\n    entityType: 'payments',\r\n    prefix: ENTITY_PREFIXES['payments'], // 'PC'\r\n    systemIdPrefix: 'PAYMENT',\r\n    digitCount: 6,\r\n    displayName: 'Phiếu chi',\r\n    category: 'finance',\r\n    usesStoreFactory: true,\r\n  },\r\n\r\n  'voucher-receipt': {\r\n    entityType: 'voucher-receipt',\r\n    prefix: ENTITY_PREFIXES['voucher-receipt'], // Alias 'PT'\r\n    systemIdPrefix: 'RECEIPT',\r\n    digitCount: 6,\r\n    displayName: 'Phiếu thu (Voucher)',\r\n    category: 'finance',\r\n    usesStoreFactory: true,\r\n    notes: 'Alias dùng cho các workflow voucher-only hoặc màn hình tổng hợp phiếu thu/chi.',\r\n  },\r\n  \r\n  'voucher-payment': {\r\n    entityType: 'voucher-payment',\r\n    prefix: ENTITY_PREFIXES['voucher-payment'], // Alias 'PC'\r\n    systemIdPrefix: 'PAYMENT',\r\n    digitCount: 6,\r\n    displayName: 'Phiếu chi (Voucher)',\r\n    category: 'finance',\r\n    usesStoreFactory: true,\r\n    notes: 'Alias dùng cho các workflow voucher-only hoặc màn hình tổng hợp phiếu thu/chi.',\r\n  },\r\n  \r\n  'cashbook': {\r\n    entityType: 'cashbook',\r\n    prefix: ENTITY_PREFIXES['cashbook'], // 'SCT'\r\n    systemIdPrefix: 'CASHBOOK',\r\n    digitCount: 6,\r\n    displayName: 'Sổ quỹ tiền mặt',\r\n    category: 'finance',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'reconciliation': {\r\n    entityType: 'reconciliation',\r\n    prefix: ENTITY_PREFIXES['reconciliation'], // 'DT'\r\n    systemIdPrefix: 'RECON',\r\n    digitCount: 6,\r\n    displayName: 'Đối chiếu',\r\n    category: 'finance',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // Finance Settings\r\n  'receipt-types': {\r\n    entityType: 'receipt-types',\r\n    prefix: ENTITY_PREFIXES['receipt-types'], // 'LT'\r\n    systemIdPrefix: 'RECTYPE',\r\n    digitCount: 6,\r\n    displayName: 'Loại thu',\r\n    category: 'finance',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'payment-types': {\r\n    entityType: 'payment-types',\r\n    prefix: ENTITY_PREFIXES['payment-types'], // 'LC'\r\n    systemIdPrefix: 'PAYTYPE',\r\n    digitCount: 6,\r\n    displayName: 'Loại chi',\r\n    category: 'finance',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'cash-accounts': {\r\n    entityType: 'cash-accounts',\r\n    prefix: ENTITY_PREFIXES['cash-accounts'], // 'TK'\r\n    systemIdPrefix: 'ACCOUNT',\r\n    digitCount: 6,\r\n    displayName: 'Tài khoản',\r\n    category: 'finance',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'payment-methods': {\r\n    entityType: 'payment-methods',\r\n    prefix: ENTITY_PREFIXES['payment-methods'], // 'PTTT'\r\n    systemIdPrefix: 'METHOD',\r\n    digitCount: 6,\r\n    displayName: 'Phương thức thanh toán',\r\n    category: 'finance',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'pricing-settings': {\r\n    entityType: 'pricing-settings',\r\n    prefix: ENTITY_PREFIXES['pricing-settings'], // 'GIA'\r\n    systemIdPrefix: 'PRICING',\r\n    digitCount: 6,\r\n    displayName: 'Cài đặt giá',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n\r\n  'taxes': {\r\n    entityType: 'taxes',\r\n    prefix: ENTITY_PREFIXES['taxes'], // 'TAX'\r\n    systemIdPrefix: 'TAX',\r\n    digitCount: 6,\r\n    displayName: 'Thuế',\r\n    category: 'settings',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // ========================================\r\n  // 🎯 KPI & TARGETS (MỤC TIÊU)\r\n  // ========================================\r\n  \r\n  'kpi': {\r\n    entityType: 'kpi',\r\n    prefix: ENTITY_PREFIXES['kpi'], // 'KPI'\r\n    systemIdPrefix: 'KPI',\r\n    digitCount: 6,\r\n    displayName: 'KPI',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'target-groups': {\r\n    entityType: 'target-groups',\r\n    prefix: ENTITY_PREFIXES['target-groups'], // 'NHOM'\r\n    systemIdPrefix: 'TARGET',\r\n    digitCount: 6,\r\n    displayName: 'Nhóm mục tiêu',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'other-targets': {\r\n    entityType: 'other-targets',\r\n    prefix: ENTITY_PREFIXES['other-targets'], // 'MT'\r\n    systemIdPrefix: 'OTHERTARGET',\r\n    digitCount: 6,\r\n    displayName: 'Mục tiêu khác',\r\n    category: 'sales',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // ========================================\r\n  // CUSTOMER SERVICE (DỊCH VỤ)\r\n  // ========================================\r\n  \r\n  'internal-tasks': {\r\n    entityType: 'internal-tasks',\r\n    prefix: ENTITY_PREFIXES['internal-tasks'], // 'CVNB'\r\n    systemIdPrefix: 'TASK',\r\n    digitCount: 6,\r\n    displayName: 'Công việc nội bộ',\r\n    category: 'system',\r\n    usesStoreFactory: true,\r\n    validation: { allowCustomId: true },\r\n  },\r\n  \r\n  'task-templates': {\r\n    entityType: 'task-templates',\r\n    prefix: ENTITY_PREFIXES['task-templates'], // 'TMPL'\r\n    systemIdPrefix: 'TMPL',\r\n    digitCount: 6,\r\n    displayName: 'Mẫu công việc',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'custom-fields': {\r\n    entityType: 'custom-fields',\r\n    prefix: ENTITY_PREFIXES['custom-fields'], // 'FIELD'\r\n    systemIdPrefix: 'FIELD',\r\n    digitCount: 6,\r\n    displayName: 'Trường tùy chỉnh',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'warranty': {\r\n    entityType: 'warranty',\r\n    prefix: ENTITY_PREFIXES['warranty'], // 'BH'\r\n    systemIdPrefix: 'WARRANTY',\r\n    digitCount: 6,\r\n    displayName: 'Bảo hành',\r\n    category: 'service',\r\n    usesStoreFactory: true,\r\n    notes: 'systemId: WARRANTY000001, Business ID: BH000001',\r\n  },\r\n  \r\n  'complaints': {\r\n    entityType: 'complaints',\r\n    prefix: ENTITY_PREFIXES['complaints'], // 'PKN'\r\n    systemIdPrefix: 'COMPLAINT',\r\n    digitCount: 6,\r\n    displayName: 'Khiếu nại',\r\n    category: 'service',\r\n    usesStoreFactory: true,\r\n    notes: 'systemId: COMPLAINT000001, Business ID: PKN000001',\r\n  },\r\n  \r\n  // ========================================\r\n  // ⚙️ SETTINGS & CATEGORIES\r\n  // ========================================\r\n  \r\n  'provinces': {\r\n    entityType: 'provinces',\r\n    prefix: ENTITY_PREFIXES['provinces'], // 'TP'\r\n    systemIdPrefix: 'PROVINCE',\r\n    digitCount: 6,\r\n    displayName: 'Tỉnh/Thành phố',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  'districts': {\r\n    entityType: 'districts',\r\n    prefix: ENTITY_PREFIXES['districts'], // 'QH'\r\n    systemIdPrefix: 'DISTRICT',\r\n    digitCount: 6,\r\n    displayName: 'Quận/Huyện',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  'wards': {\r\n    entityType: 'wards',\r\n    prefix: ENTITY_PREFIXES['wards'], // 'PX'\r\n    systemIdPrefix: 'WARD',\r\n    digitCount: 6,\r\n    displayName: 'Phường/Xã',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'wiki': {\r\n    entityType: 'wiki',\r\n    prefix: ENTITY_PREFIXES['wiki'], // 'TL'\r\n    systemIdPrefix: 'WIKI',\r\n    digitCount: 6,\r\n    displayName: 'Tài liệu',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'packaging': {\r\n    entityType: 'packaging',\r\n    prefix: ENTITY_PREFIXES['packaging'], // 'DG'\r\n    systemIdPrefix: 'PACKAGE',\r\n    digitCount: 6,\r\n    displayName: 'Đóng gói',\r\n    category: 'inventory',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'audit-log': {\r\n    entityType: 'audit-log',\r\n    prefix: ENTITY_PREFIXES['audit-log'], // 'LOG'\r\n    systemIdPrefix: 'LOG',\r\n    digitCount: 10,\r\n    displayName: 'Nhật ký',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // Customer Settings\r\n  'customer-types': {\r\n    entityType: 'customer-types',\r\n    prefix: ENTITY_PREFIXES['customer-types'], // 'LKH'\r\n    systemIdPrefix: 'CUSTTYPE',\r\n    digitCount: 6,\r\n    displayName: 'Loại khách hàng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'customer-groups': {\r\n    entityType: 'customer-groups',\r\n    prefix: ENTITY_PREFIXES['customer-groups'], // 'NHKH'\r\n    systemIdPrefix: 'CUSTGROUP',\r\n    digitCount: 6,\r\n    displayName: 'Nhóm khách hàng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'customer-sources': {\r\n    entityType: 'customer-sources',\r\n    prefix: ENTITY_PREFIXES['customer-sources'], // 'NKH'\r\n    systemIdPrefix: 'CUSTSOURCE',\r\n    digitCount: 6,\r\n    displayName: 'Nguồn khách hàng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'payment-terms': {\r\n    entityType: 'payment-terms',\r\n    prefix: ENTITY_PREFIXES['payment-terms'], // 'HTTT'\r\n    systemIdPrefix: 'PAYTERM',\r\n    digitCount: 6,\r\n    displayName: 'Hình thức thanh toán',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'credit-ratings': {\r\n    entityType: 'credit-ratings',\r\n    prefix: ENTITY_PREFIXES['credit-ratings'], // 'XHTD'\r\n    systemIdPrefix: 'CREDIT',\r\n    digitCount: 6,\r\n    displayName: 'Xếp hạng tín dụng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  'lifecycle-stages': {\r\n    entityType: 'lifecycle-stages',\r\n    prefix: ENTITY_PREFIXES['lifecycle-stages'], // 'GDL'\r\n    systemIdPrefix: 'LIFECYCLE',\r\n    digitCount: 6,\r\n    displayName: 'Giai đoạn vòng đời khách hàng',\r\n    category: 'sales',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  'sla-settings': {\r\n    entityType: 'sla-settings',\r\n    prefix: ENTITY_PREFIXES['sla-settings'], // 'SLA'\r\n    systemIdPrefix: 'SLACFG',\r\n    digitCount: 6,\r\n    displayName: 'Cài đặt SLA khách hàng',\r\n    category: 'sales',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // Employee Settings\r\n  'employee-types': {\r\n    entityType: 'employee-types',\r\n    prefix: ENTITY_PREFIXES['employee-types'], // 'LNV'\r\n    systemIdPrefix: 'EMPTYPE',\r\n    digitCount: 6,\r\n    displayName: 'Loại nhân viên',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'employee-statuses': {\r\n    entityType: 'employee-statuses',\r\n    prefix: ENTITY_PREFIXES['employee-statuses'], // 'TTNV'\r\n    systemIdPrefix: 'EMPSTATUS',\r\n    digitCount: 6,\r\n    displayName: 'Trạng thái nhân viên',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'contract-types': {\r\n    entityType: 'contract-types',\r\n    prefix: ENTITY_PREFIXES['contract-types'], // 'LHD'\r\n    systemIdPrefix: 'CONTRACT',\r\n    digitCount: 6,\r\n    displayName: 'Loại hợp đồng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'work-shifts': {\r\n    entityType: 'work-shifts',\r\n    prefix: ENTITY_PREFIXES['work-shifts'], // 'CA'\r\n    systemIdPrefix: 'WSHIFT',\r\n    digitCount: 6,\r\n    displayName: 'Ca làm việc',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Dùng cho cài đặt ca làm việc & Dual ID trong attendance',\r\n  },\r\n  \r\n  'leave-types': {\r\n    entityType: 'leave-types',\r\n    prefix: ENTITY_PREFIXES['leave-types'], // 'LP'\r\n    systemIdPrefix: 'LEAVETYPE',\r\n    digitCount: 6,\r\n    displayName: 'Loại nghỉ phép',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Quản lý danh mục phép năm/phép đặc biệt',\r\n  },\r\n  \r\n  'salary-components': {\r\n    entityType: 'salary-components',\r\n    prefix: ENTITY_PREFIXES['salary-components'], // 'SC'\r\n    systemIdPrefix: 'SALCOMP',\r\n    digitCount: 6,\r\n    displayName: 'Thành phần lương',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Dùng cho cấu hình payroll engine',\r\n  },\r\n  \r\n  // ========================================\r\n  // 🔐 SYSTEM & AUTH\r\n  // ========================================\r\n  \r\n  'settings': {\r\n    entityType: 'settings',\r\n    prefix: ENTITY_PREFIXES['settings'], // 'CFG'\r\n    systemIdPrefix: 'CONFIG',\r\n    digitCount: 6,\r\n    displayName: 'Cấu hình',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'users': {\r\n    entityType: 'users',\r\n    prefix: ENTITY_PREFIXES['users'], // 'USER'\r\n    systemIdPrefix: 'USER',\r\n    digitCount: 6,\r\n    displayName: 'Người dùng',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // ========================================\r\n  // 🌐 PKGX INTEGRATION (phukiengiaxuong.com.vn)\r\n  // ========================================\r\n  \r\n  'pkgx-categories': {\r\n    entityType: 'pkgx-categories',\r\n    prefix: ENTITY_PREFIXES['pkgx-categories'], // 'PKGXCAT'\r\n    systemIdPrefix: 'PKGXCAT',\r\n    digitCount: 6,\r\n    displayName: 'Danh mục PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Danh mục từ website phukiengiaxuong.com.vn',\r\n  },\r\n  \r\n  'pkgx-brands': {\r\n    entityType: 'pkgx-brands',\r\n    prefix: ENTITY_PREFIXES['pkgx-brands'], // 'PKGXBRAND'\r\n    systemIdPrefix: 'PKGXBRAND',\r\n    digitCount: 6,\r\n    displayName: 'Thương hiệu PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Thương hiệu từ website phukiengiaxuong.com.vn',\r\n  },\r\n  \r\n  'pkgx-category-mappings': {\r\n    entityType: 'pkgx-category-mappings',\r\n    prefix: ENTITY_PREFIXES['pkgx-category-mappings'], // 'CATMAP'\r\n    systemIdPrefix: 'CATMAP',\r\n    digitCount: 6,\r\n    displayName: 'Mapping danh mục PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Mapping danh mục HRM ↔ PKGX',\r\n  },\r\n  \r\n  'pkgx-brand-mappings': {\r\n    entityType: 'pkgx-brand-mappings',\r\n    prefix: ENTITY_PREFIXES['pkgx-brand-mappings'], // 'BRANDMAP'\r\n    systemIdPrefix: 'BRANDMAP',\r\n    digitCount: 6,\r\n    displayName: 'Mapping thương hiệu PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Mapping thương hiệu HRM ↔ PKGX',\r\n  },\r\n  \r\n  'pkgx-price-mappings': {\r\n    entityType: 'pkgx-price-mappings',\r\n    prefix: ENTITY_PREFIXES['pkgx-price-mappings'], // 'PRICEMAP'\r\n    systemIdPrefix: 'PRICEMAP',\r\n    digitCount: 6,\r\n    displayName: 'Mapping giá PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Mapping bảng giá HRM → PKGX price fields',\r\n  },\r\n  \r\n  'pkgx-sync-logs': {\r\n    entityType: 'pkgx-sync-logs',\r\n    prefix: ENTITY_PREFIXES['pkgx-sync-logs'], // 'PKGXLOG'\r\n    systemIdPrefix: 'PKGXLOG',\r\n    digitCount: 6,\r\n    displayName: 'Log đồng bộ PKGX',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n    notes: 'Lưu lịch sử đồng bộ với PKGX',\r\n  },\r\n};\r\n\r\n// ========================================\r\n// 🛠️ HELPER FUNCTIONS\r\n// ========================================\r\n\r\n/**\r\n * Get configuration for an entity type\r\n */\r\nexport function getEntityConfig(entityType: EntityType): EntityIDConfig {\r\n  const config = ID_CONFIG[entityType];\r\n  if (!config) {\r\n    throw new Error(`No configuration found for entity type: ${entityType}`);\r\n  }\r\n  return config;\r\n}\r\n\r\n/**\r\n * Get all entity types in a category\r\n */\r\nexport function getEntitiesByCategory(category: EntityIDConfig['category']): EntityType[] {\r\n  return Object.values(ID_CONFIG)\r\n    .filter(config => config.category === category)\r\n    .map(config => config.entityType);\r\n}\r\n\r\n/**\r\n * Get entities grouped by category\r\n */\r\nexport function getEntityCategories(): Record<string, EntityType[]> {\r\n  const categories: Record<string, EntityType[]> = {\r\n    'hr': [],\r\n    'finance': [],\r\n    'inventory': [],\r\n    'sales': [],\r\n    'purchasing': [],\r\n    'service': [],\r\n    'settings': [],\r\n    'system': [],\r\n  };\r\n  \r\n  Object.values(ID_CONFIG).forEach(config => {\r\n    categories[config.category].push(config.entityType);\r\n  });\r\n  \r\n  return categories;\r\n}\r\n\r\n/**\r\n * Validate ID format for an entity\r\n * Returns validation result with detailed error message\r\n */\r\nexport function validateIdFormat(\r\n  id: string,\r\n  entityType: EntityType\r\n): { valid: boolean; error?: string } {\r\n  const config = getEntityConfig(entityType);\r\n  \r\n  // Check prefix\r\n  if (!id.startsWith(config.prefix)) {\r\n    return { \r\n      valid: false, \r\n      error: `Invalid prefix. Expected \"${config.prefix}\", got \"${id.slice(0, config.prefix.length)}\"` \r\n    };\r\n  }\r\n  \r\n  // Check digit count\r\n  const numberPart = id.substring(config.prefix.length);\r\n  if (numberPart.length !== config.digitCount) {\r\n    const expectedLength = config.prefix.length + config.digitCount;\r\n    return { \r\n      valid: false, \r\n      error: `Invalid length. Expected ${expectedLength} characters, got ${id.length}` \r\n    };\r\n  }\r\n  \r\n  // Check if numeric\r\n  if (!/^\\d+$/.test(numberPart)) {\r\n    return { \r\n      valid: false, \r\n      error: 'Numeric part must contain only digits' \r\n    };\r\n  }\r\n  \r\n  // Custom pattern validation\r\n  if (config.validation?.pattern && !config.validation.pattern.test(id)) {\r\n    return { \r\n      valid: false, \r\n      error: 'ID does not match required pattern' \r\n    };\r\n  }\r\n  \r\n  return { valid: true };\r\n}\r\n\r\n/**\r\n * Check if entity allows custom ID input\r\n */\r\nexport function allowsCustomId(entityType: EntityType): boolean {\r\n  return getEntityConfig(entityType).validation?.allowCustomId ?? false;\r\n}\r\n\r\n/**\r\n * Get entities that use store factory\r\n */\r\nexport function getStoreFactoryEntities(): EntityType[] {\r\n  return Object.values(ID_CONFIG)\r\n    .filter(config => config.usesStoreFactory === true)\r\n    .map(config => config.entityType);\r\n}\r\n\r\n/**\r\n * Get display label for category\r\n */\r\nexport function getCategoryLabel(category: EntityIDConfig['category']): string {\r\n  const labels: Record<EntityIDConfig['category'], string> = {\r\n    'hr': 'Nhân sự & Tổ chức',\r\n    'finance': 'Tài chính',\r\n    'inventory': 'Kho hàng',\r\n    'sales': 'Bán hàng',\r\n    'purchasing': 'Mua hàng',\r\n    'service': 'Dịch vụ khách hàng',\r\n    'settings': 'Cài đặt',\r\n    'system': 'Hệ thống',\r\n  };\r\n  return labels[category];\r\n}\r\n\r\n/**\r\n * Search entities by name or prefix\r\n */\r\nexport function searchEntities(query: string): EntityIDConfig[] {\r\n  const lowerQuery = query.toLowerCase();\r\n  return Object.values(ID_CONFIG).filter(config => \r\n    config.displayName.toLowerCase().includes(lowerQuery) ||\r\n    config.prefix.toLowerCase().includes(lowerQuery) ||\r\n    config.entityType.includes(lowerQuery)\r\n  );\r\n}\r\n\r\n/**\r\n * Get total entity count\r\n */\r\nexport function getTotalEntityCount(): number {\r\n  return Object.keys(ID_CONFIG).length;\r\n}\r\n\r\n/**\r\n * Export configuration for backup/import\r\n */\r\nexport function exportConfig(): string {\r\n  return JSON.stringify(ID_CONFIG, null, 2);\r\n}\r\n\r\n// ========================================\r\n// 📊 STATISTICS & ANALYTICS\r\n// ========================================\r\n\r\nexport interface IDSystemStats {\r\n  totalEntities: number;\r\n  byCategory: Record<string, number>;\r\n  storeFactoryEnabled: number;\r\n  customIdAllowed: number;\r\n  averageDigitCount: number;\r\n}\r\n\r\n/**\r\n * Get ID system statistics\r\n */\r\nexport function getIDSystemStats(): IDSystemStats {\r\n  const configs = Object.values(ID_CONFIG);\r\n  \r\n  const byCategory: Record<string, number> = {};\r\n  let storeFactoryEnabled = 0;\r\n  let customIdAllowed = 0;\r\n  let totalDigits = 0;\r\n  \r\n  configs.forEach(config => {\r\n    // Count by category\r\n    byCategory[config.category] = (byCategory[config.category] || 0) + 1;\r\n    \r\n    // Count features\r\n    if (config.usesStoreFactory) storeFactoryEnabled++;\r\n    if (config.validation?.allowCustomId) customIdAllowed++;\r\n    totalDigits += config.digitCount;\r\n  });\r\n  \r\n  return {\r\n    totalEntities: configs.length,\r\n    byCategory,\r\n    storeFactoryEnabled,\r\n    customIdAllowed,\r\n    averageDigitCount: Math.round(totalDigits / configs.length * 10) / 10,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2536, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/breadcrumb-generator.ts"],"sourcesContent":["/**\r\n * 🍞 BREADCRUMB AUTO-GENERATION SYSTEM\r\n * \r\n * Automatically generates breadcrumbs from route metadata + entity data\r\n * \r\n * Features:\r\n * - Auto-lookup entity name from systemId\r\n * - Falls back to route metadata if entity not found\r\n * - Type-safe with SystemId branded types\r\n * - Supports all entity types from id-config.ts\r\n * \r\n * @example\r\n * ```typescript\r\n * // Route: /receipts/VOUCHER00000123\r\n * const crumbs = generateBreadcrumb(location.pathname);\r\n * // Result: ['Phiếu thu/chi', 'PT000051']\r\n * ```\r\n * \r\n * @version 1.0.0\r\n * @date 2025-11-11\r\n */\r\n\r\nimport { type EntityType, getEntityConfig } from './id-config';\r\nimport { type SystemId } from './id-config';\r\n\r\n// Store registry - lazy loaded to avoid circular dependencies\r\ntype StoreGetter<T> = () => { data: T[] };\r\n\r\ninterface StoreRegistry {\r\n  [key: string]: StoreGetter<any>;\r\n}\r\n\r\nlet storeRegistry: StoreRegistry = {};\r\n\r\n/**\r\n * Register a store for breadcrumb lookup\r\n * Call this in store files to enable auto breadcrumb\r\n */\r\nexport function registerBreadcrumbStore<T extends { systemId: string; id?: string; name?: string }>(\r\n  entityType: EntityType,\r\n  getStore: StoreGetter<T>\r\n) {\r\n  storeRegistry[entityType] = getStore;\r\n}\r\n\r\n/**\r\n * Find entity by systemId and return display name\r\n */\r\nfunction findEntityDisplayName(entityType: EntityType, systemId: string): string | null {\r\n  const getStore = storeRegistry[entityType];\r\n  if (!getStore) return null;\r\n\r\n  try {\r\n    const store = getStore();\r\n    const item = store.data.find((d: any) => d.systemId === systemId);\r\n    \r\n    if (!item) return null;\r\n\r\n    // Priority: name > title > id (business ID) > systemId\r\n    return item.name || item.title || item.id || systemId;\r\n  } catch (error) {\r\n    console.warn(`[Breadcrumb] Failed to lookup ${entityType}:`, error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Parse route path and extract entity info\r\n */\r\ninterface RouteEntityInfo {\r\n  entityType: EntityType | null;\r\n  systemId: string | null;\r\n  displayName: string | null;\r\n}\r\n\r\nfunction parseRouteEntity(pathname: string): RouteEntityInfo {\r\n  // Pattern: /{entity-type}/{systemId}\r\n  const match = pathname.match(/^\\/([^/]+)\\/([^/]+)$/);\r\n  \r\n  if (!match) {\r\n    return { entityType: null, systemId: null, displayName: null };\r\n  }\r\n\r\n  const [, routeType, id] = match;\r\n  \r\n  // Map route type to entity type\r\n  const routeToEntityMap: Record<string, EntityType> = {\r\n    'receipts': 'voucher-receipt',\r\n    'payments': 'voucher-payment',\r\n    'employees': 'employees',\r\n    'customers': 'customers',\r\n    'products': 'products',\r\n    'orders': 'orders',\r\n    'suppliers': 'suppliers',\r\n    'complaints': 'complaints',\r\n    'warranty': 'warranty',\r\n    'purchase-orders': 'purchase-orders',\r\n    'sales-returns': 'sales-returns',\r\n    'purchase-returns': 'purchase-returns',\r\n    'inventory-checks': 'inventory-checks',\r\n  };\r\n\r\n  const entityType = routeToEntityMap[routeType] || null;\r\n  \r\n  if (!entityType) {\r\n    return { entityType: null, systemId: id, displayName: null };\r\n  }\r\n\r\n  // Lookup display name\r\n  const displayName = findEntityDisplayName(entityType, id);\r\n  \r\n  return { entityType, systemId: id, displayName };\r\n}\r\n\r\n/**\r\n * Generate breadcrumb trail from pathname\r\n * \r\n * @param pathname - Current route pathname\r\n * @param routeMeta - Optional route metadata with static breadcrumb\r\n * @returns Array of breadcrumb labels\r\n */\r\nexport function generateBreadcrumb(\r\n  pathname: string,\r\n  routeMeta?: { breadcrumb?: string[] }\r\n): string[] {\r\n  // If route has static breadcrumb metadata, use it as base\r\n  const baseCrumbs = routeMeta?.breadcrumb || [];\r\n  \r\n  // Try to enhance with entity data\r\n  const entityInfo = parseRouteEntity(pathname);\r\n  \r\n  if (entityInfo.displayName) {\r\n    // Replace last breadcrumb with entity display name\r\n    return [...baseCrumbs.slice(0, -1), entityInfo.displayName];\r\n  }\r\n  \r\n  // Fallback to route metadata\r\n  return baseCrumbs;\r\n}\r\n\r\n/**\r\n * Generate breadcrumb for detail page\r\n * \r\n * @example\r\n * ```typescript\r\n * // In voucher detail page (phiếu chi)\r\n * const crumbs = generateDetailBreadcrumb('voucher-payment', voucher.systemId, 'Phiếu thu/chi');\r\n * // Result: ['Phiếu thu/chi', 'PT000051']\r\n * ```\r\n */\r\nexport function generateDetailBreadcrumb(\r\n  entityType: EntityType,\r\n  systemId: string,\r\n  listPageLabel: string\r\n): string[] {\r\n  const displayName = findEntityDisplayName(entityType, systemId);\r\n  return [listPageLabel, displayName || systemId];\r\n}\r\n\r\n/**\r\n * Generate breadcrumb for form page (create/edit)\r\n * \r\n * @example\r\n * ```typescript\r\n * const crumbs = generateFormBreadcrumb('employees', employeeSystemId, 'Nhân viên');\r\n * // Create: ['Nhân viên', 'Thêm mới']\r\n * // Edit: ['Nhân viên', 'NV000001']\r\n * ```\r\n */\r\nexport function generateFormBreadcrumb(\r\n  entityType: EntityType,\r\n  systemId: string | null | undefined,\r\n  listPageLabel: string\r\n): string[] {\r\n  if (!systemId) {\r\n    return [listPageLabel, 'Thêm mới'];\r\n  }\r\n  \r\n  const displayName = findEntityDisplayName(entityType, systemId);\r\n  return [listPageLabel, displayName || 'Chỉnh sửa'];\r\n}\r\n\r\n/**\r\n * Hook for breadcrumb in React components\r\n * \r\n * @example\r\n * ```typescript\r\n * function EmployeeDetailPage() {\r\n *   const { systemId } = useParams();\r\n *   const crumbs = useBreadcrumb('employees', systemId, 'Nhân viên');\r\n *   usePageHeader({ breadcrumb: crumbs });\r\n * }\r\n * ```\r\n */\r\nexport function useBreadcrumb(\r\n  entityType: EntityType,\r\n  systemId: string | null | undefined,\r\n  listPageLabel: string\r\n): string[] {\r\n  if (!systemId) {\r\n    return [listPageLabel, 'Thêm mới'];\r\n  }\r\n  \r\n  return generateDetailBreadcrumb(entityType, systemId, listPageLabel);\r\n}\r\n\r\n/**\r\n * Get entity config for breadcrumb display\r\n */\r\nexport function getEntityDisplayInfo(entityType: EntityType) {\r\n  try {\r\n    const config = getEntityConfig(entityType);\r\n    return {\r\n      displayName: config.displayName,\r\n      prefix: config.prefix,\r\n      category: config.category,\r\n    };\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Clear store registry (for testing)\r\n */\r\nexport function clearBreadcrumbStores() {\r\n  storeRegistry = {};\r\n}\r\n\r\n/**\r\n * Get all registered stores (for debugging)\r\n */\r\nexport function getRegisteredStores(): string[] {\r\n  return Object.keys(storeRegistry);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;CAoBC,GAED;;AAUA,IAAI,gBAA+B,CAAC;AAM7B,SAAS,wBACd,UAAsB,EACtB,QAAwB;IAExB,aAAa,CAAC,WAAW,GAAG;AAC9B;AAEA;;CAEC,GACD,SAAS,sBAAsB,UAAsB,EAAE,QAAgB;IACrE,MAAM,WAAW,aAAa,CAAC,WAAW;IAC1C,IAAI,CAAC,UAAU,OAAO;IAEtB,IAAI;QACF,MAAM,QAAQ;QACd,MAAM,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,QAAQ,KAAK;QAExD,IAAI,CAAC,MAAM,OAAO;QAElB,uDAAuD;QACvD,OAAO,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,EAAE,IAAI;IAC/C,EAAE,OAAO,OAAO;QACd,QAAQ,IAAI,CAAC,CAAC,8BAA8B,EAAE,WAAW,CAAC,CAAC,EAAE;QAC7D,OAAO;IACT;AACF;AAWA,SAAS,iBAAiB,QAAgB;IACxC,qCAAqC;IACrC,MAAM,QAAQ,SAAS,KAAK,CAAC;IAE7B,IAAI,CAAC,OAAO;QACV,OAAO;YAAE,YAAY;YAAM,UAAU;YAAM,aAAa;QAAK;IAC/D;IAEA,MAAM,GAAG,WAAW,GAAG,GAAG;IAE1B,gCAAgC;IAChC,MAAM,mBAA+C;QACnD,YAAY;QACZ,YAAY;QACZ,aAAa;QACb,aAAa;QACb,YAAY;QACZ,UAAU;QACV,aAAa;QACb,cAAc;QACd,YAAY;QACZ,mBAAmB;QACnB,iBAAiB;QACjB,oBAAoB;QACpB,oBAAoB;IACtB;IAEA,MAAM,aAAa,gBAAgB,CAAC,UAAU,IAAI;IAElD,IAAI,CAAC,YAAY;QACf,OAAO;YAAE,YAAY;YAAM,UAAU;YAAI,aAAa;QAAK;IAC7D;IAEA,sBAAsB;IACtB,MAAM,cAAc,sBAAsB,YAAY;IAEtD,OAAO;QAAE;QAAY,UAAU;QAAI;IAAY;AACjD;AASO,SAAS,mBACd,QAAgB,EAChB,SAAqC;IAErC,0DAA0D;IAC1D,MAAM,aAAa,WAAW,cAAc,EAAE;IAE9C,kCAAkC;IAClC,MAAM,aAAa,iBAAiB;IAEpC,IAAI,WAAW,WAAW,EAAE;QAC1B,mDAAmD;QACnD,OAAO;eAAI,WAAW,KAAK,CAAC,GAAG,CAAC;YAAI,WAAW,WAAW;SAAC;IAC7D;IAEA,6BAA6B;IAC7B,OAAO;AACT;AAYO,SAAS,yBACd,UAAsB,EACtB,QAAgB,EAChB,aAAqB;IAErB,MAAM,cAAc,sBAAsB,YAAY;IACtD,OAAO;QAAC;QAAe,eAAe;KAAS;AACjD;AAYO,SAAS,uBACd,UAAsB,EACtB,QAAmC,EACnC,aAAqB;IAErB,IAAI,CAAC,UAAU;QACb,OAAO;YAAC;YAAe;SAAW;IACpC;IAEA,MAAM,cAAc,sBAAsB,YAAY;IACtD,OAAO;QAAC;QAAe,eAAe;KAAY;AACpD;AAcO,SAAS,cACd,UAAsB,EACtB,QAAmC,EACnC,aAAqB;IAErB,IAAI,CAAC,UAAU;QACb,OAAO;YAAC;YAAe;SAAW;IACpC;IAEA,OAAO,yBAAyB,YAAY,UAAU;AACxD;AAKO,SAAS,qBAAqB,UAAsB;IACzD,IAAI;QACF,MAAM,SAAS,IAAA,sIAAe,EAAC;QAC/B,OAAO;YACL,aAAa,OAAO,WAAW;YAC/B,QAAQ,OAAO,MAAM;YACrB,UAAU,OAAO,QAAQ;QAC3B;IACF,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAKO,SAAS;IACd,gBAAgB,CAAC;AACnB;AAKO,SAAS;IACd,OAAO,OAAO,IAAI,CAAC;AACrB"}},
    {"offset": {"line": 2705, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/breadcrumb-system.ts"],"sourcesContent":["/**\r\n * Breadcrumb System\r\n * \r\n * Central exports for breadcrumb functionality.\r\n * Re-exports from breadcrumb-generator.ts with additional types.\r\n */\r\n\r\n// Re-export functions that still make sense\r\nexport {\r\n  generateDetailBreadcrumb,\r\n  generateFormBreadcrumb,\r\n  useBreadcrumb,\r\n  getEntityDisplayInfo,\r\n  registerBreadcrumbStore,\r\n  clearBreadcrumbStores,\r\n  getRegisteredStores,\r\n} from './breadcrumb-generator';\r\n\r\n/**\r\n * Breadcrumb Item Interface\r\n * Used for page header breadcrumb navigation\r\n */\r\nexport interface BreadcrumbItem {\r\n  /** Display label for the breadcrumb */\r\n  label: string;\r\n  /** Route href for navigation */\r\n  href: string;\r\n  /** Whether this is the current/active page */\r\n  isCurrent?: boolean;\r\n}\r\n\r\n/**\r\n * Generate breadcrumb items from pathname\r\n * \r\n * @param pathname - Current route pathname  \r\n * @param context - Optional context data for entity lookup\r\n * @returns Array of BreadcrumbItem\r\n */\r\nexport function generateBreadcrumb(\r\n  pathname: string,\r\n  context?: Record<string, any>\r\n): BreadcrumbItem[] {\r\n  const segments = pathname.split('/').filter(Boolean);\r\n  \r\n  if (segments.length === 0) {\r\n    return [{ label: 'Trang chủ', href: '/', isCurrent: true }];\r\n  }\r\n\r\n  const breadcrumbs: BreadcrumbItem[] = [\r\n    { label: 'Trang chủ', href: '/', isCurrent: false }\r\n  ];\r\n\r\n  let currentPath = '';\r\n  segments.forEach((segment, index) => {\r\n    currentPath += `/${segment}`;\r\n    const isLast = index === segments.length - 1;\r\n    \r\n    // Get display label for segment\r\n    const label = getSegmentLabel(segment, context, isLast);\r\n    \r\n    breadcrumbs.push({\r\n      label,\r\n      href: currentPath,\r\n      isCurrent: isLast\r\n    });\r\n  });\r\n\r\n  return breadcrumbs;\r\n}\r\n\r\n/**\r\n * Get display label for a route segment\r\n */\r\nfunction getSegmentLabel(segment: string, context?: Record<string, any>, isLast?: boolean): string {\r\n  // Check if context provides entity name\r\n  if (context?.name && isLast) {\r\n    return context.name;\r\n  }\r\n  if (context?.title && isLast) {\r\n    return context.title;\r\n  }\r\n  if (context?.id && isLast) {\r\n    return context.id;\r\n  }\r\n\r\n  // Route to label mapping\r\n  const routeLabelMap: Record<string, string> = {\r\n    // Core\r\n    'dashboard': 'Tổng quan',\r\n    'employees': 'Nhân viên',\r\n    'customers': 'Khách hàng',\r\n    'products': 'Sản phẩm',\r\n    'orders': 'Đơn hàng',\r\n    'suppliers': 'Nhà cung cấp',\r\n    'receipts': 'Phiếu thu',\r\n    'payments': 'Phiếu chi',\r\n    'cashbook': 'Sổ quỹ',\r\n    'purchase-orders': 'Đơn mua hàng',\r\n    'purchase-returns': 'Trả hàng NCC',\r\n    'sales-returns': 'Trả hàng',\r\n    'inventory-receipts': 'Nhập kho',\r\n    'inventory-checks': 'Kiểm kho',\r\n    'stock-transfers': 'Chuyển kho',\r\n    'stock-locations': 'Vị trí kho',\r\n    'stock-history': 'Lịch sử kho',\r\n    'cost-adjustments': 'Điều chỉnh giá vốn',\r\n    \r\n    // Settings\r\n    'settings': 'Cài đặt',\r\n    'store-info': 'Thông tin cửa hàng',\r\n    'appearance': 'Giao diện',\r\n    'taxes': 'Thuế',\r\n    'pricing': 'Bảng giá',\r\n    'shipping': 'Vận chuyển',\r\n    'inventory': 'Kho hàng',\r\n    'print-templates': 'Mẫu in',\r\n    'employee-roles': 'Phân quyền',\r\n    'workflow-templates': 'Quy trình',\r\n    'id-counters': 'Mã tự động',\r\n    'provinces': 'Tỉnh thành',\r\n    'sales-config': 'Cấu hình bán hàng',\r\n    'system-logs': 'Nhật ký hệ thống',\r\n    'import-export-logs': 'Nhật ký nhập/xuất',\r\n    \r\n    // Operations\r\n    'warranty': 'Bảo hành',\r\n    'complaints': 'Khiếu nại',\r\n    'tasks': 'Công việc',\r\n    'wiki': 'Wiki',\r\n    'shipments': 'Vận đơn',\r\n    'packaging': 'Đóng gói',\r\n    'attendance': 'Chấm công',\r\n    'leaves': 'Nghỉ phép',\r\n    'payroll': 'Bảng lương',\r\n    \r\n    // Reports\r\n    'reports': 'Báo cáo',\r\n    \r\n    // Forms\r\n    'new': 'Thêm mới',\r\n    'edit': 'Chỉnh sửa',\r\n    \r\n    // Categories\r\n    'categories': 'Danh mục',\r\n    'brands': 'Thương hiệu',\r\n  };\r\n  \r\n  return routeLabelMap[segment] || segment;\r\n}\r\n\r\n/**\r\n * Generate page title from pathname and context\r\n * \r\n * @param pathname - Current route pathname\r\n * @param context - Optional context with entity data\r\n * @returns Object with title and optional subtitle\r\n */\r\nexport function generatePageTitle(\r\n  pathname: string,\r\n  context?: Record<string, any>\r\n): { title: string; subtitle?: string } {\r\n  const segments = pathname.split('/').filter(Boolean);\r\n  const lastSegment = segments[segments.length - 1];\r\n  const secondLastSegment = segments[segments.length - 2];\r\n  \r\n  // Check for entity display name in context\r\n  if (context) {\r\n    const displayName = context.name || context.title || context.id;\r\n    if (displayName) {\r\n      // Determine page type\r\n      if (lastSegment === 'edit') {\r\n        return { title: `Chỉnh sửa ${displayName}` };\r\n      }\r\n      if (lastSegment === 'new') {\r\n        const entityLabel = getSegmentLabel(secondLastSegment);\r\n        return { title: `Thêm ${entityLabel} mới` };\r\n      }\r\n      // Detail page\r\n      return { title: displayName };\r\n    }\r\n  }\r\n  \r\n  // Default title from route\r\n  const title = getSegmentLabel(lastSegment, context);\r\n  return { title };\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;;;CAKC,GAED,4CAA4C;AAC5C;;AA8BO,SAAS,mBACd,QAAgB,EAChB,OAA6B;IAE7B,MAAM,WAAW,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IAE5C,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO;YAAC;gBAAE,OAAO;gBAAa,MAAM;gBAAK,WAAW;YAAK;SAAE;IAC7D;IAEA,MAAM,cAAgC;QACpC;YAAE,OAAO;YAAa,MAAM;YAAK,WAAW;QAAM;KACnD;IAED,IAAI,cAAc;IAClB,SAAS,OAAO,CAAC,CAAC,SAAS;QACzB,eAAe,CAAC,CAAC,EAAE,SAAS;QAC5B,MAAM,SAAS,UAAU,SAAS,MAAM,GAAG;QAE3C,gCAAgC;QAChC,MAAM,QAAQ,gBAAgB,SAAS,SAAS;QAEhD,YAAY,IAAI,CAAC;YACf;YACA,MAAM;YACN,WAAW;QACb;IACF;IAEA,OAAO;AACT;AAEA;;CAEC,GACD,SAAS,gBAAgB,OAAe,EAAE,OAA6B,EAAE,MAAgB;IACvF,wCAAwC;IACxC,IAAI,SAAS,QAAQ,QAAQ;QAC3B,OAAO,QAAQ,IAAI;IACrB;IACA,IAAI,SAAS,SAAS,QAAQ;QAC5B,OAAO,QAAQ,KAAK;IACtB;IACA,IAAI,SAAS,MAAM,QAAQ;QACzB,OAAO,QAAQ,EAAE;IACnB;IAEA,yBAAyB;IACzB,MAAM,gBAAwC;QAC5C,OAAO;QACP,aAAa;QACb,aAAa;QACb,aAAa;QACb,YAAY;QACZ,UAAU;QACV,aAAa;QACb,YAAY;QACZ,YAAY;QACZ,YAAY;QACZ,mBAAmB;QACnB,oBAAoB;QACpB,iBAAiB;QACjB,sBAAsB;QACtB,oBAAoB;QACpB,mBAAmB;QACnB,mBAAmB;QACnB,iBAAiB;QACjB,oBAAoB;QAEpB,WAAW;QACX,YAAY;QACZ,cAAc;QACd,cAAc;QACd,SAAS;QACT,WAAW;QACX,YAAY;QACZ,aAAa;QACb,mBAAmB;QACnB,kBAAkB;QAClB,sBAAsB;QACtB,eAAe;QACf,aAAa;QACb,gBAAgB;QAChB,eAAe;QACf,sBAAsB;QAEtB,aAAa;QACb,YAAY;QACZ,cAAc;QACd,SAAS;QACT,QAAQ;QACR,aAAa;QACb,aAAa;QACb,cAAc;QACd,UAAU;QACV,WAAW;QAEX,UAAU;QACV,WAAW;QAEX,QAAQ;QACR,OAAO;QACP,QAAQ;QAER,aAAa;QACb,cAAc;QACd,UAAU;IACZ;IAEA,OAAO,aAAa,CAAC,QAAQ,IAAI;AACnC;AASO,SAAS,kBACd,QAAgB,EAChB,OAA6B;IAE7B,MAAM,WAAW,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IAC5C,MAAM,cAAc,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE;IACjD,MAAM,oBAAoB,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE;IAEvD,2CAA2C;IAC3C,IAAI,SAAS;QACX,MAAM,cAAc,QAAQ,IAAI,IAAI,QAAQ,KAAK,IAAI,QAAQ,EAAE;QAC/D,IAAI,aAAa;YACf,sBAAsB;YACtB,IAAI,gBAAgB,QAAQ;gBAC1B,OAAO;oBAAE,OAAO,CAAC,UAAU,EAAE,aAAa;gBAAC;YAC7C;YACA,IAAI,gBAAgB,OAAO;gBACzB,MAAM,cAAc,gBAAgB;gBACpC,OAAO;oBAAE,OAAO,CAAC,KAAK,EAAE,YAAY,IAAI,CAAC;gBAAC;YAC5C;YACA,cAAc;YACd,OAAO;gBAAE,OAAO;YAAY;QAC9B;IACF;IAEA,2BAA2B;IAC3B,MAAM,QAAQ,gBAAgB,aAAa;IAC3C,OAAO;QAAE;IAAM;AACjB"}},
    {"offset": {"line": 2858, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/contexts/page-header-context.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport type { BreadcrumbItem } from '../lib/breadcrumb-system';\r\nimport { generateBreadcrumb, generatePageTitle } from '../lib/breadcrumb-system';\r\n\r\n/**\r\n * Page Header State Interface\r\n * Defines the structure of page header data\r\n */\r\nexport interface PageHeaderDocLink {\r\n  href: string;\r\n  label?: string;\r\n}\r\n\r\nexport interface PageHeaderState {\r\n  title?: string | React.ReactNode | undefined;\r\n  subtitle?: string | undefined;\r\n  badge?: React.ReactNode | undefined;\r\n  showBackButton?: boolean | undefined;\r\n  backPath?: string | undefined;\r\n  onBack?: (() => void) | undefined;\r\n  actions?: React.ReactNode[] | React.ReactNode | undefined;\r\n  breadcrumb?: BreadcrumbItem[] | undefined;\r\n  context?: Record<string, any> | undefined; // For dynamic breadcrumb generation\r\n  docLink?: PageHeaderDocLink | undefined;\r\n}\r\n\r\n/**\r\n * Page Header Context\r\n */\r\ninterface PageHeaderContextValue {\r\n  pageHeader: PageHeaderState;\r\n  setPageHeader: (state: PageHeaderState) => void;\r\n  clearPageHeader: () => void;\r\n}\r\n\r\nconst PageHeaderStateContext = React.createContext<PageHeaderState | null>(null);\r\nconst PageHeaderDispatchContext = React.createContext<Omit<PageHeaderContextValue, 'pageHeader'> | null>(null);\r\n\r\n/**\r\n * Page Header Provider\r\n * Wrap your app with this provider to enable page header functionality\r\n */\r\nexport function PageHeaderProvider({ children }: { children: React.ReactNode }) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [pageHeader, setPageHeaderState] = React.useState<PageHeaderState>({});\r\n\r\n  // Auto-clear on route change (optional - can be disabled)\r\n  React.useEffect(() => {\r\n    // Don't auto-clear, let pages set their own headers\r\n    // setPageHeaderState({});\r\n  }, [pathname]);\r\n\r\n  const setPageHeader = React.useCallback((state: PageHeaderState) => {\r\n    setPageHeaderState(prev => {\r\n      // Auto-generate breadcrumb if not provided\r\n      let breadcrumb = state.breadcrumb;\r\n      if (!breadcrumb) {\r\n        breadcrumb = generateBreadcrumb(pathname, state.context);\r\n      } else {\r\n        // ✨ Transform route metadata breadcrumb format\r\n        // Convert: ['Nhân viên', 'Chi tiết'] or [{ label: 'Nhân viên', href: '/employees' }, 'Chi tiết']\r\n        // To: [{ label: 'Nhân viên', href: '/employees', isCurrent: false }, { label: 'Chi tiết', href: pathname, isCurrent: true }]\r\n        breadcrumb = breadcrumb.map((item, index) => {\r\n          if (typeof item === 'string') {\r\n            return {\r\n              label: item,\r\n              href: pathname,\r\n              isCurrent: index === breadcrumb!.length - 1\r\n            };\r\n          }\r\n          return {\r\n            ...item,\r\n            isCurrent: index === breadcrumb!.length - 1\r\n          };\r\n        });\r\n      }\r\n\r\n      // Auto-generate title if not provided\r\n      let title = state.title;\r\n      if (!title) {\r\n        const pageTitle = generatePageTitle(pathname, state.context);\r\n        title = pageTitle.title;\r\n      }\r\n\r\n      // Auto back handler if not provided\r\n      let onBack = state.onBack;\r\n      if (!onBack && state.showBackButton !== false) {\r\n        onBack = () => {\r\n          if (state.backPath) {\r\n            router.push(state.backPath);\r\n          } else {\r\n            router.back();\r\n          }\r\n        };\r\n      }\r\n\r\n      // ✅ KHÔNG spread prev để tránh giữ lại state cũ (như badge)\r\n      return {\r\n        ...state,\r\n        breadcrumb,\r\n        title,\r\n        onBack,\r\n      };\r\n    });\r\n  }, [pathname, router]);\r\n\r\n  const clearPageHeader = React.useCallback(() => {\r\n    setPageHeaderState({});\r\n  }, []);\r\n\r\n  const dispatchValue = React.useMemo(\r\n    () => ({\r\n      setPageHeader,\r\n      clearPageHeader,\r\n    }),\r\n    [setPageHeader, clearPageHeader]\r\n  );\r\n\r\n  return (\r\n    <PageHeaderDispatchContext.Provider value={dispatchValue}>\r\n      <PageHeaderStateContext.Provider value={pageHeader}>\r\n        {children}\r\n      </PageHeaderStateContext.Provider>\r\n    </PageHeaderDispatchContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Hook to access page header state (for rendering)\r\n */\r\nexport function usePageHeaderState() {\r\n  const context = React.useContext(PageHeaderStateContext);\r\n  if (!context) {\r\n    throw new Error('usePageHeaderState must be used within PageHeaderProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n/**\r\n * Hook to access page header dispatch (for setting header)\r\n */\r\nexport function usePageHeaderDispatch() {\r\n  const context = React.useContext(PageHeaderDispatchContext);\r\n  if (!context) {\r\n    throw new Error('usePageHeaderDispatch must be used within PageHeaderProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n/**\r\n * Legacy hook to access full context\r\n * @deprecated Use usePageHeaderState or usePageHeaderDispatch instead\r\n */\r\nexport function usePageHeaderContext() {\r\n  const state = usePageHeaderState();\r\n  const dispatch = usePageHeaderDispatch();\r\n  return { pageHeader: state, ...dispatch };\r\n}\r\n\r\n/**\r\n * Hook to set page header from any component\r\n * \r\n * @example\r\n * // Auto-generated breadcrumb + title\r\n * usePageHeader();\r\n * \r\n * @example\r\n * // Custom configuration\r\n * usePageHeader({\r\n *   title: 'Bùi My',\r\n *   subtitle: 'Trưởng nhóm • Kinh doanh',\r\n *   badge: <Badge>Active</Badge>,\r\n *   showBackButton: true,\r\n *   actions: [\r\n *     <Button key=\"edit\">Chỉnh sửa</Button>\r\n *   ]\r\n * });\r\n * \r\n * @example\r\n * // With dynamic context for breadcrumb\r\n * usePageHeader({\r\n *   context: {\r\n *     employeeName: employee.fullName,\r\n *     employeeCode: employee.code\r\n *   }\r\n * });\r\n */\r\nexport function usePageHeader(config?: PageHeaderState) {\r\n  const { setPageHeader, clearPageHeader } = usePageHeaderDispatch();\r\n  const configRef = React.useRef(config);\r\n  \r\n  // Update ref without causing re-render\r\n  configRef.current = config;\r\n\r\n  // Create a serializable fingerprint of the config\r\n  const configFingerprint = React.useMemo(() => {\r\n    const currentConfig = config;\r\n    \r\n    // Helper to recursively extract text from React elements\r\n    const extractText = (node: any): string => {\r\n      if (!node) return '';\r\n      if (typeof node === 'string' || typeof node === 'number') return String(node);\r\n      if (Array.isArray(node)) return node.map(extractText).join('');\r\n      if (React.isValidElement(node)) {\r\n        return extractText((node.props as any).children);\r\n      }\r\n      if (typeof node === 'object' && 'props' in node) {\r\n        return extractText((node as any).props?.children);\r\n      }\r\n      return '';\r\n    };\r\n\r\n    const extractTextFromActions = (actions?: React.ReactNode | React.ReactNode[]) => {\r\n      if (!actions) return '';\r\n      const actionsArray = Array.isArray(actions) ? actions : [actions];\r\n      return actionsArray.map(node => {\r\n        if (!React.isValidElement(node)) return extractText(node);\r\n        const props = node.props as any;\r\n        return `${extractText(node)}|${props.disabled}|${props.hidden}|${node.key}`;\r\n      }).join('||');\r\n    };\r\n\r\n    return currentConfig ? JSON.stringify({\r\n      title: typeof currentConfig.title === 'string' ? currentConfig.title : extractText(currentConfig.title),\r\n      subtitle: currentConfig.subtitle,\r\n      showBackButton: currentConfig.showBackButton,\r\n      backPath: currentConfig.backPath,\r\n      actionsText: extractTextFromActions(currentConfig.actions),\r\n      breadcrumb: currentConfig.breadcrumb,\r\n      badgeKey: React.isValidElement(currentConfig.badge) ? currentConfig.badge.key : undefined,\r\n      context: currentConfig.context,\r\n      docLink: currentConfig.docLink,\r\n    }) : 'EMPTY';\r\n  }, [config]);\r\n\r\n  React.useEffect(() => {\r\n    const currentConfig = configRef.current;\r\n    if (currentConfig) {\r\n      setPageHeader(currentConfig);\r\n    }\r\n  }, [configFingerprint, setPageHeader]);\r\n\r\n  return { setPageHeader, clearPageHeader };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3057, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/use-settings-page-header.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Settings2 } from 'lucide-react';\r\nimport { usePageHeader, type PageHeaderState, type PageHeaderDocLink } from '../../contexts/page-header-context';\r\nimport type { BreadcrumbItem } from '../../lib/breadcrumb-system';\r\n\r\nexport type SettingsPageHeaderOptions = Omit<PageHeaderState, 'title' | 'docLink'> & {\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  docLink?: string | PageHeaderDocLink;\r\n};\r\n\r\nconst defaultDocLabel = 'Xem hướng dẫn';\r\nconst baseBreadcrumb: BreadcrumbItem[] = [\r\n  { label: 'Trang chủ', href: '/', isCurrent: false },\r\n  { label: 'Cài đặt', href: '/settings', isCurrent: false },\r\n];\r\n\r\nconst normalizeLabel = (label?: string) => label?.trim().toLocaleLowerCase('vi');\r\nconst isHomeCrumb = (item: BreadcrumbItem) => item.href === '/' || normalizeLabel(item.label) === 'trang chủ';\r\nconst isSettingsCrumb = (item: BreadcrumbItem) => item.href === '/settings' || normalizeLabel(item.label) === 'cài đặt';\r\n\r\nexport function useSettingsPageHeader(options: SettingsPageHeaderOptions) {\r\n  const pathname = usePathname();\r\n  const { title, icon, docLink, breadcrumb, ...rest } = options;\r\n\r\n  const normalizedDocLink = React.useMemo<PageHeaderDocLink | undefined>(() => {\r\n    if (!docLink) return undefined;\r\n    if (typeof docLink === 'string') {\r\n      return { href: docLink, label: defaultDocLabel };\r\n    }\r\n    return {\r\n      href: docLink.href,\r\n      label: docLink.label ?? defaultDocLabel,\r\n    };\r\n  }, [docLink]);\r\n\r\n  const decoratedTitle = React.useMemo(() => (\r\n    <span className=\"inline-flex items-center gap-2\">\r\n      {(icon ?? <Settings2 className=\"h-5 w-5 text-muted-foreground\" aria-hidden=\"true\" />)}\r\n      <span>{title}</span>\r\n    </span>\r\n  ), [icon, title]);\r\n\r\n  const normalizedBreadcrumb = React.useMemo(() => {\r\n    const custom = (breadcrumb ?? []).map((item) => ({\r\n      ...item,\r\n      href: item.href || pathname,\r\n    }));\r\n\r\n    let merged: BreadcrumbItem[] = custom.length\r\n      ? [...custom]\r\n      : [{ label: title, href: pathname, isCurrent: true }];\r\n\r\n    if (!merged.some(isHomeCrumb)) {\r\n      merged = [{ ...baseBreadcrumb[0] }, ...merged];\r\n    }\r\n\r\n    if (!merged.some(isSettingsCrumb)) {\r\n      const homeIndex = merged.findIndex(isHomeCrumb);\r\n      const insertionIndex = homeIndex >= 0 ? homeIndex + 1 : 0;\r\n      merged = [\r\n        ...merged.slice(0, insertionIndex),\r\n        { ...baseBreadcrumb[1] },\r\n        ...merged.slice(insertionIndex),\r\n      ];\r\n    }\r\n\r\n    return merged.map((item, index) => ({\r\n      ...item,\r\n      isCurrent: index === merged.length - 1,\r\n    }));\r\n  }, [breadcrumb, pathname, title]);\r\n\r\n  return usePageHeader({\r\n    ...rest,\r\n    breadcrumb: normalizedBreadcrumb,\r\n    title: decoratedTitle,\r\n    docLink: normalizedDocLink,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;AASA,MAAM,kBAAkB;AACxB,MAAM,iBAAmC;IACvC;QAAE,OAAO;QAAa,MAAM;QAAK,WAAW;IAAM;IAClD;QAAE,OAAO;QAAW,MAAM;QAAa,WAAW;IAAM;CACzD;AAED,MAAM,iBAAiB,CAAC,QAAmB,OAAO,OAAO,kBAAkB;AAC3E,MAAM,cAAc,CAAC,OAAyB,KAAK,IAAI,KAAK,OAAO,eAAe,KAAK,KAAK,MAAM;AAClG,MAAM,kBAAkB,CAAC,OAAyB,KAAK,IAAI,KAAK,eAAe,eAAe,KAAK,KAAK,MAAM;AAEvG,SAAS,sBAAsB,OAAkC;IACtE,MAAM,WAAW,IAAA,oMAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,MAAM,GAAG;IAEtD,MAAM,oBAAoB,gNAAa,CAAgC;QACrE,IAAI,CAAC,SAAS,OAAO;QACrB,IAAI,OAAO,YAAY,UAAU;YAC/B,OAAO;gBAAE,MAAM;gBAAS,OAAO;YAAgB;QACjD;QACA,OAAO;YACL,MAAM,QAAQ,IAAI;YAClB,OAAO,QAAQ,KAAK,IAAI;QAC1B;IACF,GAAG;QAAC;KAAQ;IAEZ,MAAM,iBAAiB,gNAAa,CAAC,kBACnC,8OAAC;YAAK,WAAU;;gBACZ,sBAAQ,8OAAC,6NAAS;oBAAC,WAAU;oBAAgC,eAAY;;;;;;8BAC3E,8OAAC;8BAAM;;;;;;;;;;;kBAER;QAAC;QAAM;KAAM;IAEhB,MAAM,uBAAuB,gNAAa,CAAC;QACzC,MAAM,SAAS,CAAC,cAAc,EAAE,EAAE,GAAG,CAAC,CAAC,OAAS,CAAC;gBAC/C,GAAG,IAAI;gBACP,MAAM,KAAK,IAAI,IAAI;YACrB,CAAC;QAED,IAAI,SAA2B,OAAO,MAAM,GACxC;eAAI;SAAO,GACX;YAAC;gBAAE,OAAO;gBAAO,MAAM;gBAAU,WAAW;YAAK;SAAE;QAEvD,IAAI,CAAC,OAAO,IAAI,CAAC,cAAc;YAC7B,SAAS;gBAAC;oBAAE,GAAG,cAAc,CAAC,EAAE;gBAAC;mBAAM;aAAO;QAChD;QAEA,IAAI,CAAC,OAAO,IAAI,CAAC,kBAAkB;YACjC,MAAM,YAAY,OAAO,SAAS,CAAC;YACnC,MAAM,iBAAiB,aAAa,IAAI,YAAY,IAAI;YACxD,SAAS;mBACJ,OAAO,KAAK,CAAC,GAAG;gBACnB;oBAAE,GAAG,cAAc,CAAC,EAAE;gBAAC;mBACpB,OAAO,KAAK,CAAC;aACjB;QACH;QAEA,OAAO,OAAO,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;gBAClC,GAAG,IAAI;gBACP,WAAW,UAAU,OAAO,MAAM,GAAG;YACvC,CAAC;IACH,GAAG;QAAC;QAAY;QAAU;KAAM;IAEhC,OAAO,IAAA,uJAAa,EAAC;QACnB,GAAG,IAAI;QACP,YAAY;QACZ,OAAO;QACP,SAAS;IACX;AACF"}},
    {"offset": {"line": 3186, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SettingsActionButton.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Button, type ButtonProps } from '../ui/button';\r\nimport { cn } from '../../lib/utils';\r\n\r\n/**\r\n * SettingsActionButton chuẩn hóa các nút hành động của module Cài đặt\r\n * để luôn tuân thủ chiều cao h-9 và padding đồng nhất.\r\n */\r\nexport const SettingsActionButton = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, size, children, ...props }, ref) => {\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size={size ?? 'sm'}\r\n        className={cn('h-9 px-4 font-medium gap-2', className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nSettingsActionButton.displayName = 'SettingsActionButton';\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAMO,MAAM,qCAAuB,mNAAgB,CAClD,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACxC,qBACE,8OAAC,qIAAM;QACL,KAAK;QACL,MAAM,QAAQ;QACd,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;kBAER;;;;;;AAGP;AAGF,qBAAqB,WAAW,GAAG"}},
    {"offset": {"line": 3216, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border border-border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-h3 font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,0EACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 3301, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/scroll-area.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ScrollArea = registerClientReference(\n    function() { throw new Error(\"Attempted to call ScrollArea() from the server but ScrollArea is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/scroll-area.tsx <module evaluation>\",\n    \"ScrollArea\",\n);\nexport const ScrollBar = registerClientReference(\n    function() { throw new Error(\"Attempted to call ScrollBar() from the server but ScrollBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/scroll-area.tsx <module evaluation>\",\n    \"ScrollBar\",\n);\n"],"names":[],"mappings":";;;;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,+DACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,+DACA","ignoreList":[0]}},
    {"offset": {"line": 3320, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/scroll-area.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ScrollArea = registerClientReference(\n    function() { throw new Error(\"Attempted to call ScrollArea() from the server but ScrollArea is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/scroll-area.tsx\",\n    \"ScrollArea\",\n);\nexport const ScrollBar = registerClientReference(\n    function() { throw new Error(\"Attempted to call ScrollBar() from the server but ScrollBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/scroll-area.tsx\",\n    \"ScrollBar\",\n);\n"],"names":[],"mappings":";;;;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,2CACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,2CACA","ignoreList":[0]}},
    {"offset": {"line": 3339, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 3347, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/contexts/modal-context.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\ntype ModalType = 'dialog' | 'dropdown' | 'popover' | 'sheet' | 'drawer' | 'select' | 'custom';\r\n\r\ninterface ModalMetadata {\r\n  type: ModalType;\r\n  zIndex?: number | undefined;\r\n  className?: string | undefined;\r\n}\r\n\r\ninterface ModalContextType {\r\n  // Stack of modals in order they were opened (oldest first)\r\n  openModals: string[];\r\n  // The most recently opened modal (top of stack)\r\n  activeModal: string | null;\r\n  // Register a modal with the context\r\n  registerModal: (id: string, type: ModalType, metadata?: Omit<ModalMetadata, 'type'>) => void;\r\n  // Unregister a modal from the context\r\n  unregisterModal: (id: string) => void;\r\n  // Whether to show the global overlay\r\n  shouldShowOverlay: boolean;\r\n  // Get metadata about all registered modals\r\n  modalMetadata: Record<string, ModalMetadata>;\r\n  // Get z-index for a particular modal\r\n  getZIndex: (id: string) => number;\r\n  // Check if a modal is active (top-most)\r\n  isModalActive: (id: string) => boolean;\r\n}\r\n\r\nconst DEFAULT_Z_INDEX = {\r\n  dialog: 50,\r\n  drawer: 50,\r\n  sheet: 50,\r\n  dropdown: 40,\r\n  popover: 40,\r\n  select: 40,\r\n  custom: 30,\r\n};\r\n\r\nconst BASE_Z_INDEX = 40;\r\n\r\nconst ModalContext = React.createContext<ModalContextType>({\r\n  openModals: [],\r\n  activeModal: null,\r\n  registerModal: () => {},\r\n  unregisterModal: () => {},\r\n  shouldShowOverlay: false,\r\n  modalMetadata: {},\r\n  getZIndex: () => BASE_Z_INDEX,\r\n  isModalActive: () => false,\r\n});\r\n\r\nexport function ModalProvider({ children }: { children: React.ReactNode }) {\r\n  const [openModals, setOpenModals] = React.useState<string[]>([]);\r\n  const [modalMetadata, setModalMetadata] = React.useState<Record<string, ModalMetadata>>({});\r\n\r\n  // Register a new modal with its type and metadata\r\n  const registerModal = React.useCallback((id: string, type: ModalType, metadata?: Omit<ModalMetadata, 'type'>) => {\r\n    setOpenModals((prev) => {\r\n      if (prev.includes(id)) return prev;\r\n      return [...prev, id];\r\n    });\r\n    \r\n    setModalMetadata((prev) => ({\r\n      ...prev,\r\n      [id]: {\r\n        type,\r\n        zIndex: metadata?.zIndex || DEFAULT_Z_INDEX[type],\r\n        className: metadata?.className,\r\n      }\r\n    }));\r\n  }, []);\r\n\r\n  // Remove a modal from tracking\r\n  const unregisterModal = React.useCallback((id: string) => {\r\n    setOpenModals((prev) => prev.filter((modalId) => modalId !== id));\r\n    setModalMetadata((prev) => {\r\n      const newMetadata = { ...prev };\r\n      delete newMetadata[id];\r\n      return newMetadata;\r\n    });\r\n  }, []);\r\n\r\n  // The active modal is the last one in the stack\r\n  const activeModal = openModals.length > 0 ? openModals[openModals.length - 1] : null;\r\n  \r\n  // Show overlay when any modal is open\r\n  const shouldShowOverlay = openModals.length > 0;\r\n  \r\n  // Calculate z-index for a given modal\r\n  const getZIndex = React.useCallback((id: string) => {\r\n    const metadata = modalMetadata[id];\r\n    if (!metadata) return BASE_Z_INDEX;\r\n    \r\n    // Base z-index for this type of modal\r\n    const baseZ = metadata.zIndex || DEFAULT_Z_INDEX[metadata.type];\r\n    \r\n    // Position in the stack (higher = more recently opened)\r\n    const position = openModals.indexOf(id);\r\n    if (position === -1) return baseZ;\r\n    \r\n    // Add position bonus (more recent modals get higher z-index)\r\n    return baseZ + position;\r\n  }, [modalMetadata, openModals]);\r\n  \r\n  // Check if a modal is the active (top) one\r\n  const isModalActive = React.useCallback((id: string) => {\r\n    return id === activeModal;\r\n  }, [activeModal]);\r\n\r\n  const value = React.useMemo(() => ({\r\n    openModals,\r\n    activeModal,\r\n    registerModal,\r\n    unregisterModal,\r\n    shouldShowOverlay,\r\n    modalMetadata,\r\n    getZIndex,\r\n    isModalActive,\r\n  }), [\r\n    openModals,\r\n    activeModal,\r\n    registerModal,\r\n    unregisterModal,\r\n    shouldShowOverlay,\r\n    modalMetadata,\r\n    getZIndex,\r\n    isModalActive,\r\n  ]);\r\n\r\n  return (\r\n    <ModalContext.Provider value={value}>\r\n      {/* Không dùng overlay toàn cục nữa */}\r\n      {children}\r\n    </ModalContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Hook to use in components that need modal functionality\r\n * @param id Unique identifier for this modal\r\n * @param isOpen Whether the modal is currently open\r\n * @param type Type of modal (dialog, dropdown, etc.)\r\n * @param metadata Optional additional metadata\r\n */\r\nexport function useModal(\r\n  id: string, \r\n  isOpen: boolean, \r\n  type: ModalType = 'dialog', \r\n  metadata?: Omit<ModalMetadata, 'type'>\r\n) {\r\n  const { \r\n    registerModal, \r\n    unregisterModal, \r\n    getZIndex, \r\n    isModalActive \r\n  } = React.useContext(ModalContext);\r\n\r\n  React.useEffect(() => {\r\n    if (isOpen) {\r\n      registerModal(id, type, metadata);\r\n    } else {\r\n      unregisterModal(id);\r\n    }\r\n    return () => {\r\n      unregisterModal(id);\r\n    };\r\n  }, [id, isOpen, type, metadata, registerModal, unregisterModal]);\r\n  \r\n  const zIndex = getZIndex(id);\r\n  const isActive = isModalActive(id);\r\n  \r\n  return {\r\n    zIndex,\r\n    isActive,\r\n  };\r\n}\r\n\r\nexport function useModalContext() {\r\n  return React.useContext(ModalContext);\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3497, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { useModal } from \"../../contexts/modal-context\"\r\n\r\n// Use the original Dialog component\r\nconst Dialog = DialogPrimitive.Root\r\n\r\n// Create a Context to pass ID through the Dialog component tree\r\nconst DialogContext = React.createContext<string>(\"\");\r\n\r\n// Provider component that accepts an ID\r\nconst DialogProvider = ({ id, children }: { id: string; children: React.ReactNode }) => {\r\n  return <DialogContext.Provider value={id}>{children}</DialogContext.Provider>;\r\n};\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & { \r\n    id?: string;\r\n    open?: boolean;\r\n  }\r\n>(({ className, children, id: propId, open, ...props }, ref) => {\r\n  // Use either the prop id or the id from context\r\n  const contextId = React.useContext(DialogContext);\r\n  const id = propId || contextId || `dialog-${React.useId()}`;\r\n  \r\n  // Register with our modal context using the open prop\r\n  const { zIndex } = useModal(id, !!open, 'dialog');\r\n  \r\n  return (\r\n    <DialogPortal>\r\n      {/* Sử dụng overlay chỉ dành cho Dialog */}\r\n      <DialogOverlay style={{ zIndex: zIndex - 1 }} />\r\n      <DialogPrimitive.Content\r\n        ref={ref}\r\n        className={cn(\r\n          \"dialog-content fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg sm:rounded-lg\",\r\n          className\r\n        )}\r\n        style={{ zIndex }}\r\n        {...props}\r\n      >\r\n        <DialogProvider id={id}>\r\n          {children}\r\n          <DialogPrimitive.Close\r\n            aria-label=\"Đóng\"\r\n            className=\"absolute right-4 top-4 flex h-9 w-9 items-center justify-center rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\"\r\n          >\r\n            <X className=\"h-4 w-4\" />\r\n            <span className=\"sr-only\">Đóng</span>\r\n          </DialogPrimitive.Close>\r\n        </DialogProvider>\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  );\r\n})\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n  DialogProvider,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;;;;;;;AAEA,oCAAoC;AACpC,MAAM,SAAS,0KAAoB;AAEnC,gEAAgE;AAChE,MAAM,8BAAgB,sNAAmB,CAAS;AAElD,wCAAwC;AACxC,MAAM,iBAAiB,CAAC,EAAE,EAAE,EAAE,QAAQ,EAA6C;IACjF,qBAAO,8OAAC,cAAc,QAAQ;QAAC,OAAO;kBAAK;;;;;;AAC7C;AAEA,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAMpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACtD,gDAAgD;IAChD,MAAM,YAAY,mNAAgB,CAAC;IACnC,MAAM,KAAK,UAAU,aAAa,CAAC,OAAO,EAAE,8MAAW,IAAI;IAE3D,sDAAsD;IACtD,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,yIAAQ,EAAC,IAAI,CAAC,CAAC,MAAM;IAExC,qBACE,8OAAC;;0BAEC,8OAAC;gBAAc,OAAO;oBAAE,QAAQ,SAAS;gBAAE;;;;;;0BAC3C,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,kLACA;gBAEF,OAAO;oBAAE;gBAAO;gBACf,GAAG,KAAK;0BAET,cAAA,8OAAC;oBAAe,IAAI;;wBACjB;sCACD,8OAAC,2KAAqB;4BACpB,cAAW;4BACX,WAAU;;8CAEV,8OAAC,iMAAC;oCAAC,WAAU;;;;;;8CACb,8OAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AACA,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 3676, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/alert-dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { buttonVariants } from \"./button\"\r\n\r\nconst AlertDialog = AlertDialogPrimitive.Root\r\n\r\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\r\n\r\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\r\n\r\nconst AlertDialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80 transition-opacity duration-200 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:opacity-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\r\n\r\nconst AlertDialogContent = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPortal>\r\n    <AlertDialogOverlay />\r\n    <AlertDialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg transition-opacity duration-200 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:opacity-0 sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </AlertDialogPortal>\r\n))\r\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\r\n\r\nconst AlertDialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\r\n\r\nconst AlertDialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\r\n\r\nconst AlertDialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\r\n\r\nconst AlertDialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogDescription.displayName =\r\n  AlertDialogPrimitive.Description.displayName\r\n\r\nconst AlertDialogAction = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Action\r\n    ref={ref}\r\n    className={cn(buttonVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\r\n\r\nconst AlertDialogCancel = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Cancel\r\n    ref={ref}\r\n    className={cn(\r\n      buttonVariants({ variant: \"outline\" }),\r\n      \"mt-2 sm:mt-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\r\n\r\nexport {\r\n  AlertDialog,\r\n  AlertDialogPortal,\r\n  AlertDialogOverlay,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogFooter,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,cAAc,mLAAyB;AAE7C,MAAM,qBAAqB,sLAA4B;AAEvD,MAAM,oBAAoB,qLAA2B;AAErD,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAA4B;QAC3B,WAAW,IAAA,kHAAE,EACX,wIACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,yQACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,uBAAuB,WAAW,GAChC,0LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,IAAA,6IAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,IAAA,6IAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 3811, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/tabs.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-9 items-center justify-center rounded-md bg-muted p-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium text-muted-foreground ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,OAAO,wKAAkB;AAE/B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,wKAAkB;QACjB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,uEACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,wKAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,6ZACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 3865, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/provinces/page.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport Fuse from \"fuse.js\";\r\nimport { \r\n  useAllProvinces,\r\n  useDistrictsByProvince,\r\n  useWardsByProvince,\r\n  useWardsByDistrict,\r\n  useProvinceMutations,\r\n  useDistrictMutations,\r\n  useWardMutations,\r\n  useAdministrativeImportMutation,\r\n} from \"./hooks/use-provinces\";\r\nimport { asSystemId, asBusinessId } from \"@/lib/id-types\";\r\nimport { ProvinceForm, type ProvinceFormValues } from \"./form\";\r\nimport { WardForm, type WardFormValues } from \"./ward-form\";\r\nimport { DistrictForm, type DistrictFormValues } from \"./district-form\";\r\nimport type { Province, Ward, District } from \"./types\";\r\nimport { useSettingsPageHeader } from \"../use-settings-page-header\";\r\nimport { SettingsActionButton } from \"../../../components/settings/SettingsActionButton\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"../../../components/ui/card\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { Input } from \"../../../components/ui/input\";\r\nimport { ScrollArea } from \"../../../components/ui/scroll-area\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"../../../components/ui/dialog\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"../../../components/ui/alert-dialog\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../../../components/ui/tabs\";\r\nimport { PlusCircle, Search, Upload, Download, Edit, Trash2, ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport { cn } from \"../../../lib/utils\";\r\nimport { toast } from 'sonner';\r\nimport { SortableCard } from \"../../../components/settings/SortableCard\";\r\nimport { useVirtualizer } from \"@tanstack/react-virtual\";\r\n\r\nfunction useDebounce<T>(value: T, delay: number): T {\r\n  const [debouncedValue, setDebouncedValue] = React.useState(value);\r\n\r\n  React.useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}\r\n\r\ntype ImportPreviewState = {\r\n  provinces: Array<Omit<Province, \"systemId\">>;\r\n  wards: Array<Omit<Ward, \"systemId\">>;\r\n  summary: {\r\n    provinceCount: number;\r\n    wardCount: number;\r\n  };\r\n};\r\n\r\nconst getInitials = (name: string) => {\r\n  const fallback = name.slice(0, 2).toUpperCase();\r\n  const parts = name\r\n    .split(/\\s+/)\r\n    .filter(Boolean)\r\n    .slice(0, 2)\r\n    .map((part) => part[0]?.toUpperCase() ?? \"\")\r\n    .join(\"\");\r\n  return parts || fallback;\r\n};\r\n\r\ninterface ProvinceItemProps {\r\n  province: Province;\r\n  isActive: boolean;\r\n  onSelect: (systemId: string) => void;\r\n  onEdit: (province: Province) => void;\r\n  onDelete: (systemId: string) => void;\r\n  index: number;\r\n}\r\n\r\nconst ProvinceItem = React.memo(function ProvinceItem({\r\n  province,\r\n  isActive,\r\n  onSelect,\r\n  onEdit,\r\n  onDelete,\r\n  index,\r\n}: ProvinceItemProps) {\r\n  return (\r\n    <div\r\n      onClick={() => onSelect(province.systemId)}\r\n      className={cn(\r\n        \"group flex cursor-pointer items-center gap-3 rounded-lg border border-transparent px-3 py-2 transition-colors hover:bg-muted/50\",\r\n        isActive ? \"bg-primary/5 border-primary/20\" : \"hover:border-border/50\"\r\n      )}\r\n    >\r\n       <div className=\"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10 text-xs font-semibold text-primary\">\r\n          {province.name.slice(0, 2).toUpperCase()}\r\n        </div>\r\n        <div className=\"flex flex-1 flex-col gap-0.5\">\r\n            <span className=\"text-sm font-medium leading-none\">{province.name}</span>\r\n            <span className=\"text-xs text-muted-foreground\">Mã: {province.id}</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"h-8 w-8\"\r\n            onClick={(event) => {\r\n              event.stopPropagation();\r\n              onEdit(province);\r\n            }}\r\n          >\r\n            <Edit className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"h-8 w-8 text-destructive hover:text-destructive\"\r\n            onClick={(event) => {\r\n              event.stopPropagation();\r\n              onDelete(province.systemId);\r\n            }}\r\n          >\r\n            <Trash2 className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n    </div>\r\n  );\r\n});\r\n\r\ninterface DistrictItemProps {\r\n  district: District;\r\n  isActive: boolean;\r\n  onSelect: (id: number) => void;\r\n  onEdit: (district: District) => void;\r\n  onDelete: (systemId: string) => void;\r\n}\r\n\r\nconst DistrictItem = React.memo(function DistrictItem({\r\n  district,\r\n  isActive,\r\n  onSelect,\r\n  onEdit,\r\n  onDelete,\r\n}: DistrictItemProps) {\r\n  return (\r\n    <div\r\n      onClick={() => onSelect(district.id)}\r\n      className={cn(\r\n        \"group flex cursor-pointer items-center gap-3 rounded-lg border border-transparent px-3 py-2 transition-colors hover:bg-muted/50\",\r\n        isActive ? \"bg-primary/5 border-primary/20\" : \"hover:border-border/50\"\r\n      )}\r\n    >\r\n       <div className=\"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10 text-xs font-semibold text-primary\">\r\n          {district.name.slice(0, 2).toUpperCase()}\r\n        </div>\r\n        <div className=\"flex flex-1 flex-col gap-0.5\">\r\n            <span className=\"text-sm font-medium leading-none\">{district.name}</span>\r\n            <span className=\"text-xs text-muted-foreground\">Mã: {district.id}</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"h-8 w-8\"\r\n            onClick={(event) => {\r\n              event.stopPropagation();\r\n              onEdit(district);\r\n            }}\r\n          >\r\n            <Edit className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"h-8 w-8 text-destructive hover:text-destructive\"\r\n            onClick={(event) => {\r\n              event.stopPropagation();\r\n              onDelete(district.systemId);\r\n            }}\r\n          >\r\n            <Trash2 className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n    </div>\r\n  );\r\n});\r\n\r\ninterface WardListProps {\r\n  wards: Ward[];\r\n  onEdit: (ward: Ward) => void;\r\n  onDelete: (id: string) => void;\r\n}\r\n\r\nfunction WardList({ wards, onEdit, onDelete }: WardListProps) {\r\n  const parentRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const rowVirtualizer = useVirtualizer({\r\n    count: wards.length,\r\n    getScrollElement: () => parentRef.current,\r\n    estimateSize: () => 60,\r\n    overscan: 5,\r\n  });\r\n\r\n  return (\r\n    <div ref={parentRef} className=\"h-full w-full overflow-auto\">\r\n      <div\r\n        style={{\r\n          height: `${rowVirtualizer.getTotalSize()}px`,\r\n          width: \"100%\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        {rowVirtualizer.getVirtualItems().map((virtualItem) => {\r\n          const ward = wards[virtualItem.index];\r\n          return (\r\n            <div\r\n              key={virtualItem.key}\r\n              style={{\r\n                position: \"absolute\",\r\n                top: 0,\r\n                left: 0,\r\n                width: \"100%\",\r\n                height: `${virtualItem.size}px`,\r\n                transform: `translateY(${virtualItem.start}px)`,\r\n              }}\r\n              className=\"flex items-center justify-between border-b border-border px-4 hover:bg-muted/50 group\"\r\n            >\r\n              <div className=\"flex flex-col justify-center h-full\">\r\n                <span className=\"font-medium text-sm\">{ward.name}</span>\r\n                <span className=\"text-xs text-muted-foreground font-mono\">{ward.id}</span>\r\n              </div>\r\n              <div className=\"flex items-center justify-end gap-2 opacity-0 transition-opacity group-hover:opacity-100\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8\"\r\n                  onClick={() => onEdit(ward)}\r\n                >\r\n                  <Edit className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 text-destructive hover:text-destructive\"\r\n                  onClick={() => onDelete(ward.systemId)}\r\n                >\r\n                  <Trash2 className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ProvincesPage() {\r\n  // React Query hooks for data fetching\r\n  const { data: provincesData } = useAllProvinces();\r\n  const provinces = provincesData || [];\r\n  \r\n  // Mutations\r\n  const provinceMutations = useProvinceMutations();\r\n  const districtMutations = useDistrictMutations();\r\n  const wardMutations = useWardMutations();\r\n  const importMutation = useAdministrativeImportMutation();\r\n  \r\n  const [importPreview, setImportPreview] = React.useState<ImportPreviewState | null>(null);\r\n  const [isImportDialogOpen, setIsImportDialogOpen] = React.useState(false);\r\n  const [isImporting, setIsImporting] = React.useState(false);\r\n\r\n  const [mode, setMode] = React.useState<\"2-level\" | \"3-level\">(\"3-level\");\r\n  const importInputRef = React.useRef<HTMLInputElement | null>(null);\r\n\r\n  const [selectedProvinceId, setSelectedProvinceId] = React.useState<Province[\"systemId\"] | null>(\r\n    provinces[0]?.systemId ?? null,\r\n  );\r\n  const [selectedDistrictId, setSelectedDistrictId] = React.useState<number | null>(null);\r\n  \r\n  const [provinceSearchInput, setProvinceSearchInput] = React.useState(\"\");\r\n  const [districtSearchInput, setDistrictSearchInput] = React.useState(\"\");\r\n  const [wardSearchInput, setWardSearchInput] = React.useState(\"\");\r\n\r\n  const provinceSearch = useDebounce(provinceSearchInput, 300);\r\n  const districtSearch = useDebounce(districtSearchInput, 300);\r\n  const wardSearch = useDebounce(wardSearchInput, 300);\r\n\r\n  const [isProvinceFormOpen, setIsProvinceFormOpen] = React.useState(false);\r\n  const [editingProvince, setEditingProvince] = React.useState<Province | null>(null);\r\n  const [isWardFormOpen, setIsWardFormOpen] = React.useState(false);\r\n  const [editingWard, setEditingWard] = React.useState<Ward | null>(null);\r\n  const [isDistrictFormOpen, setIsDistrictFormOpen] = React.useState(false);\r\n  const [editingDistrict, setEditingDistrict] = React.useState<District | null>(null);\r\n\r\n  const [dialogState, setDialogState] = React.useState<{ type: \"province\" | \"ward\" | \"district\"; systemId: string } | null>(null);\r\n\r\n  const selectedProvince = React.useMemo(\r\n    () => provinces.find((province) => province.systemId === selectedProvinceId) ?? null,\r\n    [provinces, selectedProvinceId],\r\n  );\r\n\r\n  // Fetch districts for selected province (3-level mode)\r\n  const { data: districtsData } = useDistrictsByProvince(\r\n    mode === \"3-level\" && selectedProvince ? selectedProvince.id : undefined\r\n  );\r\n  const districtsForProvince = districtsData || [];\r\n  \r\n  // Fetch wards based on mode\r\n  const { data: wards2LevelData } = useWardsByProvince(\r\n    mode === \"2-level\" && selectedProvince ? selectedProvince.id : undefined\r\n  );\r\n  const { data: wards3LevelData } = useWardsByDistrict(\r\n    mode === \"3-level\" && selectedDistrictId ? selectedDistrictId : undefined\r\n  );\r\n  \r\n  const wardsForSelectedProvince = React.useMemo(() => {\r\n    if (!selectedProvince) return [];\r\n    if (mode === \"2-level\") {\r\n      return (wards2LevelData || []).filter(w => w.level === \"2-level\");\r\n    }\r\n    if (selectedDistrictId) {\r\n      return (wards3LevelData || []).filter(w => w.level === \"3-level\");\r\n    }\r\n    return [];\r\n  }, [mode, selectedProvince, selectedDistrictId, wards2LevelData, wards3LevelData]);\r\n\r\n  React.useEffect(() => {\r\n    if (!provinces.length) {\r\n      if (selectedProvinceId !== null) {\r\n        setSelectedProvinceId(null);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const exists = provinces.some((province) => province.systemId === selectedProvinceId);\r\n    if (!exists) {\r\n      setSelectedProvinceId(provinces[0]?.systemId ?? null);\r\n    }\r\n  }, [provinces, selectedProvinceId]);\r\n\r\n  const provinceFuse = React.useMemo(\r\n    () => new Fuse(provinces, { keys: [\"name\", \"id\"], threshold: 0.3 }),\r\n    [provinces],\r\n  );\r\n  const filteredProvinces = React.useMemo(\r\n    () => (provinceSearch ? provinceFuse.search(provinceSearch).map((result) => result.item) : provinces),\r\n    [provinceFuse, provinceSearch, provinces],\r\n  );\r\n  const orderedProvinces = React.useMemo(() => {\r\n    return [...filteredProvinces].sort((a, b) => a.name.localeCompare(b.name));\r\n  }, [filteredProvinces]);\r\n\r\n  const districtFuse = React.useMemo(\r\n    () => new Fuse(districtsForProvince, { keys: [\"name\"], threshold: 0.3 }),\r\n    [districtsForProvince],\r\n  );\r\n  const filteredDistricts = React.useMemo(\r\n    () => (districtSearch ? districtFuse.search(districtSearch).map((result) => result.item) : districtsForProvince),\r\n    [districtFuse, districtSearch, districtsForProvince],\r\n  );\r\n\r\n  const wardFuse = React.useMemo(\r\n    () => new Fuse(wardsForSelectedProvince, { keys: [\"name\", \"id\"], threshold: 0.3 }),\r\n    [wardsForSelectedProvince],\r\n  );\r\n  const filteredWards = React.useMemo(\r\n    () => (wardSearch ? wardFuse.search(wardSearch).map((result) => result.item) : wardsForSelectedProvince),\r\n    [wardFuse, wardSearch, wardsForSelectedProvince],\r\n  );\r\n\r\n  const handleAddProvince = React.useCallback(() => {\r\n    setEditingProvince(null);\r\n    setIsProvinceFormOpen(true);\r\n  }, [setEditingProvince, setIsProvinceFormOpen]);\r\n  const handleEditProvince = (province: Province) => {\r\n    setEditingProvince(province);\r\n    setIsProvinceFormOpen(true);\r\n  };\r\n  const handleDeleteProvince = (systemId: string) => setDialogState({ type: \"province\", systemId });\r\n  const handleProvinceFormSubmit = (values: ProvinceFormValues) => {\r\n    if (editingProvince) {\r\n      provinceMutations.update.mutate({ systemId: editingProvince.systemId, data: { ...editingProvince, ...values } });\r\n    } else {\r\n      provinceMutations.add.mutate(values);\r\n    }\r\n    setIsProvinceFormOpen(false);\r\n  };\r\n\r\n  const handleAddWard = () => {\r\n    setEditingWard(null);\r\n    setIsWardFormOpen(true);\r\n  };\r\n  const handleEditWard = (ward: Ward) => {\r\n    setEditingWard(ward);\r\n    setIsWardFormOpen(true);\r\n  };\r\n  const handleDeleteWard = (systemId: string) => setDialogState({ type: \"ward\", systemId });\r\n  const handleWardFormSubmit = (values: WardFormValues) => {\r\n    if (!selectedProvince) return;\r\n    const finalValues = { ...values, provinceId: selectedProvince.id };\r\n    if (editingWard) {\r\n      wardMutations.update.mutate({ systemId: editingWard.systemId, data: { ...editingWard, ...finalValues } });\r\n    } else {\r\n      wardMutations.add.mutate(finalValues as any);\r\n    }\r\n    setIsWardFormOpen(false);\r\n  };\r\n\r\n  const handleAddDistrict = () => {\r\n    setEditingDistrict(null);\r\n    setIsDistrictFormOpen(true);\r\n  };\r\n  const handleEditDistrict = (district: District) => {\r\n    setEditingDistrict(district);\r\n    setIsDistrictFormOpen(true);\r\n  };\r\n  const handleDeleteDistrict = (systemId: string) => setDialogState({ type: \"district\", systemId });\r\n  const handleDistrictFormSubmit = (values: DistrictFormValues) => {\r\n    if (!selectedProvince) return;\r\n    const finalValues = { ...values, provinceId: selectedProvince.id };\r\n    if (editingDistrict) {\r\n      districtMutations.update.mutate({ systemId: editingDistrict.systemId, data: { ...editingDistrict, ...finalValues } });\r\n    } else {\r\n      districtMutations.add.mutate(finalValues as any);\r\n    }\r\n    setIsDistrictFormOpen(false);\r\n  };\r\n\r\n  const confirmDelete = () => {\r\n    if (!dialogState) return;\r\n    if (dialogState.type === \"province\") {\r\n      if (dialogState.systemId === selectedProvinceId) {\r\n        const fallback = provinces.find((province) => province.systemId !== dialogState.systemId);\r\n        setSelectedProvinceId(fallback?.systemId ?? null);\r\n        setSelectedDistrictId(null);\r\n      }\r\n      provinceMutations.remove.mutate(dialogState.systemId);\r\n    } else if (dialogState.type === \"ward\") {\r\n      wardMutations.remove.mutate(dialogState.systemId);\r\n    } else if (dialogState.type === \"district\") {\r\n      const district = districtsForProvince.find((d) => d.systemId === dialogState.systemId);\r\n      if (district && district.id === selectedDistrictId) {\r\n        setSelectedDistrictId(null);\r\n      }\r\n      districtMutations.remove.mutate(dialogState.systemId);\r\n    }\r\n    setDialogState(null);\r\n  };\r\n\r\n  const handleImport = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (loadEvent) => {\r\n      try {\r\n        const data = loadEvent.target?.result;\r\n        const workbook = XLSX.read(data, { type: \"binary\" });\r\n        const sheetName = workbook.SheetNames[0];\r\n        const worksheet = workbook.Sheets[sheetName];\r\n        const json = XLSX.utils.sheet_to_json<any>(worksheet);\r\n\r\n        const provincesMap = new Map<string, Omit<Province, \"systemId\">>();\r\n        const wards: Array<Omit<Ward, \"systemId\">> = [];\r\n\r\n        json.forEach((row) => {\r\n          const rawProvinceId = row[\"Mã tỉnh (BNV)\"] ?? row[\"Ma Tinh\"];\r\n          const provinceName = row[\"Tên tỉnh/TP mới\"] ?? row[\"Ten tinh\"];\r\n          const wardCode = row[\"Mã phường/xã mới\"] ?? row[\"Ma phuong/xa\"];\r\n          const wardName = row[\"Tên Phường/Xã mới\"] ?? row[\"Ten Phuong/Xa\"];\r\n\r\n          if (!rawProvinceId || !provinceName || !wardCode || !wardName) {\r\n            return;\r\n          }\r\n\r\n          const provinceId = String(rawProvinceId).padStart(2, \"0\");\r\n\r\n          if (!provincesMap.has(provinceId)) {\r\n            provincesMap.set(provinceId, {\r\n              id: asBusinessId(provinceId),\r\n              name: String(provinceName).trim(),\r\n            });\r\n          }\r\n\r\n          wards.push({\r\n            id: String(wardCode).trim(),\r\n            name: String(wardName).trim(),\r\n            provinceId: asBusinessId(provinceId),\r\n            provinceName: String(provinceName).trim(),\r\n          });\r\n        });\r\n\r\n        if (provincesMap.size === 0 || wards.length === 0) {\r\n          toast.error('Không tìm thấy dữ liệu hợp lệ', {\r\n            description: 'Vui lòng kiểm tra lại định dạng file Excel.',\r\n          });\r\n          return;\r\n        }\r\n\r\n        setImportPreview({\r\n          provinces: Array.from(provincesMap.values()),\r\n          wards,\r\n          summary: {\r\n            provinceCount: provincesMap.size,\r\n            wardCount: wards.length,\r\n          },\r\n        });\r\n        setIsImportDialogOpen(true);\r\n      } catch (error) {\r\n        toast.error('Lỗi khi đọc file', {\r\n          description: error instanceof Error ? error.message : 'File không hợp lệ',\r\n        });\r\n      }\r\n    };\r\n    reader.readAsBinaryString(file);\r\n    event.target.value = \"\";\r\n  };\r\n\r\n  const handleImportDialogChange = (open: boolean) => {\r\n    if (!open) {\r\n      if (isImporting) return;\r\n      setIsImportDialogOpen(false);\r\n      setImportPreview(null);\r\n      return;\r\n    }\r\n    setIsImportDialogOpen(true);\r\n  };\r\n\r\n  const handleConfirmImport = async () => {\r\n    if (!importPreview) return;\r\n    setIsImporting(true);\r\n    try {\r\n      await importMutation.mutateAsync({\r\n        provinces: importPreview.provinces,\r\n        wards: importPreview.wards,\r\n      });\r\n      toast.success('Đã nhập dữ liệu hành chính', {\r\n        description: `Ghi đè ${importPreview.summary.provinceCount.toLocaleString(\"vi-VN\")} tỉnh/thành và ${importPreview.summary.wardCount.toLocaleString(\"vi-VN\")} phường/xã (2 cấp).`,\r\n      });\r\n      setIsImportDialogOpen(false);\r\n      setImportPreview(null);\r\n    } catch (error) {\r\n      toast.error('Không thể ghi dữ liệu', {\r\n        description: error instanceof Error ? error.message : 'Vui lòng thử lại sau.',\r\n      });\r\n    } finally {\r\n      setIsImporting(false);\r\n    }\r\n  };\r\n\r\n  // Fetch wards for export - using sample province \"08\" (Hà Nội usually)\r\n  const { data: exportWardsData } = useWardsByProvince(asBusinessId(\"08\"));\r\n  const wards2LevelForExport = (exportWardsData || []).filter(w => w.level === \"2-level\");\r\n\r\n  const handleExport = React.useCallback(() => {\r\n    const provincesToExport = provinces.map(({ systemId, ...rest }) => ({\r\n      \"Mã tỉnh\": rest.id,\r\n      \"Tên Tỉnh/Thành phố\": rest.name,\r\n    }));\r\n\r\n    const wardsToExport = wards2LevelForExport.map(({ systemId, ...rest }) => ({\r\n      \"Mã tỉnh\": rest.provinceId,\r\n      \"Mã Phường/Xã\": rest.id,\r\n      \"Tên Phường/Xã\": rest.name,\r\n    }));\r\n\r\n    const provincesWs = XLSX.utils.json_to_sheet(provincesToExport);\r\n    const wardsWs = XLSX.utils.json_to_sheet(wardsToExport);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, provincesWs, \"TinhThanh\");\r\n    XLSX.utils.book_append_sheet(wb, wardsWs, \"PhuongXa\");\r\n    XLSX.writeFile(wb, \"Danh_sach_Don_vi_hanh_chinh.xlsx\");\r\n  }, [provinces, wards2LevelForExport]);\r\n\r\n  const handleImportButtonClick = React.useCallback(() => {\r\n    importInputRef.current?.click();\r\n  }, [importInputRef]);\r\n\r\n  const headerActions = React.useMemo(\r\n    () => [\r\n      <SettingsActionButton key=\"import\" variant=\"outline\" onClick={handleImportButtonClick}>\r\n        <Upload className=\"h-4 w-4\" />\r\n        Nhập file\r\n      </SettingsActionButton>,\r\n      <SettingsActionButton key=\"export\" variant=\"outline\" onClick={handleExport}>\r\n        <Download className=\"h-4 w-4\" />\r\n        Xuất file\r\n      </SettingsActionButton>,\r\n      <SettingsActionButton key=\"add\" onClick={handleAddProvince}>\r\n        <PlusCircle className=\"h-4 w-4\" />\r\n        Thêm tỉnh thành\r\n      </SettingsActionButton>,\r\n    ],\r\n    [handleImportButtonClick, handleExport, handleAddProvince],\r\n  );\r\n\r\n  useSettingsPageHeader({\r\n    title: \"Tỉnh thành - Quận huyện\",\r\n    actions: headerActions,\r\n  });\r\n\r\n  const handleSelectProvince = React.useCallback((systemId: Province[\"systemId\"]) => {\r\n    setSelectedProvinceId(systemId);\r\n    setSelectedDistrictId(null);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex h-full flex-col\">\r\n      <input\r\n        ref={importInputRef}\r\n        type=\"file\"\r\n        className=\"hidden\"\r\n        accept=\".xlsx, .xls\"\r\n        onChange={handleImport}\r\n      />\r\n\r\n      <div className=\"mb-4 flex flex-shrink-0 items-center\">\r\n        <Tabs\r\n          value={mode}\r\n          onValueChange={(value) => {\r\n            setMode(value as \"2-level\" | \"3-level\");\r\n            setSelectedDistrictId(null);\r\n          }}\r\n        >\r\n          <TabsList>\r\n            <TabsTrigger value=\"2-level\">2 cấp (Tỉnh → Phường) - 3,321 wards</TabsTrigger>\r\n            <TabsTrigger value=\"3-level\">3 cấp (Tỉnh → Quận → Phường) - 10,035 wards</TabsTrigger>\r\n          </TabsList>\r\n        </Tabs>\r\n      </div>\r\n\r\n      {mode === \"2-level\" ? (\r\n        <div className=\"flex min-h-0 flex-grow gap-4\">\r\n          <Card className=\"flex w-1/3 flex-col\">\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <CardTitle>Tỉnh/Thành phố</CardTitle>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button size=\"icon\" variant=\"ghost\" className=\"h-8 w-8\" onClick={handleAddProvince}>\r\n                    <PlusCircle className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n              <div className=\"relative pt-2\">\r\n                <Search className=\"pointer-events-none absolute left-2.5 top-[18px] h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder=\"Tìm kiếm...\"\r\n                  className=\"h-9 pl-8\"\r\n                  value={provinceSearchInput}\r\n                  onChange={(event) => setProvinceSearchInput(event.target.value)}\r\n                />\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"flex-grow overflow-hidden p-2\">\r\n              <ScrollArea className=\"h-full\">\r\n                <div className=\"space-y-2 pb-2\">\r\n                  {orderedProvinces.map((province, index) => (\r\n                    <ProvinceItem\r\n                      key={province.systemId}\r\n                      province={province}\r\n                      index={index}\r\n                      isActive={selectedProvinceId === province.systemId}\r\n                      onSelect={handleSelectProvince}\r\n                      onEdit={handleEditProvince}\r\n                      onDelete={handleDeleteProvince}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </ScrollArea>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <div className=\"flex w-2/3 flex-col\">\r\n            {selectedProvince ? (\r\n              <Card className=\"flex flex-grow flex-col\">\r\n                <CardHeader>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <CardTitle>{selectedProvince.name}</CardTitle>\r\n                      <CardDescription>\r\n                        Mã: {selectedProvince.id} • {filteredWards.length} phường/xã (2 cấp)\r\n                      </CardDescription>\r\n                    </div>\r\n                    <Button size=\"sm\" onClick={handleAddWard}>\r\n                      <PlusCircle className=\"mr-2 h-4 w-4\" /> Thêm phường/xã\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"relative pt-2\">\r\n                    <Search className=\"pointer-events-none absolute left-2.5 top-[18px] h-4 w-4 text-muted-foreground\" />\r\n                    <Input\r\n                      placeholder=\"Tìm phường/xã...\"\r\n                      className=\"h-9 pl-8\"\r\n                      value={wardSearchInput}\r\n                      onChange={(event) => setWardSearchInput(event.target.value)}\r\n                    />\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent className=\"flex flex-grow flex-col p-0\">\r\n                  {filteredWards.length > 0 ? (\r\n                    <div className=\"flex-1 h-full overflow-hidden\">\r\n                      <WardList\r\n                        wards={filteredWards}\r\n                        onEdit={handleEditWard}\r\n                        onDelete={handleDeleteWard}\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"flex h-full flex-col items-center justify-center gap-2 p-4 text-center\">\r\n                      <p className=\"font-medium text-muted-foreground\">Chưa có phường/xã</p>\r\n                      <p className=\"text-sm text-muted-foreground\">Thêm phường/xã mới cho tỉnh/thành này.</p>\r\n                      <Button size=\"sm\" onClick={handleAddWard}>\r\n                        <PlusCircle className=\"mr-2 h-4 w-4\" /> Thêm phường/xã\r\n                      </Button>\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            ) : (\r\n              <Card className=\"flex h-full items-center justify-center\">\r\n                <div className=\"text-center text-muted-foreground\">Chọn một Tỉnh/Thành phố để xem chi tiết.</div>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex min-h-0 flex-grow gap-4\">\r\n          <Card className=\"flex w-1/4 flex-col\">\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <CardTitle>Tỉnh/TP</CardTitle>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button size=\"icon\" variant=\"ghost\" className=\"h-8 w-8\" onClick={handleAddProvince}>\r\n                    <PlusCircle className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n              <div className=\"relative pt-2\">\r\n                <Search className=\"pointer-events-none absolute left-2.5 top-[18px] h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder=\"Tìm...\"\r\n                  className=\"h-9 pl-8\"\r\n                  value={provinceSearchInput}\r\n                  onChange={(event) => setProvinceSearchInput(event.target.value)}\r\n                />\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"flex-grow overflow-hidden p-2\">\r\n              <ScrollArea className=\"h-full\">\r\n                <div className=\"space-y-2 pb-2\">\r\n                  {orderedProvinces.map((province, index) => (\r\n                    <ProvinceItem\r\n                      key={province.systemId}\r\n                      province={province}\r\n                      index={index}\r\n                      isActive={selectedProvinceId === province.systemId}\r\n                      onSelect={handleSelectProvince}\r\n                      onEdit={handleEditProvince}\r\n                      onDelete={handleDeleteProvince}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </ScrollArea>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card className=\"flex w-1/4 flex-col\">\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <CardTitle className=\"text-base\">Quận/Huyện</CardTitle>\r\n                {selectedProvince ? (\r\n                  <Button size=\"icon\" variant=\"ghost\" className=\"h-8 w-8\" onClick={handleAddDistrict}>\r\n                    <PlusCircle className=\"h-4 w-4\" />\r\n                  </Button>\r\n                ) : null}\r\n              </div>\r\n              {selectedProvince ? (\r\n                <div className=\"relative pt-2\">\r\n                  <Search className=\"pointer-events-none absolute left-2.5 top-[18px] h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    placeholder=\"Tìm quận/huyện...\"\r\n                    className=\"h-9 pl-8\"\r\n                    value={districtSearchInput}\r\n                    onChange={(event) => setDistrictSearchInput(event.target.value)}\r\n                  />\r\n                </div>\r\n              ) : null}\r\n            </CardHeader>\r\n            <CardContent className=\"flex-grow overflow-hidden p-2\">\r\n              {selectedProvince ? (\r\n                <>\r\n                  <ScrollArea className=\"h-full\">\r\n                    <div className=\"space-y-2 pb-2\">\r\n                      {filteredDistricts.map((district) => (\r\n                        <DistrictItem\r\n                          key={district.systemId}\r\n                          district={district}\r\n                          isActive={selectedDistrictId === district.id}\r\n                          onSelect={setSelectedDistrictId}\r\n                          onEdit={handleEditDistrict}\r\n                          onDelete={handleDeleteDistrict}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </ScrollArea>\r\n                </>\r\n              ) : (\r\n                <div className=\"flex h-full items-center justify-center text-sm text-muted-foreground\">\r\n                  Chọn tỉnh/TP trước\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card className=\"flex flex-1 flex-col\">\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <CardTitle className=\"text-base\">Phường/Xã</CardTitle>\r\n                  {selectedDistrictId ? (\r\n                    <CardDescription className=\"mt-1 text-xs text-muted-foreground\">\r\n                      {districtsForProvince.find((district) => district.id === selectedDistrictId)?.name} • {filteredWards.length} phường/xã\r\n                    </CardDescription>\r\n                  ) : null}\r\n                </div>\r\n                {selectedDistrictId ? (\r\n                  <Button size=\"sm\" onClick={handleAddWard}>\r\n                    <PlusCircle className=\"mr-2 h-4 w-4\" /> Thêm\r\n                  </Button>\r\n                ) : null}\r\n              </div>\r\n              {selectedDistrictId ? (\r\n                <div className=\"relative pt-2\">\r\n                  <Search className=\"pointer-events-none absolute left-2.5 top-[18px] h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    placeholder=\"Tìm phường/xã...\"\r\n                    className=\"h-9 pl-8\"\r\n                    value={wardSearchInput}\r\n                    onChange={(event) => setWardSearchInput(event.target.value)}\r\n                  />\r\n                </div>\r\n              ) : null}\r\n            </CardHeader>\r\n            <CardContent className=\"flex flex-1 flex-col p-0\">\r\n              {selectedDistrictId ? (\r\n                filteredWards.length > 0 ? (\r\n                  <div className=\"flex-1 h-full overflow-hidden\">\r\n                    <WardList\r\n                      wards={filteredWards}\r\n                      onEdit={handleEditWard}\r\n                      onDelete={handleDeleteWard}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex h-full flex-col items-center justify-center gap-2 p-4 text-center\">\r\n                    <p className=\"font-medium text-muted-foreground\">Chưa có phường/xã</p>\r\n                    <p className=\"text-sm text-muted-foreground\">Thêm phường/xã mới cho quận/huyện này.</p>\r\n                    <Button size=\"sm\" onClick={handleAddWard}>\r\n                      <PlusCircle className=\"mr-2 h-4 w-4\" /> Thêm phường/xã\r\n                    </Button>\r\n                  </div>\r\n                )\r\n              ) : (\r\n                <div className=\"flex h-full items-center justify-center text-muted-foreground\">\r\n                  Chọn quận/huyện để xem phường/xã\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      <Dialog open={isProvinceFormOpen} onOpenChange={setIsProvinceFormOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>{editingProvince ? \"Chỉnh sửa Tỉnh thành\" : \"Thêm Tỉnh thành mới\"}</DialogTitle>\r\n          </DialogHeader>\r\n          <ProvinceForm\r\n            initialData={editingProvince}\r\n            onSubmit={handleProvinceFormSubmit}\r\n            onCancel={() => setIsProvinceFormOpen(false)}\r\n          />\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isWardFormOpen} onOpenChange={setIsWardFormOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>{editingWard ? \"Chỉnh sửa Phường/Xã\" : \"Thêm Phường/Xã mới\"}</DialogTitle>\r\n          </DialogHeader>\r\n          <WardForm\r\n            initialData={editingWard}\r\n            onSubmit={handleWardFormSubmit}\r\n            onCancel={() => setIsWardFormOpen(false)}\r\n          />\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isDistrictFormOpen} onOpenChange={setIsDistrictFormOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>{editingDistrict ? \"Chỉnh sửa Quận/Huyện\" : \"Thêm Quận/Huyện mới\"}</DialogTitle>\r\n          </DialogHeader>\r\n          <DistrictForm\r\n            initialData={editingDistrict}\r\n            provinceId={selectedProvince?.id ?? \"\"}\r\n            onSubmit={handleDistrictFormSubmit}\r\n            onCancel={() => setIsDistrictFormOpen(false)}\r\n          />\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <AlertDialog open={!!dialogState} onOpenChange={() => setDialogState(null)}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Bạn có chắc chắn muốn xóa?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              {dialogState?.type === \"province\"\r\n                ? \"Hành động này sẽ xóa Tỉnh/Thành phố và tất cả Phường/Xã liên quan. Hành động này không thể được hoàn tác.\"\r\n                : dialogState?.type === \"district\"\r\n                ? \"Hành động này sẽ xóa Quận/Huyện và tất cả Phường/Xã liên quan. Hành động này không thể được hoàn tác.\"\r\n                : \"Hành động này sẽ xóa Phường/Xã. Hành động này không thể được hoàn tác.\"}\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Hủy</AlertDialogCancel>\r\n            <AlertDialogAction onClick={confirmDelete}>Tiếp tục</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n\r\n      {importPreview ? (\r\n        <Dialog open={isImportDialogOpen} onOpenChange={handleImportDialogChange}>\r\n          <DialogContent className=\"sm:max-w-2xl\">\r\n            <DialogHeader>\r\n              <DialogTitle>Xác nhận ghi đè dữ liệu địa giới</DialogTitle>\r\n              <DialogDescription>\r\n                File mới sẽ thay thế toàn bộ danh sách tỉnh/thành và phường/xã (2 cấp). Dữ liệu quận/huyện và phường/xã 3 cấp được giữ nguyên.\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div className=\"rounded-md border border-dashed bg-muted/40 p-4 text-sm\">\r\n                <p className=\"font-medium\">Tóm tắt</p>\r\n                <ul className=\"mt-2 space-y-1 text-muted-foreground\">\r\n                  <li>• {importPreview.summary.provinceCount.toLocaleString(\"vi-VN\")} tỉnh/thành phố mới</li>\r\n                  <li>• {importPreview.summary.wardCount.toLocaleString(\"vi-VN\")} phường/xã (2 cấp)</li>\r\n                  <li>• Ghi đè toàn bộ dữ liệu hiện có cho cấp tỉnh và phường/xã 2 cấp</li>\r\n                </ul>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 md:grid-cols-2\">\r\n                <div className=\"rounded-md border border-border p-3\">\r\n                  <p className=\"text-sm font-medium\">Danh sách tỉnh/thành</p>\r\n                  <ScrollArea className=\"mt-2 h-40\">\r\n                    <ul className=\"divide-y text-sm\">\r\n                      {importPreview.provinces.slice(0, 12).map((province) => (\r\n                        <li key={province.id} className=\"flex items-center justify-between py-1.5\">\r\n                          <span>{province.name}</span>\r\n                          <span className=\"font-mono text-xs text-muted-foreground\">{province.id}</span>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </ScrollArea>\r\n                  <p className=\"mt-2 text-xs text-muted-foreground\">\r\n                    Hiển thị tối đa 12 / {importPreview.summary.provinceCount.toLocaleString(\"vi-VN\")} tỉnh/thành.\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"rounded-md border border-border p-3\">\r\n                  <p className=\"text-sm font-medium\">Một số phường/xã (2 cấp)</p>\r\n                  <ScrollArea className=\"mt-2 h-40\">\r\n                    <ul className=\"divide-y text-sm\">\r\n                      {importPreview.wards.slice(0, 12).map((ward, index) => (\r\n                        <li key={`${ward.provinceId}-${ward.id}-${index}`} className=\"py-1.5\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <span>{ward.name}</span>\r\n                            <span className=\"font-mono text-xs text-muted-foreground\">{ward.id}</span>\r\n                          </div>\r\n                          <p className=\"text-xs text-muted-foreground\">Thuộc tỉnh: {ward.provinceName}</p>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </ScrollArea>\r\n                  <p className=\"mt-2 text-xs text-muted-foreground\">\r\n                    Hiển thị tối đa 12 / {importPreview.summary.wardCount.toLocaleString(\"vi-VN\")} phường/xã.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" className=\"h-9\" onClick={() => handleImportDialogChange(false)} disabled={isImporting}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"button\" className=\"h-9\" onClick={handleConfirmImport} disabled={isImporting}>\r\n                {isImporting ? \"Đang ghi dữ liệu...\" : \"Xác nhận nhập file\"}\r\n              </Button>\r\n            </DialogFooter>\r\n          </DialogContent>\r\n        </Dialog>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProvincesPage;\r\n"],"names":[],"mappings":"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"}}]
}