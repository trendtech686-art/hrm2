{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n \r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n/**\r\n * Generate URL-friendly slug from Vietnamese text\r\n * Handles Vietnamese diacritics and special characters\r\n */\r\nexport function slugify(text: string): string {\r\n  if (!text) return '';\r\n  \r\n  // Vietnamese character map\r\n  const vnMap: Record<string, string> = {\r\n    '√†': 'a', '√°': 'a', '·∫£': 'a', '√£': 'a', '·∫°': 'a',\r\n    'ƒÉ': 'a', '·∫±': 'a', '·∫Ø': 'a', '·∫≥': 'a', '·∫µ': 'a', '·∫∑': 'a',\r\n    '√¢': 'a', '·∫ß': 'a', '·∫•': 'a', '·∫©': 'a', '·∫´': 'a', '·∫≠': 'a',\r\n    'ƒë': 'd',\r\n    '√®': 'e', '√©': 'e', '·∫ª': 'e', '·∫Ω': 'e', '·∫π': 'e',\r\n    '√™': 'e', '·ªÅ': 'e', '·∫ø': 'e', '·ªÉ': 'e', '·ªÖ': 'e', '·ªá': 'e',\r\n    '√¨': 'i', '√≠': 'i', '·ªâ': 'i', 'ƒ©': 'i', '·ªã': 'i',\r\n    '√≤': 'o', '√≥': 'o', '·ªè': 'o', '√µ': 'o', '·ªç': 'o',\r\n    '√¥': 'o', '·ªì': 'o', '·ªë': 'o', '·ªï': 'o', '·ªó': 'o', '·ªô': 'o',\r\n    '∆°': 'o', '·ªù': 'o', '·ªõ': 'o', '·ªü': 'o', '·ª°': 'o', '·ª£': 'o',\r\n    '√π': 'u', '√∫': 'u', '·ªß': 'u', '≈©': 'u', '·ª•': 'u',\r\n    '∆∞': 'u', '·ª´': 'u', '·ª©': 'u', '·ª≠': 'u', '·ªØ': 'u', '·ª±': 'u',\r\n    '·ª≥': 'y', '√Ω': 'y', '·ª∑': 'y', '·ªπ': 'y', '·ªµ': 'y',\r\n  };\r\n  \r\n  return text\r\n    .toLowerCase()\r\n    .split('')\r\n    .map(char => vnMap[char] || char)\r\n    .join('')\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '') // Remove remaining diacritics\r\n    .replace(/[^a-z0-9\\s-]/g, '') // Remove non-alphanumeric\r\n    .replace(/\\s+/g, '-') // Replace spaces with hyphens\r\n    .replace(/-+/g, '-') // Replace multiple hyphens\r\n    .replace(/^-+|-+$/g, ''); // Trim hyphens from ends\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAMO,SAAS,QAAQ,IAAY;IAClC,IAAI,CAAC,MAAM,OAAO;IAElB,2BAA2B;IAC3B,MAAM,QAAgC;QACpC,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QACL,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;IAC/C;IAEA,OAAO,KACJ,WAAW,GACX,KAAK,CAAC,IACN,GAAG,CAAC,CAAA,OAAQ,KAAK,CAAC,KAAK,IAAI,MAC3B,IAAI,CAAC,IACL,SAAS,CAAC,OACV,OAAO,CAAC,oBAAoB,IAAI,8BAA8B;KAC9D,OAAO,CAAC,iBAAiB,IAAI,0BAA0B;KACvD,OAAO,CAAC,QAAQ,KAAK,8BAA8B;KACnD,OAAO,CAAC,OAAO,KAAK,2BAA2B;KAC/C,OAAO,CAAC,YAAY,KAAK,yBAAyB;AACvD"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border border-border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-h3 font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,0EACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SettingsPlaceholder.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport type { LucideIcon } from 'lucide-react';\r\nimport { Inbox } from 'lucide-react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../ui/card';\r\nimport { cn } from '../../lib/utils';\r\n\r\nexport type SettingsPlaceholderProps = {\r\n  title: string;\r\n  description: string;\r\n  icon?: LucideIcon;\r\n  action?: React.ReactNode;\r\n  secondaryAction?: React.ReactNode;\r\n  children?: React.ReactNode;\r\n  className?: string;\r\n  contentClassName?: string;\r\n};\r\n\r\n/**\r\n * Placeholder card d√πng chung cho c√°c trang Settings ch∆∞a tri·ªÉn khai.\r\n */\r\nexport function SettingsPlaceholder({\r\n  title,\r\n  description,\r\n  icon: Icon = Inbox,\r\n  action,\r\n  secondaryAction,\r\n  children,\r\n  className,\r\n  contentClassName,\r\n}: SettingsPlaceholderProps) {\r\n  return (\r\n    <Card className={cn('border-dashed border-muted-foreground/40 shadow-none', className)}>\r\n      <CardHeader>\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"h-12 w-12 rounded-full bg-muted flex items-center justify-center\">\r\n            <Icon className=\"h-5 w-5 text-muted-foreground\" />\r\n          </div>\r\n          <div>\r\n            <CardTitle className=\"text-h5 font-semibold\">{title}</CardTitle>\r\n            <CardDescription>{description}</CardDescription>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className={cn('space-y-4 text-sm text-muted-foreground', contentClassName)}>\r\n        {children ?? (\r\n          <p>Ch·ª©c nƒÉng n√†y ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn. Vui l√≤ng quay l·∫°i sau.</p>\r\n        )}\r\n        {(action || secondaryAction) && (\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {action}\r\n            {secondaryAction}\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;AAgBO,SAAS,oBAAoB,EAClC,KAAK,EACL,WAAW,EACX,MAAM,OAAO,6MAAK,EAClB,MAAM,EACN,eAAe,EACf,QAAQ,EACR,SAAS,EACT,gBAAgB,EACS;IACzB,qBACE,8OAAC,iIAAI;QAAC,WAAW,IAAA,kHAAE,EAAC,wDAAwD;;0BAC1E,8OAAC,uIAAU;0BACT,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;;;;;;;;;;;sCAElB,8OAAC;;8CACC,8OAAC,sIAAS;oCAAC,WAAU;8CAAyB;;;;;;8CAC9C,8OAAC,4IAAe;8CAAE;;;;;;;;;;;;;;;;;;;;;;;0BAIxB,8OAAC,wIAAW;gBAAC,WAAW,IAAA,kHAAE,EAAC,2CAA2C;;oBACnE,0BACC,8OAAC;kCAAE;;;;;;oBAEJ,CAAC,UAAU,eAAe,mBACzB,8OAAC;wBAAI,WAAU;;4BACZ;4BACA;;;;;;;;;;;;;;;;;;;AAMb"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/smart-prefix.ts"],"sourcesContent":["/**\r\n * Smart Prefix System\r\n * Mapping entity types to their unique prefixes\r\n */\r\n\r\nexport const ENTITY_PREFIXES = {\r\n  // ========================================\r\n  // NH√ÇN S·ª∞ & T·ªî CH·ª®C (HR & ORGANIZATION)\r\n  // ========================================\r\n  'employees': 'NV',           // Nh√¢n vi√™n (Employee)\r\n  'departments': 'PB',         // Ph√≤ng ban (Department)\r\n  'branches': 'CN',            // Chi nh√°nh (Branch)\r\n  'job-titles': 'CV',          // Ch·ª©c v·ª• (Job Title)\r\n  \r\n  // ========================================\r\n  // KH√ÅCH H√ÄNG & ƒê·ªêI T√ÅC (CUSTOMERS & PARTNERS)\r\n  // ========================================\r\n  'customers': 'KH',           // Kh√°ch h√†ng (Customer)\r\n  'suppliers': 'NCC',          // Nh√† cung c·∫•p (Supplier)\r\n  'shipping-partners': 'DVVC', // ƒê∆°n v·ªã v·∫≠n chuy·ªÉn (Shipping Partner)\r\n  \r\n  // ========================================\r\n  // S·∫¢N PH·∫®M & KHO (PRODUCTS & INVENTORY)\r\n  // ========================================\r\n  'products': 'SP',            // S·∫£n ph·∫©m (Product)\r\n  'brands': 'TH',              // Th∆∞∆°ng hi·ªáu (Brand)\r\n  'categories': 'DM',          // Danh m·ª•c (Category)\r\n  'units': 'DVT',              // ƒê∆°n v·ªã t√≠nh (Unit)\r\n  'stock-locations': 'KHO',    // Kho h√†ng (Stock Location)\r\n  'inventory-receipts': 'NK',  // Nh·∫≠p kho (Inventory Receipt)\r\n  'inventory-checks': 'PKK',   // Phi·∫øu ki·ªÉm kho (Inventory Check)\r\n  'stock-transfers': 'PCK',    // Phi·∫øu chuy·ªÉn kho (Stock Transfer)\r\n  'stock-history': 'LS',       // L·ªãch s·ª≠ kho (Stock History)\r\n  \r\n  // ========================================\r\n  // B√ÅN H√ÄNG (SALES)\r\n  // ========================================\r\n  'orders': 'DH',              // ƒê∆°n h√†ng (Sales Order)\r\n  'sales-returns': 'TH',       // Tr·∫£ h√†ng (Sales Return)\r\n  'sales-channels': 'KENH',    // K√™nh b√°n h√†ng (Sales Channel)\r\n  'shipments': 'VC',           // V·∫≠n chuy·ªÉn (Shipment)\r\n  \r\n  // ========================================\r\n  // MUA H√ÄNG (PURCHASING)\r\n  // ========================================\r\n  'purchase-orders': 'PO',     // ƒê∆°n mua h√†ng (Purchase Order)\r\n  'purchase-returns': 'TM',    // Tr·∫£ mua (Purchase Return)\r\n  \r\n  // ========================================\r\n  // T√ÄI CH√çNH (FINANCE)\r\n  // ========================================\r\n  'receipts': 'PT',            // Phi·∫øu thu (Receipt)\r\n  'payments': 'PC',            // Phi·∫øu chi (Payment)\r\n  'voucher-receipt': 'PT',     // Alias phi·∫øu thu t·ª´ workflow voucher\r\n  'voucher-payment': 'PC',     // Alias phi·∫øu chi t·ª´ workflow voucher\r\n  'cashbook': 'SCT',           // S·ªï qu·ªπ (Cashbook)\r\n  'reconciliation': 'DT',      // ƒê·ªëi t√†i (Reconciliation)\r\n  \r\n  // C√†i ƒë·∫∑t t√†i ch√≠nh\r\n  'receipt-types': 'LT',       // Lo·∫°i thu (Receipt Type)\r\n  'payment-types': 'LC',       // Lo·∫°i chi (Payment Type)\r\n  'cash-accounts': 'TK',       // T√†i kho·∫£n ti·ªÅn (Cash Account)\r\n  'payment-methods': 'PTTT',   // Ph∆∞∆°ng th·ª©c thanh to√°n (Payment Method)\r\n  'pricing-settings': 'GIA',   // Ch√≠nh s√°ch gi√° (Pricing Policy)\r\n  'taxes': 'TAX',              // Thu·∫ø (Tax)\r\n  \r\n  // ========================================\r\n  // L∆Ø∆†NG & NH√ÇN S·ª∞ (PAYROLL & HR)\r\n  // ========================================\r\n  'payroll': 'BL',             // B·∫£ng l∆∞∆°ng (Payroll)\r\n  'payslips': 'PL',            // Phi·∫øu l∆∞∆°ng (Payslip)\r\n  'payroll-audit-log': 'PAL',  // Nh·∫≠t k√Ω payroll\r\n  'payroll-templates': 'BTP',  // M·∫´u b·∫£ng l∆∞∆°ng (Payroll Template)\r\n  'penalties': 'PF',           // Phi·∫øu ph·∫°t (Penalty)\r\n  'leaves': 'PN',              // Ph√©p ngh·ªâ (Leave)\r\n  'attendance': 'CC',          // Ch·∫•m c√¥ng (Attendance)\r\n  'duty-schedule': 'PC',       // Ph√¢n c√¥ng (Duty Schedule)\r\n  \r\n  // ========================================\r\n  // KPI & M·ª§C TI√äU (KPI & TARGETS)\r\n  // ========================================\r\n  'kpi': 'KPI',                // KPI\r\n  'target-groups': 'NHOM',     // Nh√≥m m·ª•c ti√™u (Target Group)\r\n  'other-targets': 'MT',       // M·ª•c ti√™u kh√°c (Other Target)\r\n  \r\n  // ========================================\r\n  // C√îNG VI·ªÜC & D·ªäCH V·ª§ (TASKS & SERVICES)\r\n  // ========================================\r\n  'internal-tasks': 'CVNB',    // C√¥ng vi·ªác n·ªôi b·ªô (Internal Task)\r\n  'task-templates': 'TMPL',    // M·∫´u c√¥ng vi·ªác (Task Template)\r\n  'custom-fields': 'FIELD',    // Tr∆∞·ªùng t√πy ch·ªânh (Custom Field)\r\n  'warranty': 'BH',            // B·∫£o h√†nh (Warranty)\r\n  'complaints': 'PKN',         // Khi·∫øu n·∫°i (Complaint)\r\n  \r\n  // ========================================\r\n  // C√ÄI ƒê·∫∂T & DANH M·ª§C (SETTINGS & CATEGORIES)\r\n  // ========================================\r\n  'provinces': 'TP',           // T·ªânh/Th√†nh ph·ªë (Province)\r\n  'districts': 'QH',           // Qu·∫≠n/Huy·ªán (District)\r\n  'wards': 'PX',               // Ph∆∞·ªùng/X√£ (Ward)\r\n  'wiki': 'TL',                // T√†i li·ªáu (Wiki)\r\n  'packaging': 'DG',           // ƒê√≥ng g√≥i (Packaging)\r\n  'audit-log': 'LOG',          // Nh·∫≠t k√Ω (Audit Log)\r\n  \r\n  // ========================================\r\n  // C√ÄI ƒê·∫∂T KH√ÅCH H√ÄNG (CUSTOMER SETTINGS)\r\n  // ========================================\r\n  'customer-types': 'LKH',     // Lo·∫°i kh√°ch h√†ng (Customer Type)\r\n  'customer-groups': 'NHKH',   // Nh√≥m kh√°ch h√†ng (Customer Group)\r\n  'customer-sources': 'NKH',   // Ngu·ªìn kh√°ch h√†ng (Customer Source)\r\n  'payment-terms': 'HTTT',     // H·∫°n thanh to√°n (Payment Term)\r\n  'credit-ratings': 'XHTD',    // X·∫øp h·∫°ng t√≠n d·ª•ng (Credit Rating)\r\n  'lifecycle-stages': 'GDL',   // Giai ƒëo·∫°n v√≤ng ƒë·ªùi kh√°ch h√†ng\r\n  'sla-settings': 'SLA',       // C√†i ƒë·∫∑t SLA kh√°ch h√†ng\r\n  \r\n  // ========================================\r\n  // C√ÄI ƒê·∫∂T NH√ÇN VI√äN (EMPLOYEE SETTINGS)\r\n  // ========================================\r\n  'employee-types': 'LNV',     // Lo·∫°i nh√¢n vi√™n (Employee Type)\r\n  'employee-statuses': 'TTNV', // Tr·∫°ng th√°i nh√¢n vi√™n (Employee Status)\r\n  'contract-types': 'LHD',     // Lo·∫°i h·ª£p ƒë·ªìng (Contract Type)\r\n  'work-shifts': 'CA',         // Ca l√†m vi·ªác (Work Shift)\r\n  'leave-types': 'LP',         // Lo·∫°i ngh·ªâ ph√©p (Leave Type)\r\n  'salary-components': 'SC',   // Th√†nh ph·∫ßn l∆∞∆°ng (Salary Component)\r\n  \r\n  // ========================================\r\n  // C√ÄI ƒê·∫∂T KH√ÅC (OTHER SETTINGS)\r\n  // ========================================\r\n  'settings': 'CFG',           // C·∫•u h√¨nh (Configuration)\r\n  \r\n  // ========================================\r\n  // AUTHENTICATION & USERS\r\n  // ========================================\r\n  'users': 'USER',             // User accounts (for admin management)\r\n  \r\n  // ========================================\r\n  // PKGX INTEGRATION (phukiengiaxuong.com.vn)\r\n  // ========================================\r\n  'pkgx-categories': 'PKGXCAT',        // Danh m·ª•c PKGX\r\n  'pkgx-brands': 'PKGXBRAND',          // Th∆∞∆°ng hi·ªáu PKGX\r\n  'pkgx-category-mappings': 'CATMAP',  // Mapping danh m·ª•c HRM ‚Üí PKGX\r\n  'pkgx-brand-mappings': 'BRANDMAP',   // Mapping th∆∞∆°ng hi·ªáu HRM ‚Üí PKGX\r\n  'pkgx-price-mappings': 'PRICEMAP',   // Mapping b·∫£ng gi√° HRM ‚Üí PKGX\r\n  'pkgx-sync-logs': 'PKGXLOG',         // Log ƒë·ªìng b·ªô PKGX\r\n  \r\n} as const;\r\n\r\nexport type EntityType = keyof typeof ENTITY_PREFIXES;\r\n\r\n/**\r\n * Get prefix for an entity type\r\n */\r\nexport function getPrefix(entityType: EntityType): string {\r\n  return ENTITY_PREFIXES[entityType];\r\n}\r\n\r\n/**\r\n * Get all entity types\r\n */\r\nexport function getAllEntityTypes(): EntityType[] {\r\n  return Object.keys(ENTITY_PREFIXES) as EntityType[];\r\n}\r\n\r\n/**\r\n * Check if an entity type exists\r\n */\r\nexport function isValidEntityType(entityType: string): entityType is EntityType {\r\n  return entityType in ENTITY_PREFIXES;\r\n}\r\n\r\n/**\r\n * Get entity type from prefix\r\n */\r\nexport function getEntityTypeFromPrefix(prefix: string): EntityType | null {\r\n  const entry = Object.entries(ENTITY_PREFIXES).find(([_, p]) => p === prefix);\r\n  return entry ? (entry[0] as EntityType) : null;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;AAEM,MAAM,kBAAkB;IAC7B,2CAA2C;IAC3C,wCAAwC;IACxC,2CAA2C;IAC3C,aAAa;IACb,eAAe;IACf,YAAY;IACZ,cAAc;IAEd,2CAA2C;IAC3C,8CAA8C;IAC9C,2CAA2C;IAC3C,aAAa;IACb,aAAa;IACb,qBAAqB;IAErB,2CAA2C;IAC3C,wCAAwC;IACxC,2CAA2C;IAC3C,YAAY;IACZ,UAAU;IACV,cAAc;IACd,SAAS;IACT,mBAAmB;IACnB,sBAAsB;IACtB,oBAAoB;IACpB,mBAAmB;IACnB,iBAAiB;IAEjB,2CAA2C;IAC3C,mBAAmB;IACnB,2CAA2C;IAC3C,UAAU;IACV,iBAAiB;IACjB,kBAAkB;IAClB,aAAa;IAEb,2CAA2C;IAC3C,wBAAwB;IACxB,2CAA2C;IAC3C,mBAAmB;IACnB,oBAAoB;IAEpB,2CAA2C;IAC3C,sBAAsB;IACtB,2CAA2C;IAC3C,YAAY;IACZ,YAAY;IACZ,mBAAmB;IACnB,mBAAmB;IACnB,YAAY;IACZ,kBAAkB;IAElB,oBAAoB;IACpB,iBAAiB;IACjB,iBAAiB;IACjB,iBAAiB;IACjB,mBAAmB;IACnB,oBAAoB;IACpB,SAAS;IAET,2CAA2C;IAC3C,iCAAiC;IACjC,2CAA2C;IAC3C,WAAW;IACX,YAAY;IACZ,qBAAqB;IACrB,qBAAqB;IACrB,aAAa;IACb,UAAU;IACV,cAAc;IACd,iBAAiB;IAEjB,2CAA2C;IAC3C,iCAAiC;IACjC,2CAA2C;IAC3C,OAAO;IACP,iBAAiB;IACjB,iBAAiB;IAEjB,2CAA2C;IAC3C,yCAAyC;IACzC,2CAA2C;IAC3C,kBAAkB;IAClB,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;IACZ,cAAc;IAEd,2CAA2C;IAC3C,6CAA6C;IAC7C,2CAA2C;IAC3C,aAAa;IACb,aAAa;IACb,SAAS;IACT,QAAQ;IACR,aAAa;IACb,aAAa;IAEb,2CAA2C;IAC3C,yCAAyC;IACzC,2CAA2C;IAC3C,kBAAkB;IAClB,mBAAmB;IACnB,oBAAoB;IACpB,iBAAiB;IACjB,kBAAkB;IAClB,oBAAoB;IACpB,gBAAgB;IAEhB,2CAA2C;IAC3C,wCAAwC;IACxC,2CAA2C;IAC3C,kBAAkB;IAClB,qBAAqB;IACrB,kBAAkB;IAClB,eAAe;IACf,eAAe;IACf,qBAAqB;IAErB,2CAA2C;IAC3C,gCAAgC;IAChC,2CAA2C;IAC3C,YAAY;IAEZ,2CAA2C;IAC3C,yBAAyB;IACzB,2CAA2C;IAC3C,SAAS;IAET,2CAA2C;IAC3C,4CAA4C;IAC5C,2CAA2C;IAC3C,mBAAmB;IACnB,eAAe;IACf,0BAA0B;IAC1B,uBAAuB;IACvB,uBAAuB;IACvB,kBAAkB;AAEpB;AAOO,SAAS,UAAU,UAAsB;IAC9C,OAAO,eAAe,CAAC,WAAW;AACpC;AAKO,SAAS;IACd,OAAO,OAAO,IAAI,CAAC;AACrB;AAKO,SAAS,kBAAkB,UAAkB;IAClD,OAAO,cAAc;AACvB;AAKO,SAAS,wBAAwB,MAAc;IACpD,MAAM,QAAQ,OAAO,OAAO,CAAC,iBAAiB,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,GAAK,MAAM;IACrE,OAAO,QAAS,KAAK,CAAC,EAAE,GAAkB;AAC5C"}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/id-config.ts"],"sourcesContent":["/**\r\n * ‚ö° ENTERPRISE ID MANAGEMENT SYSTEM v2.0\r\n * \r\n * SINGLE SOURCE OF TRUTH - Synced with smart-prefix.ts\r\n * \r\n * Features:\r\n * - 60+ entity configurations\r\n * - TypeScript branded types (SystemId, BusinessId)\r\n * - Category grouping for UI\r\n * - Validation rules\r\n * - Store factory integration\r\n * - Backward compatibility\r\n * \r\n * @version 2.0.0\r\n * @date 2025-11-10\r\n */\r\n\r\nimport { ENTITY_PREFIXES, type EntityType } from './smart-prefix';\r\n\r\n// Re-export EntityType for external use\r\nexport type { EntityType };\r\n\r\n// ========================================\r\n// üè∑Ô∏è BRANDED TYPES FOR TYPE SAFETY\r\n// ========================================\r\n\r\n/**\r\n * SystemId - Internal unique identifier (6 digits)\r\n * Used for: Database queries, foreign keys, routing\r\n * Example: \"EMP000001\", \"CUSTOMER000001\", \"ORDER000001\"\r\n */\r\nexport type SystemId = string & { readonly __brand: 'SystemId' };\r\n\r\n/**\r\n * BusinessId - User-facing display identifier (6 digits)\r\n * Used for: UI display, breadcrumbs, user communication\r\n * Example: \"NV000001\", \"KH000001\", \"DH000001\"\r\n */\r\nexport type BusinessId = string & { readonly __brand: 'BusinessId' };\r\n\r\n/**\r\n * Create a branded SystemId (use with caution - prefer auto-generation)\r\n */\r\nexport function createSystemId(id: string): SystemId {\r\n  return id as SystemId;\r\n}\r\n\r\n/**\r\n * Create a branded BusinessId (use with caution - prefer auto-generation)\r\n */\r\nexport function createBusinessId(id: string): BusinessId {\r\n  return id as BusinessId;\r\n}\r\n\r\nexport interface FormattedCounterInfo {\r\n  currentBusinessCounter: number;\r\n  currentSystemCounter: number;\r\n  nextBusinessId: BusinessId;\r\n  nextSystemId: SystemId;\r\n  digitCount: number;\r\n  prefix: string;\r\n  systemIdPrefix: string;\r\n  displayName: string;\r\n}\r\n\r\nexport function formatCounterInfo(\r\n  entityType: EntityType,\r\n  counters?: { business?: number | null; system?: number | null }\r\n): FormattedCounterInfo {\r\n  const config = ID_CONFIG[entityType];\r\n  if (!config) {\r\n    throw new Error(`Unknown entity type: ${entityType}`);\r\n  }\r\n\r\n  const currentBusinessCounter = Math.max(0, counters?.business ?? 0);\r\n  const currentSystemCounter = Math.max(0, counters?.system ?? currentBusinessCounter);\r\n  const nextBusinessCounter = currentBusinessCounter + 1;\r\n  const nextSystemCounter = currentSystemCounter + 1;\r\n  const paddedBusiness = String(nextBusinessCounter).padStart(config.digitCount, '0');\r\n  const paddedSystem = String(nextSystemCounter).padStart(config.digitCount, '0');\r\n\r\n  return {\r\n    currentBusinessCounter,\r\n    currentSystemCounter,\r\n    nextBusinessId: createBusinessId(`${config.prefix}${paddedBusiness}`),\r\n    nextSystemId: createSystemId(`${config.systemIdPrefix}${paddedSystem}`),\r\n    digitCount: config.digitCount,\r\n    prefix: config.prefix,\r\n    systemIdPrefix: config.systemIdPrefix,\r\n    displayName: config.displayName,\r\n  };\r\n}\r\n\r\n// ========================================\r\n// üìã CONFIGURATION INTERFACE\r\n// ========================================\r\n\r\nexport interface EntityIDConfig {\r\n  /** Entity type identifier */\r\n  entityType: EntityType;\r\n  \r\n  /** Prefix for business ID (user-facing) - from smart-prefix.ts */\r\n  prefix: string;\r\n  \r\n  /** Prefix for system ID (internal) - usually same or 'entity-name' */\r\n  systemIdPrefix: string;\r\n  \r\n  /** Number of digits for business ID (e.g., 6 ‚Üí NV000001) */\r\n  digitCount: number;\r\n  \r\n  /** Display name (Vietnamese) */\r\n  displayName: string;\r\n  \r\n  /** Category for settings UI grouping */\r\n  category: 'hr' | 'finance' | 'inventory' | 'sales' | 'purchasing' | 'service' | 'settings' | 'system';\r\n  \r\n  /** Description or notes */\r\n  description?: string;\r\n  \r\n  /** Custom validation rules */\r\n  validation?: {\r\n    /** Allow users to input custom ID */\r\n    allowCustomId?: boolean;\r\n    /** Regex pattern for validation */\r\n    pattern?: RegExp;\r\n    /** Minimum counter value */\r\n    minValue?: number;\r\n    /** Maximum counter value */\r\n    maxValue?: number;\r\n  };\r\n  \r\n  /** Whether entity uses store-factory auto-generation */\r\n  usesStoreFactory?: boolean;\r\n  \r\n  /** Special handling notes for developers */\r\n  notes?: string;\r\n}\r\n\r\n// ========================================\r\n// üóÇÔ∏è COMPLETE CONFIGURATION REGISTRY\r\n// ========================================\r\n\r\n/**\r\n * ID_CONFIG - Central registry for all 60+ entities\r\n * \r\n * ‚úÖ Synced with smart-prefix.ts\r\n * ‚úÖ Includes all missing entities\r\n * ‚úÖ Category organization\r\n */\r\nexport const ID_CONFIG: Record<EntityType, EntityIDConfig> = {\r\n  // ========================================\r\n  // üë• HR & ORGANIZATION (NH√ÇN S·ª∞)\r\n  // ========================================\r\n  \r\n  'employees': {\r\n    entityType: 'employees',\r\n    prefix: ENTITY_PREFIXES['employees'], // 'NV'\r\n    systemIdPrefix: 'EMP',\r\n    digitCount: 6,\r\n    displayName: 'Nh√¢n vi√™n',\r\n    category: 'hr',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'departments': {\r\n    entityType: 'departments',\r\n    prefix: ENTITY_PREFIXES['departments'], // 'PB'\r\n    systemIdPrefix: 'DEPT',\r\n    digitCount: 6,\r\n    displayName: 'Ph√≤ng ban',\r\n    category: 'hr',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'branches': {\r\n    entityType: 'branches',\r\n    prefix: ENTITY_PREFIXES['branches'], // 'CN'\r\n    systemIdPrefix: 'BRANCH',\r\n    digitCount: 6,\r\n    displayName: 'Chi nh√°nh',\r\n    category: 'hr',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'job-titles': {\r\n    entityType: 'job-titles',\r\n    prefix: ENTITY_PREFIXES['job-titles'], // 'CV'\r\n    systemIdPrefix: 'JOB',\r\n    digitCount: 6,\r\n    displayName: 'Ch·ª©c v·ª•',\r\n    category: 'hr',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'attendance': {\r\n    entityType: 'attendance',\r\n    prefix: ENTITY_PREFIXES['attendance'], // 'CC'\r\n    systemIdPrefix: 'ATTEND',\r\n    digitCount: 6,\r\n    displayName: 'Ch·∫•m c√¥ng',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'duty-schedule': {\r\n    entityType: 'duty-schedule',\r\n    prefix: ENTITY_PREFIXES['duty-schedule'], // 'PC'\r\n    systemIdPrefix: 'DUTY',\r\n    digitCount: 6,\r\n    displayName: 'Ph√¢n c√¥ng',\r\n    category: 'hr',\r\n    notes: 'Prefix conflict with \"payments\" (PC)',\r\n  },\r\n  \r\n  'payroll': {\r\n    entityType: 'payroll',\r\n    prefix: ENTITY_PREFIXES['payroll'], // 'BL'\r\n    systemIdPrefix: 'PAYROLL',\r\n    digitCount: 6,\r\n    displayName: 'B·∫£ng l∆∞∆°ng',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'payslips': {\r\n    entityType: 'payslips',\r\n    prefix: ENTITY_PREFIXES['payslips'], // 'PL'\r\n    systemIdPrefix: 'PAYSLIP',\r\n    digitCount: 6,\r\n    displayName: 'Phi·∫øu l∆∞∆°ng',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n    notes: 'Sinh t·ª´ payroll batch store',\r\n  },\r\n  \r\n  'payroll-audit-log': {\r\n    entityType: 'payroll-audit-log',\r\n    prefix: ENTITY_PREFIXES['payroll-audit-log'], // 'PAL'\r\n    systemIdPrefix: 'PAYROLLLOG',\r\n    digitCount: 6,\r\n    displayName: 'Nh·∫≠t k√Ω payroll',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n  },\r\n  'payroll-templates': {\r\n    entityType: 'payroll-templates',\r\n    prefix: ENTITY_PREFIXES['payroll-templates'], // 'BTP'\r\n    systemIdPrefix: 'PAYTPL',\r\n    digitCount: 6,\r\n    displayName: 'M·∫´u b·∫£ng l∆∞∆°ng',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n    notes: 'D√πng cho trang template payroll Phase 3',\r\n  },\r\n  \r\n  'penalties': {\r\n    entityType: 'penalties',\r\n    prefix: ENTITY_PREFIXES['penalties'], // 'PF'\r\n    systemIdPrefix: 'PENALTY',\r\n    digitCount: 6,\r\n    displayName: 'Phi·∫øu ph·∫°t',\r\n    category: 'hr',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'leaves': {\r\n    entityType: 'leaves',\r\n    prefix: ENTITY_PREFIXES['leaves'], // 'PN'\r\n    systemIdPrefix: 'LEAVE',\r\n    digitCount: 6,\r\n    displayName: 'Ngh·ªâ ph√©p',\r\n    category: 'hr',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // ========================================\r\n  // üë§ CUSTOMERS & PARTNERS (KH√ÅCH H√ÄNG)\r\n  // ========================================\r\n  \r\n  'customers': {\r\n    entityType: 'customers',\r\n    prefix: ENTITY_PREFIXES['customers'], // 'KH'\r\n    systemIdPrefix: 'CUSTOMER',\r\n    digitCount: 6,\r\n    displayName: 'Kh√°ch h√†ng',\r\n    category: 'sales',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'suppliers': {\r\n    entityType: 'suppliers',\r\n    prefix: ENTITY_PREFIXES['suppliers'], // 'NCC'\r\n    systemIdPrefix: 'SUPPLIER',\r\n    digitCount: 6,\r\n    displayName: 'Nh√† cung c·∫•p',\r\n    category: 'purchasing',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'shipping-partners': {\r\n    entityType: 'shipping-partners',\r\n    prefix: ENTITY_PREFIXES['shipping-partners'], // 'DVVC'\r\n    systemIdPrefix: 'SHIPPING',\r\n    digitCount: 6,\r\n    displayName: 'ƒê∆°n v·ªã v·∫≠n chuy·ªÉn',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // ========================================\r\n  // üì¶ PRODUCTS & INVENTORY (S·∫¢N PH·∫®M & KHO)\r\n  // ========================================\r\n  \r\n  'products': {\r\n    entityType: 'products',\r\n    prefix: ENTITY_PREFIXES['products'], // 'SP'\r\n    systemIdPrefix: 'PRODUCT',\r\n    digitCount: 6,\r\n    displayName: 'S·∫£n ph·∫©m',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'brands': {\r\n    entityType: 'brands',\r\n    prefix: ENTITY_PREFIXES['brands'], // 'TH'\r\n    systemIdPrefix: 'BRAND',\r\n    digitCount: 6,\r\n    displayName: 'Th∆∞∆°ng hi·ªáu',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'categories': {\r\n    entityType: 'categories',\r\n    prefix: ENTITY_PREFIXES['categories'], // 'DM'\r\n    systemIdPrefix: 'CATEGORY',\r\n    digitCount: 6,\r\n    displayName: 'Danh m·ª•c',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'units': {\r\n    entityType: 'units',\r\n    prefix: ENTITY_PREFIXES['units'], // 'DVT'\r\n    systemIdPrefix: 'UNIT',\r\n    digitCount: 6,\r\n    displayName: 'ƒê∆°n v·ªã t√≠nh',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'stock-locations': {\r\n    entityType: 'stock-locations',\r\n    prefix: ENTITY_PREFIXES['stock-locations'], // 'KHO'\r\n    systemIdPrefix: 'STOCK',\r\n    digitCount: 6,\r\n    displayName: 'V·ªã tr√≠ kho',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'inventory-receipts': {\r\n    entityType: 'inventory-receipts',\r\n    prefix: ENTITY_PREFIXES['inventory-receipts'], // 'NK'\r\n    systemIdPrefix: 'INVRECEIPT',\r\n    digitCount: 6,\r\n    displayName: 'Nh·∫≠p kho',\r\n    category: 'inventory',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'inventory-checks': {\r\n    entityType: 'inventory-checks',\r\n    prefix: ENTITY_PREFIXES['inventory-checks'], // 'PKK'\r\n    systemIdPrefix: 'INVCHECK',\r\n    digitCount: 6,\r\n    displayName: 'Phi·∫øu ki·ªÉm kho',\r\n    category: 'inventory',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'stock-transfers': {\r\n    entityType: 'stock-transfers',\r\n    prefix: ENTITY_PREFIXES['stock-transfers'], // 'PCK'\r\n    systemIdPrefix: 'TRANSFER',\r\n    digitCount: 6,\r\n    displayName: 'Phi·∫øu chuy·ªÉn kho',\r\n    category: 'inventory',\r\n    usesStoreFactory: true,\r\n    notes: 'systemId: TRANSFER000001, Business ID: PCK000001',\r\n  },\r\n  \r\n  'stock-history': {\r\n    entityType: 'stock-history',\r\n    prefix: ENTITY_PREFIXES['stock-history'], // 'LS'\r\n    systemIdPrefix: 'HISTORY',\r\n    digitCount: 6,\r\n    displayName: 'L·ªãch s·ª≠ kho',\r\n    category: 'inventory',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // ========================================\r\n  // üõí SALES (B√ÅN H√ÄNG)\r\n  // ========================================\r\n  \r\n  'orders': {\r\n    entityType: 'orders',\r\n    prefix: ENTITY_PREFIXES['orders'], // 'DH'\r\n    systemIdPrefix: 'ORDER',\r\n    digitCount: 6,\r\n    displayName: 'ƒê∆°n h√†ng',\r\n    category: 'sales',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'sales-returns': {\r\n    entityType: 'sales-returns',\r\n    prefix: ENTITY_PREFIXES['sales-returns'], // 'TH'\r\n    systemIdPrefix: 'RETURN',\r\n    digitCount: 6,\r\n    displayName: 'Tr·∫£ h√†ng',\r\n    category: 'sales',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'sales-channels': {\r\n    entityType: 'sales-channels',\r\n    prefix: ENTITY_PREFIXES['sales-channels'], // 'KENH'\r\n    systemIdPrefix: 'CHANNEL',\r\n    digitCount: 6,\r\n    displayName: 'K√™nh b√°n h√†ng',\r\n    category: 'sales',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'shipments': {\r\n    entityType: 'shipments',\r\n    prefix: ENTITY_PREFIXES['shipments'], // 'VC'\r\n    systemIdPrefix: 'SHIPMENT',\r\n    digitCount: 6,\r\n    displayName: 'V·∫≠n chuy·ªÉn',\r\n    category: 'sales',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // ========================================\r\n  // üè≠ PURCHASING (MUA H√ÄNG)\r\n  // ========================================\r\n  \r\n  'purchase-orders': {\r\n    entityType: 'purchase-orders',\r\n    prefix: ENTITY_PREFIXES['purchase-orders'], // 'PO'\r\n    systemIdPrefix: 'PURCHASE',\r\n    digitCount: 6,\r\n    displayName: 'ƒê∆°n mua h√†ng',\r\n    category: 'purchasing',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'purchase-returns': {\r\n    entityType: 'purchase-returns',\r\n    prefix: ENTITY_PREFIXES['purchase-returns'], // 'TM'\r\n    systemIdPrefix: 'PRETURN',\r\n    digitCount: 6,\r\n    displayName: 'Tr·∫£ h√†ng NCC',\r\n    category: 'purchasing',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // ========================================\r\n  // üí∞ FINANCE (T√ÄI CH√çNH)\r\n  // ========================================\r\n  \r\n  'receipts': {\r\n    entityType: 'receipts',\r\n    prefix: ENTITY_PREFIXES['receipts'], // 'PT'\r\n    systemIdPrefix: 'RECEIPT',\r\n    digitCount: 6,\r\n    displayName: 'Phi·∫øu thu',\r\n    category: 'finance',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'payments': {\r\n    entityType: 'payments',\r\n    prefix: ENTITY_PREFIXES['payments'], // 'PC'\r\n    systemIdPrefix: 'PAYMENT',\r\n    digitCount: 6,\r\n    displayName: 'Phi·∫øu chi',\r\n    category: 'finance',\r\n    usesStoreFactory: true,\r\n  },\r\n\r\n  'voucher-receipt': {\r\n    entityType: 'voucher-receipt',\r\n    prefix: ENTITY_PREFIXES['voucher-receipt'], // Alias 'PT'\r\n    systemIdPrefix: 'RECEIPT',\r\n    digitCount: 6,\r\n    displayName: 'Phi·∫øu thu (Voucher)',\r\n    category: 'finance',\r\n    usesStoreFactory: true,\r\n    notes: 'Alias d√πng cho c√°c workflow voucher-only ho·∫∑c m√†n h√¨nh t·ªïng h·ª£p phi·∫øu thu/chi.',\r\n  },\r\n  \r\n  'voucher-payment': {\r\n    entityType: 'voucher-payment',\r\n    prefix: ENTITY_PREFIXES['voucher-payment'], // Alias 'PC'\r\n    systemIdPrefix: 'PAYMENT',\r\n    digitCount: 6,\r\n    displayName: 'Phi·∫øu chi (Voucher)',\r\n    category: 'finance',\r\n    usesStoreFactory: true,\r\n    notes: 'Alias d√πng cho c√°c workflow voucher-only ho·∫∑c m√†n h√¨nh t·ªïng h·ª£p phi·∫øu thu/chi.',\r\n  },\r\n  \r\n  'cashbook': {\r\n    entityType: 'cashbook',\r\n    prefix: ENTITY_PREFIXES['cashbook'], // 'SCT'\r\n    systemIdPrefix: 'CASHBOOK',\r\n    digitCount: 6,\r\n    displayName: 'S·ªï qu·ªπ ti·ªÅn m·∫∑t',\r\n    category: 'finance',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'reconciliation': {\r\n    entityType: 'reconciliation',\r\n    prefix: ENTITY_PREFIXES['reconciliation'], // 'DT'\r\n    systemIdPrefix: 'RECON',\r\n    digitCount: 6,\r\n    displayName: 'ƒê·ªëi chi·∫øu',\r\n    category: 'finance',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // Finance Settings\r\n  'receipt-types': {\r\n    entityType: 'receipt-types',\r\n    prefix: ENTITY_PREFIXES['receipt-types'], // 'LT'\r\n    systemIdPrefix: 'RECTYPE',\r\n    digitCount: 6,\r\n    displayName: 'Lo·∫°i thu',\r\n    category: 'finance',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'payment-types': {\r\n    entityType: 'payment-types',\r\n    prefix: ENTITY_PREFIXES['payment-types'], // 'LC'\r\n    systemIdPrefix: 'PAYTYPE',\r\n    digitCount: 6,\r\n    displayName: 'Lo·∫°i chi',\r\n    category: 'finance',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'cash-accounts': {\r\n    entityType: 'cash-accounts',\r\n    prefix: ENTITY_PREFIXES['cash-accounts'], // 'TK'\r\n    systemIdPrefix: 'ACCOUNT',\r\n    digitCount: 6,\r\n    displayName: 'T√†i kho·∫£n',\r\n    category: 'finance',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'payment-methods': {\r\n    entityType: 'payment-methods',\r\n    prefix: ENTITY_PREFIXES['payment-methods'], // 'PTTT'\r\n    systemIdPrefix: 'METHOD',\r\n    digitCount: 6,\r\n    displayName: 'Ph∆∞∆°ng th·ª©c thanh to√°n',\r\n    category: 'finance',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'pricing-settings': {\r\n    entityType: 'pricing-settings',\r\n    prefix: ENTITY_PREFIXES['pricing-settings'], // 'GIA'\r\n    systemIdPrefix: 'PRICING',\r\n    digitCount: 6,\r\n    displayName: 'C√†i ƒë·∫∑t gi√°',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n\r\n  'taxes': {\r\n    entityType: 'taxes',\r\n    prefix: ENTITY_PREFIXES['taxes'], // 'TAX'\r\n    systemIdPrefix: 'TAX',\r\n    digitCount: 6,\r\n    displayName: 'Thu·∫ø',\r\n    category: 'settings',\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // ========================================\r\n  // üéØ KPI & TARGETS (M·ª§C TI√äU)\r\n  // ========================================\r\n  \r\n  'kpi': {\r\n    entityType: 'kpi',\r\n    prefix: ENTITY_PREFIXES['kpi'], // 'KPI'\r\n    systemIdPrefix: 'KPI',\r\n    digitCount: 6,\r\n    displayName: 'KPI',\r\n    category: 'hr',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'target-groups': {\r\n    entityType: 'target-groups',\r\n    prefix: ENTITY_PREFIXES['target-groups'], // 'NHOM'\r\n    systemIdPrefix: 'TARGET',\r\n    digitCount: 6,\r\n    displayName: 'Nh√≥m m·ª•c ti√™u',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'other-targets': {\r\n    entityType: 'other-targets',\r\n    prefix: ENTITY_PREFIXES['other-targets'], // 'MT'\r\n    systemIdPrefix: 'OTHERTARGET',\r\n    digitCount: 6,\r\n    displayName: 'M·ª•c ti√™u kh√°c',\r\n    category: 'sales',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // ========================================\r\n  // CUSTOMER SERVICE (D·ªäCH V·ª§)\r\n  // ========================================\r\n  \r\n  'internal-tasks': {\r\n    entityType: 'internal-tasks',\r\n    prefix: ENTITY_PREFIXES['internal-tasks'], // 'CVNB'\r\n    systemIdPrefix: 'TASK',\r\n    digitCount: 6,\r\n    displayName: 'C√¥ng vi·ªác n·ªôi b·ªô',\r\n    category: 'system',\r\n    usesStoreFactory: true,\r\n    validation: { allowCustomId: true },\r\n  },\r\n  \r\n  'task-templates': {\r\n    entityType: 'task-templates',\r\n    prefix: ENTITY_PREFIXES['task-templates'], // 'TMPL'\r\n    systemIdPrefix: 'TMPL',\r\n    digitCount: 6,\r\n    displayName: 'M·∫´u c√¥ng vi·ªác',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'custom-fields': {\r\n    entityType: 'custom-fields',\r\n    prefix: ENTITY_PREFIXES['custom-fields'], // 'FIELD'\r\n    systemIdPrefix: 'FIELD',\r\n    digitCount: 6,\r\n    displayName: 'Tr∆∞·ªùng t√πy ch·ªânh',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'warranty': {\r\n    entityType: 'warranty',\r\n    prefix: ENTITY_PREFIXES['warranty'], // 'BH'\r\n    systemIdPrefix: 'WARRANTY',\r\n    digitCount: 6,\r\n    displayName: 'B·∫£o h√†nh',\r\n    category: 'service',\r\n    usesStoreFactory: true,\r\n    notes: 'systemId: WARRANTY000001, Business ID: BH000001',\r\n  },\r\n  \r\n  'complaints': {\r\n    entityType: 'complaints',\r\n    prefix: ENTITY_PREFIXES['complaints'], // 'PKN'\r\n    systemIdPrefix: 'COMPLAINT',\r\n    digitCount: 6,\r\n    displayName: 'Khi·∫øu n·∫°i',\r\n    category: 'service',\r\n    usesStoreFactory: true,\r\n    notes: 'systemId: COMPLAINT000001, Business ID: PKN000001',\r\n  },\r\n  \r\n  // ========================================\r\n  // ‚öôÔ∏è SETTINGS & CATEGORIES\r\n  // ========================================\r\n  \r\n  'provinces': {\r\n    entityType: 'provinces',\r\n    prefix: ENTITY_PREFIXES['provinces'], // 'TP'\r\n    systemIdPrefix: 'PROVINCE',\r\n    digitCount: 6,\r\n    displayName: 'T·ªânh/Th√†nh ph·ªë',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  'districts': {\r\n    entityType: 'districts',\r\n    prefix: ENTITY_PREFIXES['districts'], // 'QH'\r\n    systemIdPrefix: 'DISTRICT',\r\n    digitCount: 6,\r\n    displayName: 'Qu·∫≠n/Huy·ªán',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  'wards': {\r\n    entityType: 'wards',\r\n    prefix: ENTITY_PREFIXES['wards'], // 'PX'\r\n    systemIdPrefix: 'WARD',\r\n    digitCount: 6,\r\n    displayName: 'Ph∆∞·ªùng/X√£',\r\n    category: 'settings',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  'wiki': {\r\n    entityType: 'wiki',\r\n    prefix: ENTITY_PREFIXES['wiki'], // 'TL'\r\n    systemIdPrefix: 'WIKI',\r\n    digitCount: 6,\r\n    displayName: 'T√†i li·ªáu',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'packaging': {\r\n    entityType: 'packaging',\r\n    prefix: ENTITY_PREFIXES['packaging'], // 'DG'\r\n    systemIdPrefix: 'PACKAGE',\r\n    digitCount: 6,\r\n    displayName: 'ƒê√≥ng g√≥i',\r\n    category: 'inventory',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'audit-log': {\r\n    entityType: 'audit-log',\r\n    prefix: ENTITY_PREFIXES['audit-log'], // 'LOG'\r\n    systemIdPrefix: 'LOG',\r\n    digitCount: 10,\r\n    displayName: 'Nh·∫≠t k√Ω',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // Customer Settings\r\n  'customer-types': {\r\n    entityType: 'customer-types',\r\n    prefix: ENTITY_PREFIXES['customer-types'], // 'LKH'\r\n    systemIdPrefix: 'CUSTTYPE',\r\n    digitCount: 6,\r\n    displayName: 'Lo·∫°i kh√°ch h√†ng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'customer-groups': {\r\n    entityType: 'customer-groups',\r\n    prefix: ENTITY_PREFIXES['customer-groups'], // 'NHKH'\r\n    systemIdPrefix: 'CUSTGROUP',\r\n    digitCount: 6,\r\n    displayName: 'Nh√≥m kh√°ch h√†ng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'customer-sources': {\r\n    entityType: 'customer-sources',\r\n    prefix: ENTITY_PREFIXES['customer-sources'], // 'NKH'\r\n    systemIdPrefix: 'CUSTSOURCE',\r\n    digitCount: 6,\r\n    displayName: 'Ngu·ªìn kh√°ch h√†ng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'payment-terms': {\r\n    entityType: 'payment-terms',\r\n    prefix: ENTITY_PREFIXES['payment-terms'], // 'HTTT'\r\n    systemIdPrefix: 'PAYTERM',\r\n    digitCount: 6,\r\n    displayName: 'H√¨nh th·ª©c thanh to√°n',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'credit-ratings': {\r\n    entityType: 'credit-ratings',\r\n    prefix: ENTITY_PREFIXES['credit-ratings'], // 'XHTD'\r\n    systemIdPrefix: 'CREDIT',\r\n    digitCount: 6,\r\n    displayName: 'X·∫øp h·∫°ng t√≠n d·ª•ng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  'lifecycle-stages': {\r\n    entityType: 'lifecycle-stages',\r\n    prefix: ENTITY_PREFIXES['lifecycle-stages'], // 'GDL'\r\n    systemIdPrefix: 'LIFECYCLE',\r\n    digitCount: 6,\r\n    displayName: 'Giai ƒëo·∫°n v√≤ng ƒë·ªùi kh√°ch h√†ng',\r\n    category: 'sales',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  'sla-settings': {\r\n    entityType: 'sla-settings',\r\n    prefix: ENTITY_PREFIXES['sla-settings'], // 'SLA'\r\n    systemIdPrefix: 'SLACFG',\r\n    digitCount: 6,\r\n    displayName: 'C√†i ƒë·∫∑t SLA kh√°ch h√†ng',\r\n    category: 'sales',\r\n    validation: { allowCustomId: true },\r\n    usesStoreFactory: true,\r\n  },\r\n  \r\n  // Employee Settings\r\n  'employee-types': {\r\n    entityType: 'employee-types',\r\n    prefix: ENTITY_PREFIXES['employee-types'], // 'LNV'\r\n    systemIdPrefix: 'EMPTYPE',\r\n    digitCount: 6,\r\n    displayName: 'Lo·∫°i nh√¢n vi√™n',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'employee-statuses': {\r\n    entityType: 'employee-statuses',\r\n    prefix: ENTITY_PREFIXES['employee-statuses'], // 'TTNV'\r\n    systemIdPrefix: 'EMPSTATUS',\r\n    digitCount: 6,\r\n    displayName: 'Tr·∫°ng th√°i nh√¢n vi√™n',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'contract-types': {\r\n    entityType: 'contract-types',\r\n    prefix: ENTITY_PREFIXES['contract-types'], // 'LHD'\r\n    systemIdPrefix: 'CONTRACT',\r\n    digitCount: 6,\r\n    displayName: 'Lo·∫°i h·ª£p ƒë·ªìng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'work-shifts': {\r\n    entityType: 'work-shifts',\r\n    prefix: ENTITY_PREFIXES['work-shifts'], // 'CA'\r\n    systemIdPrefix: 'WSHIFT',\r\n    digitCount: 6,\r\n    displayName: 'Ca l√†m vi·ªác',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'D√πng cho c√†i ƒë·∫∑t ca l√†m vi·ªác & Dual ID trong attendance',\r\n  },\r\n  \r\n  'leave-types': {\r\n    entityType: 'leave-types',\r\n    prefix: ENTITY_PREFIXES['leave-types'], // 'LP'\r\n    systemIdPrefix: 'LEAVETYPE',\r\n    digitCount: 6,\r\n    displayName: 'Lo·∫°i ngh·ªâ ph√©p',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Qu·∫£n l√Ω danh m·ª•c ph√©p nƒÉm/ph√©p ƒë·∫∑c bi·ªát',\r\n  },\r\n  \r\n  'salary-components': {\r\n    entityType: 'salary-components',\r\n    prefix: ENTITY_PREFIXES['salary-components'], // 'SC'\r\n    systemIdPrefix: 'SALCOMP',\r\n    digitCount: 6,\r\n    displayName: 'Th√†nh ph·∫ßn l∆∞∆°ng',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'D√πng cho c·∫•u h√¨nh payroll engine',\r\n  },\r\n  \r\n  // ========================================\r\n  // üîê SYSTEM & AUTH\r\n  // ========================================\r\n  \r\n  'settings': {\r\n    entityType: 'settings',\r\n    prefix: ENTITY_PREFIXES['settings'], // 'CFG'\r\n    systemIdPrefix: 'CONFIG',\r\n    digitCount: 6,\r\n    displayName: 'C·∫•u h√¨nh',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  'users': {\r\n    entityType: 'users',\r\n    prefix: ENTITY_PREFIXES['users'], // 'USER'\r\n    systemIdPrefix: 'USER',\r\n    digitCount: 6,\r\n    displayName: 'Ng∆∞·ªùi d√πng',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n  },\r\n  \r\n  // ========================================\r\n  // üåê PKGX INTEGRATION (phukiengiaxuong.com.vn)\r\n  // ========================================\r\n  \r\n  'pkgx-categories': {\r\n    entityType: 'pkgx-categories',\r\n    prefix: ENTITY_PREFIXES['pkgx-categories'], // 'PKGXCAT'\r\n    systemIdPrefix: 'PKGXCAT',\r\n    digitCount: 6,\r\n    displayName: 'Danh m·ª•c PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Danh m·ª•c t·ª´ website phukiengiaxuong.com.vn',\r\n  },\r\n  \r\n  'pkgx-brands': {\r\n    entityType: 'pkgx-brands',\r\n    prefix: ENTITY_PREFIXES['pkgx-brands'], // 'PKGXBRAND'\r\n    systemIdPrefix: 'PKGXBRAND',\r\n    digitCount: 6,\r\n    displayName: 'Th∆∞∆°ng hi·ªáu PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Th∆∞∆°ng hi·ªáu t·ª´ website phukiengiaxuong.com.vn',\r\n  },\r\n  \r\n  'pkgx-category-mappings': {\r\n    entityType: 'pkgx-category-mappings',\r\n    prefix: ENTITY_PREFIXES['pkgx-category-mappings'], // 'CATMAP'\r\n    systemIdPrefix: 'CATMAP',\r\n    digitCount: 6,\r\n    displayName: 'Mapping danh m·ª•c PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Mapping danh m·ª•c HRM ‚Üî PKGX',\r\n  },\r\n  \r\n  'pkgx-brand-mappings': {\r\n    entityType: 'pkgx-brand-mappings',\r\n    prefix: ENTITY_PREFIXES['pkgx-brand-mappings'], // 'BRANDMAP'\r\n    systemIdPrefix: 'BRANDMAP',\r\n    digitCount: 6,\r\n    displayName: 'Mapping th∆∞∆°ng hi·ªáu PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Mapping th∆∞∆°ng hi·ªáu HRM ‚Üî PKGX',\r\n  },\r\n  \r\n  'pkgx-price-mappings': {\r\n    entityType: 'pkgx-price-mappings',\r\n    prefix: ENTITY_PREFIXES['pkgx-price-mappings'], // 'PRICEMAP'\r\n    systemIdPrefix: 'PRICEMAP',\r\n    digitCount: 6,\r\n    displayName: 'Mapping gi√° PKGX',\r\n    category: 'settings',\r\n    usesStoreFactory: false,\r\n    notes: 'Mapping b·∫£ng gi√° HRM ‚Üí PKGX price fields',\r\n  },\r\n  \r\n  'pkgx-sync-logs': {\r\n    entityType: 'pkgx-sync-logs',\r\n    prefix: ENTITY_PREFIXES['pkgx-sync-logs'], // 'PKGXLOG'\r\n    systemIdPrefix: 'PKGXLOG',\r\n    digitCount: 6,\r\n    displayName: 'Log ƒë·ªìng b·ªô PKGX',\r\n    category: 'system',\r\n    usesStoreFactory: false,\r\n    notes: 'L∆∞u l·ªãch s·ª≠ ƒë·ªìng b·ªô v·ªõi PKGX',\r\n  },\r\n};\r\n\r\n// ========================================\r\n// üõ†Ô∏è HELPER FUNCTIONS\r\n// ========================================\r\n\r\n/**\r\n * Get configuration for an entity type\r\n */\r\nexport function getEntityConfig(entityType: EntityType): EntityIDConfig {\r\n  const config = ID_CONFIG[entityType];\r\n  if (!config) {\r\n    throw new Error(`No configuration found for entity type: ${entityType}`);\r\n  }\r\n  return config;\r\n}\r\n\r\n/**\r\n * Get all entity types in a category\r\n */\r\nexport function getEntitiesByCategory(category: EntityIDConfig['category']): EntityType[] {\r\n  return Object.values(ID_CONFIG)\r\n    .filter(config => config.category === category)\r\n    .map(config => config.entityType);\r\n}\r\n\r\n/**\r\n * Get entities grouped by category\r\n */\r\nexport function getEntityCategories(): Record<string, EntityType[]> {\r\n  const categories: Record<string, EntityType[]> = {\r\n    'hr': [],\r\n    'finance': [],\r\n    'inventory': [],\r\n    'sales': [],\r\n    'purchasing': [],\r\n    'service': [],\r\n    'settings': [],\r\n    'system': [],\r\n  };\r\n  \r\n  Object.values(ID_CONFIG).forEach(config => {\r\n    categories[config.category].push(config.entityType);\r\n  });\r\n  \r\n  return categories;\r\n}\r\n\r\n/**\r\n * Validate ID format for an entity\r\n * Returns validation result with detailed error message\r\n */\r\nexport function validateIdFormat(\r\n  id: string,\r\n  entityType: EntityType\r\n): { valid: boolean; error?: string } {\r\n  const config = getEntityConfig(entityType);\r\n  \r\n  // Check prefix\r\n  if (!id.startsWith(config.prefix)) {\r\n    return { \r\n      valid: false, \r\n      error: `Invalid prefix. Expected \"${config.prefix}\", got \"${id.slice(0, config.prefix.length)}\"` \r\n    };\r\n  }\r\n  \r\n  // Check digit count\r\n  const numberPart = id.substring(config.prefix.length);\r\n  if (numberPart.length !== config.digitCount) {\r\n    const expectedLength = config.prefix.length + config.digitCount;\r\n    return { \r\n      valid: false, \r\n      error: `Invalid length. Expected ${expectedLength} characters, got ${id.length}` \r\n    };\r\n  }\r\n  \r\n  // Check if numeric\r\n  if (!/^\\d+$/.test(numberPart)) {\r\n    return { \r\n      valid: false, \r\n      error: 'Numeric part must contain only digits' \r\n    };\r\n  }\r\n  \r\n  // Custom pattern validation\r\n  if (config.validation?.pattern && !config.validation.pattern.test(id)) {\r\n    return { \r\n      valid: false, \r\n      error: 'ID does not match required pattern' \r\n    };\r\n  }\r\n  \r\n  return { valid: true };\r\n}\r\n\r\n/**\r\n * Check if entity allows custom ID input\r\n */\r\nexport function allowsCustomId(entityType: EntityType): boolean {\r\n  return getEntityConfig(entityType).validation?.allowCustomId ?? false;\r\n}\r\n\r\n/**\r\n * Get entities that use store factory\r\n */\r\nexport function getStoreFactoryEntities(): EntityType[] {\r\n  return Object.values(ID_CONFIG)\r\n    .filter(config => config.usesStoreFactory === true)\r\n    .map(config => config.entityType);\r\n}\r\n\r\n/**\r\n * Get display label for category\r\n */\r\nexport function getCategoryLabel(category: EntityIDConfig['category']): string {\r\n  const labels: Record<EntityIDConfig['category'], string> = {\r\n    'hr': 'Nh√¢n s·ª± & T·ªï ch·ª©c',\r\n    'finance': 'T√†i ch√≠nh',\r\n    'inventory': 'Kho h√†ng',\r\n    'sales': 'B√°n h√†ng',\r\n    'purchasing': 'Mua h√†ng',\r\n    'service': 'D·ªãch v·ª• kh√°ch h√†ng',\r\n    'settings': 'C√†i ƒë·∫∑t',\r\n    'system': 'H·ªá th·ªëng',\r\n  };\r\n  return labels[category];\r\n}\r\n\r\n/**\r\n * Search entities by name or prefix\r\n */\r\nexport function searchEntities(query: string): EntityIDConfig[] {\r\n  const lowerQuery = query.toLowerCase();\r\n  return Object.values(ID_CONFIG).filter(config => \r\n    config.displayName.toLowerCase().includes(lowerQuery) ||\r\n    config.prefix.toLowerCase().includes(lowerQuery) ||\r\n    config.entityType.includes(lowerQuery)\r\n  );\r\n}\r\n\r\n/**\r\n * Get total entity count\r\n */\r\nexport function getTotalEntityCount(): number {\r\n  return Object.keys(ID_CONFIG).length;\r\n}\r\n\r\n/**\r\n * Export configuration for backup/import\r\n */\r\nexport function exportConfig(): string {\r\n  return JSON.stringify(ID_CONFIG, null, 2);\r\n}\r\n\r\n// ========================================\r\n// üìä STATISTICS & ANALYTICS\r\n// ========================================\r\n\r\nexport interface IDSystemStats {\r\n  totalEntities: number;\r\n  byCategory: Record<string, number>;\r\n  storeFactoryEnabled: number;\r\n  customIdAllowed: number;\r\n  averageDigitCount: number;\r\n}\r\n\r\n/**\r\n * Get ID system statistics\r\n */\r\nexport function getIDSystemStats(): IDSystemStats {\r\n  const configs = Object.values(ID_CONFIG);\r\n  \r\n  const byCategory: Record<string, number> = {};\r\n  let storeFactoryEnabled = 0;\r\n  let customIdAllowed = 0;\r\n  let totalDigits = 0;\r\n  \r\n  configs.forEach(config => {\r\n    // Count by category\r\n    byCategory[config.category] = (byCategory[config.category] || 0) + 1;\r\n    \r\n    // Count features\r\n    if (config.usesStoreFactory) storeFactoryEnabled++;\r\n    if (config.validation?.allowCustomId) customIdAllowed++;\r\n    totalDigits += config.digitCount;\r\n  });\r\n  \r\n  return {\r\n    totalEntities: configs.length,\r\n    byCategory,\r\n    storeFactoryEnabled,\r\n    customIdAllowed,\r\n    averageDigitCount: Math.round(totalDigits / configs.length * 10) / 10,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1463, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/breadcrumb-generator.ts"],"sourcesContent":["/**\r\n * üçû BREADCRUMB AUTO-GENERATION SYSTEM\r\n * \r\n * Automatically generates breadcrumbs from route metadata + entity data\r\n * \r\n * Features:\r\n * - Auto-lookup entity name from systemId\r\n * - Falls back to route metadata if entity not found\r\n * - Type-safe with SystemId branded types\r\n * - Supports all entity types from id-config.ts\r\n * \r\n * @example\r\n * ```typescript\r\n * // Route: /receipts/VOUCHER00000123\r\n * const crumbs = generateBreadcrumb(location.pathname);\r\n * // Result: ['Phi·∫øu thu/chi', 'PT000051']\r\n * ```\r\n * \r\n * @version 1.0.0\r\n * @date 2025-11-11\r\n */\r\n\r\nimport { type EntityType, getEntityConfig } from './id-config';\r\nimport { type SystemId } from './id-config';\r\n\r\n// Store registry - lazy loaded to avoid circular dependencies\r\ntype StoreGetter<T> = () => { data: T[] };\r\n\r\ninterface StoreRegistry {\r\n  [key: string]: StoreGetter<any>;\r\n}\r\n\r\nlet storeRegistry: StoreRegistry = {};\r\n\r\n/**\r\n * Register a store for breadcrumb lookup\r\n * Call this in store files to enable auto breadcrumb\r\n */\r\nexport function registerBreadcrumbStore<T extends { systemId: string; id?: string; name?: string }>(\r\n  entityType: EntityType,\r\n  getStore: StoreGetter<T>\r\n) {\r\n  storeRegistry[entityType] = getStore;\r\n}\r\n\r\n/**\r\n * Find entity by systemId and return display name\r\n */\r\nfunction findEntityDisplayName(entityType: EntityType, systemId: string): string | null {\r\n  const getStore = storeRegistry[entityType];\r\n  if (!getStore) return null;\r\n\r\n  try {\r\n    const store = getStore();\r\n    const item = store.data.find((d: any) => d.systemId === systemId);\r\n    \r\n    if (!item) return null;\r\n\r\n    // Priority: name > title > id (business ID) > systemId\r\n    return item.name || item.title || item.id || systemId;\r\n  } catch (error) {\r\n    console.warn(`[Breadcrumb] Failed to lookup ${entityType}:`, error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Parse route path and extract entity info\r\n */\r\ninterface RouteEntityInfo {\r\n  entityType: EntityType | null;\r\n  systemId: string | null;\r\n  displayName: string | null;\r\n}\r\n\r\nfunction parseRouteEntity(pathname: string): RouteEntityInfo {\r\n  // Pattern: /{entity-type}/{systemId}\r\n  const match = pathname.match(/^\\/([^/]+)\\/([^/]+)$/);\r\n  \r\n  if (!match) {\r\n    return { entityType: null, systemId: null, displayName: null };\r\n  }\r\n\r\n  const [, routeType, id] = match;\r\n  \r\n  // Map route type to entity type\r\n  const routeToEntityMap: Record<string, EntityType> = {\r\n    'receipts': 'voucher-receipt',\r\n    'payments': 'voucher-payment',\r\n    'employees': 'employees',\r\n    'customers': 'customers',\r\n    'products': 'products',\r\n    'orders': 'orders',\r\n    'suppliers': 'suppliers',\r\n    'complaints': 'complaints',\r\n    'warranty': 'warranty',\r\n    'purchase-orders': 'purchase-orders',\r\n    'sales-returns': 'sales-returns',\r\n    'purchase-returns': 'purchase-returns',\r\n    'inventory-checks': 'inventory-checks',\r\n  };\r\n\r\n  const entityType = routeToEntityMap[routeType] || null;\r\n  \r\n  if (!entityType) {\r\n    return { entityType: null, systemId: id, displayName: null };\r\n  }\r\n\r\n  // Lookup display name\r\n  const displayName = findEntityDisplayName(entityType, id);\r\n  \r\n  return { entityType, systemId: id, displayName };\r\n}\r\n\r\n/**\r\n * Generate breadcrumb trail from pathname\r\n * \r\n * @param pathname - Current route pathname\r\n * @param routeMeta - Optional route metadata with static breadcrumb\r\n * @returns Array of breadcrumb labels\r\n */\r\nexport function generateBreadcrumb(\r\n  pathname: string,\r\n  routeMeta?: { breadcrumb?: string[] }\r\n): string[] {\r\n  // If route has static breadcrumb metadata, use it as base\r\n  const baseCrumbs = routeMeta?.breadcrumb || [];\r\n  \r\n  // Try to enhance with entity data\r\n  const entityInfo = parseRouteEntity(pathname);\r\n  \r\n  if (entityInfo.displayName) {\r\n    // Replace last breadcrumb with entity display name\r\n    return [...baseCrumbs.slice(0, -1), entityInfo.displayName];\r\n  }\r\n  \r\n  // Fallback to route metadata\r\n  return baseCrumbs;\r\n}\r\n\r\n/**\r\n * Generate breadcrumb for detail page\r\n * \r\n * @example\r\n * ```typescript\r\n * // In voucher detail page (phi·∫øu chi)\r\n * const crumbs = generateDetailBreadcrumb('voucher-payment', voucher.systemId, 'Phi·∫øu thu/chi');\r\n * // Result: ['Phi·∫øu thu/chi', 'PT000051']\r\n * ```\r\n */\r\nexport function generateDetailBreadcrumb(\r\n  entityType: EntityType,\r\n  systemId: string,\r\n  listPageLabel: string\r\n): string[] {\r\n  const displayName = findEntityDisplayName(entityType, systemId);\r\n  return [listPageLabel, displayName || systemId];\r\n}\r\n\r\n/**\r\n * Generate breadcrumb for form page (create/edit)\r\n * \r\n * @example\r\n * ```typescript\r\n * const crumbs = generateFormBreadcrumb('employees', employeeSystemId, 'Nh√¢n vi√™n');\r\n * // Create: ['Nh√¢n vi√™n', 'Th√™m m·ªõi']\r\n * // Edit: ['Nh√¢n vi√™n', 'NV000001']\r\n * ```\r\n */\r\nexport function generateFormBreadcrumb(\r\n  entityType: EntityType,\r\n  systemId: string | null | undefined,\r\n  listPageLabel: string\r\n): string[] {\r\n  if (!systemId) {\r\n    return [listPageLabel, 'Th√™m m·ªõi'];\r\n  }\r\n  \r\n  const displayName = findEntityDisplayName(entityType, systemId);\r\n  return [listPageLabel, displayName || 'Ch·ªânh s·ª≠a'];\r\n}\r\n\r\n/**\r\n * Hook for breadcrumb in React components\r\n * \r\n * @example\r\n * ```typescript\r\n * function EmployeeDetailPage() {\r\n *   const { systemId } = useParams();\r\n *   const crumbs = useBreadcrumb('employees', systemId, 'Nh√¢n vi√™n');\r\n *   usePageHeader({ breadcrumb: crumbs });\r\n * }\r\n * ```\r\n */\r\nexport function useBreadcrumb(\r\n  entityType: EntityType,\r\n  systemId: string | null | undefined,\r\n  listPageLabel: string\r\n): string[] {\r\n  if (!systemId) {\r\n    return [listPageLabel, 'Th√™m m·ªõi'];\r\n  }\r\n  \r\n  return generateDetailBreadcrumb(entityType, systemId, listPageLabel);\r\n}\r\n\r\n/**\r\n * Get entity config for breadcrumb display\r\n */\r\nexport function getEntityDisplayInfo(entityType: EntityType) {\r\n  try {\r\n    const config = getEntityConfig(entityType);\r\n    return {\r\n      displayName: config.displayName,\r\n      prefix: config.prefix,\r\n      category: config.category,\r\n    };\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Clear store registry (for testing)\r\n */\r\nexport function clearBreadcrumbStores() {\r\n  storeRegistry = {};\r\n}\r\n\r\n/**\r\n * Get all registered stores (for debugging)\r\n */\r\nexport function getRegisteredStores(): string[] {\r\n  return Object.keys(storeRegistry);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;CAoBC,GAED;;AAUA,IAAI,gBAA+B,CAAC;AAM7B,SAAS,wBACd,UAAsB,EACtB,QAAwB;IAExB,aAAa,CAAC,WAAW,GAAG;AAC9B;AAEA;;CAEC,GACD,SAAS,sBAAsB,UAAsB,EAAE,QAAgB;IACrE,MAAM,WAAW,aAAa,CAAC,WAAW;IAC1C,IAAI,CAAC,UAAU,OAAO;IAEtB,IAAI;QACF,MAAM,QAAQ;QACd,MAAM,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,QAAQ,KAAK;QAExD,IAAI,CAAC,MAAM,OAAO;QAElB,uDAAuD;QACvD,OAAO,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,EAAE,IAAI;IAC/C,EAAE,OAAO,OAAO;QACd,QAAQ,IAAI,CAAC,CAAC,8BAA8B,EAAE,WAAW,CAAC,CAAC,EAAE;QAC7D,OAAO;IACT;AACF;AAWA,SAAS,iBAAiB,QAAgB;IACxC,qCAAqC;IACrC,MAAM,QAAQ,SAAS,KAAK,CAAC;IAE7B,IAAI,CAAC,OAAO;QACV,OAAO;YAAE,YAAY;YAAM,UAAU;YAAM,aAAa;QAAK;IAC/D;IAEA,MAAM,GAAG,WAAW,GAAG,GAAG;IAE1B,gCAAgC;IAChC,MAAM,mBAA+C;QACnD,YAAY;QACZ,YAAY;QACZ,aAAa;QACb,aAAa;QACb,YAAY;QACZ,UAAU;QACV,aAAa;QACb,cAAc;QACd,YAAY;QACZ,mBAAmB;QACnB,iBAAiB;QACjB,oBAAoB;QACpB,oBAAoB;IACtB;IAEA,MAAM,aAAa,gBAAgB,CAAC,UAAU,IAAI;IAElD,IAAI,CAAC,YAAY;QACf,OAAO;YAAE,YAAY;YAAM,UAAU;YAAI,aAAa;QAAK;IAC7D;IAEA,sBAAsB;IACtB,MAAM,cAAc,sBAAsB,YAAY;IAEtD,OAAO;QAAE;QAAY,UAAU;QAAI;IAAY;AACjD;AASO,SAAS,mBACd,QAAgB,EAChB,SAAqC;IAErC,0DAA0D;IAC1D,MAAM,aAAa,WAAW,cAAc,EAAE;IAE9C,kCAAkC;IAClC,MAAM,aAAa,iBAAiB;IAEpC,IAAI,WAAW,WAAW,EAAE;QAC1B,mDAAmD;QACnD,OAAO;eAAI,WAAW,KAAK,CAAC,GAAG,CAAC;YAAI,WAAW,WAAW;SAAC;IAC7D;IAEA,6BAA6B;IAC7B,OAAO;AACT;AAYO,SAAS,yBACd,UAAsB,EACtB,QAAgB,EAChB,aAAqB;IAErB,MAAM,cAAc,sBAAsB,YAAY;IACtD,OAAO;QAAC;QAAe,eAAe;KAAS;AACjD;AAYO,SAAS,uBACd,UAAsB,EACtB,QAAmC,EACnC,aAAqB;IAErB,IAAI,CAAC,UAAU;QACb,OAAO;YAAC;YAAe;SAAW;IACpC;IAEA,MAAM,cAAc,sBAAsB,YAAY;IACtD,OAAO;QAAC;QAAe,eAAe;KAAY;AACpD;AAcO,SAAS,cACd,UAAsB,EACtB,QAAmC,EACnC,aAAqB;IAErB,IAAI,CAAC,UAAU;QACb,OAAO;YAAC;YAAe;SAAW;IACpC;IAEA,OAAO,yBAAyB,YAAY,UAAU;AACxD;AAKO,SAAS,qBAAqB,UAAsB;IACzD,IAAI;QACF,MAAM,SAAS,IAAA,sIAAe,EAAC;QAC/B,OAAO;YACL,aAAa,OAAO,WAAW;YAC/B,QAAQ,OAAO,MAAM;YACrB,UAAU,OAAO,QAAQ;QAC3B;IACF,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAKO,SAAS;IACd,gBAAgB,CAAC;AACnB;AAKO,SAAS;IACd,OAAO,OAAO,IAAI,CAAC;AACrB"}},
    {"offset": {"line": 1632, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/breadcrumb-system.ts"],"sourcesContent":["/**\r\n * Breadcrumb System\r\n * \r\n * Central exports for breadcrumb functionality.\r\n * Re-exports from breadcrumb-generator.ts with additional types.\r\n */\r\n\r\n// Re-export functions that still make sense\r\nexport {\r\n  generateDetailBreadcrumb,\r\n  generateFormBreadcrumb,\r\n  useBreadcrumb,\r\n  getEntityDisplayInfo,\r\n  registerBreadcrumbStore,\r\n  clearBreadcrumbStores,\r\n  getRegisteredStores,\r\n} from './breadcrumb-generator';\r\n\r\n/**\r\n * Breadcrumb Item Interface\r\n * Used for page header breadcrumb navigation\r\n */\r\nexport interface BreadcrumbItem {\r\n  /** Display label for the breadcrumb */\r\n  label: string;\r\n  /** Route href for navigation */\r\n  href: string;\r\n  /** Whether this is the current/active page */\r\n  isCurrent?: boolean;\r\n}\r\n\r\n/**\r\n * Generate breadcrumb items from pathname\r\n * \r\n * @param pathname - Current route pathname  \r\n * @param context - Optional context data for entity lookup\r\n * @returns Array of BreadcrumbItem\r\n */\r\nexport function generateBreadcrumb(\r\n  pathname: string,\r\n  context?: Record<string, any>\r\n): BreadcrumbItem[] {\r\n  const segments = pathname.split('/').filter(Boolean);\r\n  \r\n  if (segments.length === 0) {\r\n    return [{ label: 'Trang ch·ªß', href: '/', isCurrent: true }];\r\n  }\r\n\r\n  const breadcrumbs: BreadcrumbItem[] = [\r\n    { label: 'Trang ch·ªß', href: '/', isCurrent: false }\r\n  ];\r\n\r\n  let currentPath = '';\r\n  segments.forEach((segment, index) => {\r\n    currentPath += `/${segment}`;\r\n    const isLast = index === segments.length - 1;\r\n    \r\n    // Get display label for segment\r\n    const label = getSegmentLabel(segment, context, isLast);\r\n    \r\n    breadcrumbs.push({\r\n      label,\r\n      href: currentPath,\r\n      isCurrent: isLast\r\n    });\r\n  });\r\n\r\n  return breadcrumbs;\r\n}\r\n\r\n/**\r\n * Get display label for a route segment\r\n */\r\nfunction getSegmentLabel(segment: string, context?: Record<string, any>, isLast?: boolean): string {\r\n  // Check if context provides entity name\r\n  if (context?.name && isLast) {\r\n    return context.name;\r\n  }\r\n  if (context?.title && isLast) {\r\n    return context.title;\r\n  }\r\n  if (context?.id && isLast) {\r\n    return context.id;\r\n  }\r\n\r\n  // Route to label mapping\r\n  const routeLabelMap: Record<string, string> = {\r\n    // Core\r\n    'dashboard': 'T·ªïng quan',\r\n    'employees': 'Nh√¢n vi√™n',\r\n    'customers': 'Kh√°ch h√†ng',\r\n    'products': 'S·∫£n ph·∫©m',\r\n    'orders': 'ƒê∆°n h√†ng',\r\n    'suppliers': 'Nh√† cung c·∫•p',\r\n    'receipts': 'Phi·∫øu thu',\r\n    'payments': 'Phi·∫øu chi',\r\n    'cashbook': 'S·ªï qu·ªπ',\r\n    'purchase-orders': 'ƒê∆°n mua h√†ng',\r\n    'purchase-returns': 'Tr·∫£ h√†ng NCC',\r\n    'sales-returns': 'Tr·∫£ h√†ng',\r\n    'inventory-receipts': 'Nh·∫≠p kho',\r\n    'inventory-checks': 'Ki·ªÉm kho',\r\n    'stock-transfers': 'Chuy·ªÉn kho',\r\n    'stock-locations': 'V·ªã tr√≠ kho',\r\n    'stock-history': 'L·ªãch s·ª≠ kho',\r\n    'cost-adjustments': 'ƒêi·ªÅu ch·ªânh gi√° v·ªën',\r\n    \r\n    // Settings\r\n    'settings': 'C√†i ƒë·∫∑t',\r\n    'store-info': 'Th√¥ng tin c·ª≠a h√†ng',\r\n    'appearance': 'Giao di·ªán',\r\n    'taxes': 'Thu·∫ø',\r\n    'pricing': 'B·∫£ng gi√°',\r\n    'shipping': 'V·∫≠n chuy·ªÉn',\r\n    'inventory': 'Kho h√†ng',\r\n    'print-templates': 'M·∫´u in',\r\n    'employee-roles': 'Ph√¢n quy·ªÅn',\r\n    'workflow-templates': 'Quy tr√¨nh',\r\n    'id-counters': 'M√£ t·ª± ƒë·ªông',\r\n    'provinces': 'T·ªânh th√†nh',\r\n    'sales-config': 'C·∫•u h√¨nh b√°n h√†ng',\r\n    'system-logs': 'Nh·∫≠t k√Ω h·ªá th·ªëng',\r\n    'import-export-logs': 'Nh·∫≠t k√Ω nh·∫≠p/xu·∫•t',\r\n    \r\n    // Operations\r\n    'warranty': 'B·∫£o h√†nh',\r\n    'complaints': 'Khi·∫øu n·∫°i',\r\n    'tasks': 'C√¥ng vi·ªác',\r\n    'wiki': 'Wiki',\r\n    'shipments': 'V·∫≠n ƒë∆°n',\r\n    'packaging': 'ƒê√≥ng g√≥i',\r\n    'attendance': 'Ch·∫•m c√¥ng',\r\n    'leaves': 'Ngh·ªâ ph√©p',\r\n    'payroll': 'B·∫£ng l∆∞∆°ng',\r\n    \r\n    // Reports\r\n    'reports': 'B√°o c√°o',\r\n    \r\n    // Forms\r\n    'new': 'Th√™m m·ªõi',\r\n    'edit': 'Ch·ªânh s·ª≠a',\r\n    \r\n    // Categories\r\n    'categories': 'Danh m·ª•c',\r\n    'brands': 'Th∆∞∆°ng hi·ªáu',\r\n  };\r\n  \r\n  return routeLabelMap[segment] || segment;\r\n}\r\n\r\n/**\r\n * Generate page title from pathname and context\r\n * \r\n * @param pathname - Current route pathname\r\n * @param context - Optional context with entity data\r\n * @returns Object with title and optional subtitle\r\n */\r\nexport function generatePageTitle(\r\n  pathname: string,\r\n  context?: Record<string, any>\r\n): { title: string; subtitle?: string } {\r\n  const segments = pathname.split('/').filter(Boolean);\r\n  const lastSegment = segments[segments.length - 1];\r\n  const secondLastSegment = segments[segments.length - 2];\r\n  \r\n  // Check for entity display name in context\r\n  if (context) {\r\n    const displayName = context.name || context.title || context.id;\r\n    if (displayName) {\r\n      // Determine page type\r\n      if (lastSegment === 'edit') {\r\n        return { title: `Ch·ªânh s·ª≠a ${displayName}` };\r\n      }\r\n      if (lastSegment === 'new') {\r\n        const entityLabel = getSegmentLabel(secondLastSegment);\r\n        return { title: `Th√™m ${entityLabel} m·ªõi` };\r\n      }\r\n      // Detail page\r\n      return { title: displayName };\r\n    }\r\n  }\r\n  \r\n  // Default title from route\r\n  const title = getSegmentLabel(lastSegment, context);\r\n  return { title };\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;;;CAKC,GAED,4CAA4C;AAC5C;;AA8BO,SAAS,mBACd,QAAgB,EAChB,OAA6B;IAE7B,MAAM,WAAW,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IAE5C,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO;YAAC;gBAAE,OAAO;gBAAa,MAAM;gBAAK,WAAW;YAAK;SAAE;IAC7D;IAEA,MAAM,cAAgC;QACpC;YAAE,OAAO;YAAa,MAAM;YAAK,WAAW;QAAM;KACnD;IAED,IAAI,cAAc;IAClB,SAAS,OAAO,CAAC,CAAC,SAAS;QACzB,eAAe,CAAC,CAAC,EAAE,SAAS;QAC5B,MAAM,SAAS,UAAU,SAAS,MAAM,GAAG;QAE3C,gCAAgC;QAChC,MAAM,QAAQ,gBAAgB,SAAS,SAAS;QAEhD,YAAY,IAAI,CAAC;YACf;YACA,MAAM;YACN,WAAW;QACb;IACF;IAEA,OAAO;AACT;AAEA;;CAEC,GACD,SAAS,gBAAgB,OAAe,EAAE,OAA6B,EAAE,MAAgB;IACvF,wCAAwC;IACxC,IAAI,SAAS,QAAQ,QAAQ;QAC3B,OAAO,QAAQ,IAAI;IACrB;IACA,IAAI,SAAS,SAAS,QAAQ;QAC5B,OAAO,QAAQ,KAAK;IACtB;IACA,IAAI,SAAS,MAAM,QAAQ;QACzB,OAAO,QAAQ,EAAE;IACnB;IAEA,yBAAyB;IACzB,MAAM,gBAAwC;QAC5C,OAAO;QACP,aAAa;QACb,aAAa;QACb,aAAa;QACb,YAAY;QACZ,UAAU;QACV,aAAa;QACb,YAAY;QACZ,YAAY;QACZ,YAAY;QACZ,mBAAmB;QACnB,oBAAoB;QACpB,iBAAiB;QACjB,sBAAsB;QACtB,oBAAoB;QACpB,mBAAmB;QACnB,mBAAmB;QACnB,iBAAiB;QACjB,oBAAoB;QAEpB,WAAW;QACX,YAAY;QACZ,cAAc;QACd,cAAc;QACd,SAAS;QACT,WAAW;QACX,YAAY;QACZ,aAAa;QACb,mBAAmB;QACnB,kBAAkB;QAClB,sBAAsB;QACtB,eAAe;QACf,aAAa;QACb,gBAAgB;QAChB,eAAe;QACf,sBAAsB;QAEtB,aAAa;QACb,YAAY;QACZ,cAAc;QACd,SAAS;QACT,QAAQ;QACR,aAAa;QACb,aAAa;QACb,cAAc;QACd,UAAU;QACV,WAAW;QAEX,UAAU;QACV,WAAW;QAEX,QAAQ;QACR,OAAO;QACP,QAAQ;QAER,aAAa;QACb,cAAc;QACd,UAAU;IACZ;IAEA,OAAO,aAAa,CAAC,QAAQ,IAAI;AACnC;AASO,SAAS,kBACd,QAAgB,EAChB,OAA6B;IAE7B,MAAM,WAAW,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IAC5C,MAAM,cAAc,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE;IACjD,MAAM,oBAAoB,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE;IAEvD,2CAA2C;IAC3C,IAAI,SAAS;QACX,MAAM,cAAc,QAAQ,IAAI,IAAI,QAAQ,KAAK,IAAI,QAAQ,EAAE;QAC/D,IAAI,aAAa;YACf,sBAAsB;YACtB,IAAI,gBAAgB,QAAQ;gBAC1B,OAAO;oBAAE,OAAO,CAAC,UAAU,EAAE,aAAa;gBAAC;YAC7C;YACA,IAAI,gBAAgB,OAAO;gBACzB,MAAM,cAAc,gBAAgB;gBACpC,OAAO;oBAAE,OAAO,CAAC,KAAK,EAAE,YAAY,IAAI,CAAC;gBAAC;YAC5C;YACA,cAAc;YACd,OAAO;gBAAE,OAAO;YAAY;QAC9B;IACF;IAEA,2BAA2B;IAC3B,MAAM,QAAQ,gBAAgB,aAAa;IAC3C,OAAO;QAAE;IAAM;AACjB"}},
    {"offset": {"line": 1785, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/contexts/page-header-context.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport type { BreadcrumbItem } from '../lib/breadcrumb-system';\r\nimport { generateBreadcrumb, generatePageTitle } from '../lib/breadcrumb-system';\r\n\r\n/**\r\n * Page Header State Interface\r\n * Defines the structure of page header data\r\n */\r\nexport interface PageHeaderDocLink {\r\n  href: string;\r\n  label?: string;\r\n}\r\n\r\nexport interface PageHeaderState {\r\n  title?: string | React.ReactNode | undefined;\r\n  subtitle?: string | undefined;\r\n  badge?: React.ReactNode | undefined;\r\n  showBackButton?: boolean | undefined;\r\n  backPath?: string | undefined;\r\n  onBack?: (() => void) | undefined;\r\n  actions?: React.ReactNode[] | React.ReactNode | undefined;\r\n  breadcrumb?: BreadcrumbItem[] | undefined;\r\n  context?: Record<string, any> | undefined; // For dynamic breadcrumb generation\r\n  docLink?: PageHeaderDocLink | undefined;\r\n}\r\n\r\n/**\r\n * Page Header Context\r\n */\r\ninterface PageHeaderContextValue {\r\n  pageHeader: PageHeaderState;\r\n  setPageHeader: (state: PageHeaderState) => void;\r\n  clearPageHeader: () => void;\r\n}\r\n\r\nconst PageHeaderStateContext = React.createContext<PageHeaderState | null>(null);\r\nconst PageHeaderDispatchContext = React.createContext<Omit<PageHeaderContextValue, 'pageHeader'> | null>(null);\r\n\r\n/**\r\n * Page Header Provider\r\n * Wrap your app with this provider to enable page header functionality\r\n */\r\nexport function PageHeaderProvider({ children }: { children: React.ReactNode }) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [pageHeader, setPageHeaderState] = React.useState<PageHeaderState>({});\r\n\r\n  // Auto-clear on route change (optional - can be disabled)\r\n  React.useEffect(() => {\r\n    // Don't auto-clear, let pages set their own headers\r\n    // setPageHeaderState({});\r\n  }, [pathname]);\r\n\r\n  const setPageHeader = React.useCallback((state: PageHeaderState) => {\r\n    setPageHeaderState(prev => {\r\n      // Auto-generate breadcrumb if not provided\r\n      let breadcrumb = state.breadcrumb;\r\n      if (!breadcrumb) {\r\n        breadcrumb = generateBreadcrumb(pathname, state.context);\r\n      } else {\r\n        // ‚ú® Transform route metadata breadcrumb format\r\n        // Convert: ['Nh√¢n vi√™n', 'Chi ti·∫øt'] or [{ label: 'Nh√¢n vi√™n', href: '/employees' }, 'Chi ti·∫øt']\r\n        // To: [{ label: 'Nh√¢n vi√™n', href: '/employees', isCurrent: false }, { label: 'Chi ti·∫øt', href: pathname, isCurrent: true }]\r\n        breadcrumb = breadcrumb.map((item, index) => {\r\n          if (typeof item === 'string') {\r\n            return {\r\n              label: item,\r\n              href: pathname,\r\n              isCurrent: index === breadcrumb!.length - 1\r\n            };\r\n          }\r\n          return {\r\n            ...item,\r\n            isCurrent: index === breadcrumb!.length - 1\r\n          };\r\n        });\r\n      }\r\n\r\n      // Auto-generate title if not provided\r\n      let title = state.title;\r\n      if (!title) {\r\n        const pageTitle = generatePageTitle(pathname, state.context);\r\n        title = pageTitle.title;\r\n      }\r\n\r\n      // Auto back handler if not provided\r\n      let onBack = state.onBack;\r\n      if (!onBack && state.showBackButton !== false) {\r\n        onBack = () => {\r\n          if (state.backPath) {\r\n            router.push(state.backPath);\r\n          } else {\r\n            router.back();\r\n          }\r\n        };\r\n      }\r\n\r\n      // ‚úÖ KH√îNG spread prev ƒë·ªÉ tr√°nh gi·ªØ l·∫°i state c≈© (nh∆∞ badge)\r\n      return {\r\n        ...state,\r\n        breadcrumb,\r\n        title,\r\n        onBack,\r\n      };\r\n    });\r\n  }, [pathname, router]);\r\n\r\n  const clearPageHeader = React.useCallback(() => {\r\n    setPageHeaderState({});\r\n  }, []);\r\n\r\n  const dispatchValue = React.useMemo(\r\n    () => ({\r\n      setPageHeader,\r\n      clearPageHeader,\r\n    }),\r\n    [setPageHeader, clearPageHeader]\r\n  );\r\n\r\n  return (\r\n    <PageHeaderDispatchContext.Provider value={dispatchValue}>\r\n      <PageHeaderStateContext.Provider value={pageHeader}>\r\n        {children}\r\n      </PageHeaderStateContext.Provider>\r\n    </PageHeaderDispatchContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Hook to access page header state (for rendering)\r\n */\r\nexport function usePageHeaderState() {\r\n  const context = React.useContext(PageHeaderStateContext);\r\n  if (!context) {\r\n    throw new Error('usePageHeaderState must be used within PageHeaderProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n/**\r\n * Hook to access page header dispatch (for setting header)\r\n */\r\nexport function usePageHeaderDispatch() {\r\n  const context = React.useContext(PageHeaderDispatchContext);\r\n  if (!context) {\r\n    throw new Error('usePageHeaderDispatch must be used within PageHeaderProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n/**\r\n * Legacy hook to access full context\r\n * @deprecated Use usePageHeaderState or usePageHeaderDispatch instead\r\n */\r\nexport function usePageHeaderContext() {\r\n  const state = usePageHeaderState();\r\n  const dispatch = usePageHeaderDispatch();\r\n  return { pageHeader: state, ...dispatch };\r\n}\r\n\r\n/**\r\n * Hook to set page header from any component\r\n * \r\n * @example\r\n * // Auto-generated breadcrumb + title\r\n * usePageHeader();\r\n * \r\n * @example\r\n * // Custom configuration\r\n * usePageHeader({\r\n *   title: 'B√πi My',\r\n *   subtitle: 'Tr∆∞·ªüng nh√≥m ‚Ä¢ Kinh doanh',\r\n *   badge: <Badge>Active</Badge>,\r\n *   showBackButton: true,\r\n *   actions: [\r\n *     <Button key=\"edit\">Ch·ªânh s·ª≠a</Button>\r\n *   ]\r\n * });\r\n * \r\n * @example\r\n * // With dynamic context for breadcrumb\r\n * usePageHeader({\r\n *   context: {\r\n *     employeeName: employee.fullName,\r\n *     employeeCode: employee.code\r\n *   }\r\n * });\r\n */\r\nexport function usePageHeader(config?: PageHeaderState) {\r\n  const { setPageHeader, clearPageHeader } = usePageHeaderDispatch();\r\n  const configRef = React.useRef(config);\r\n  \r\n  // Update ref without causing re-render\r\n  configRef.current = config;\r\n\r\n  // Create a serializable fingerprint of the config\r\n  const configFingerprint = React.useMemo(() => {\r\n    const currentConfig = config;\r\n    \r\n    // Helper to recursively extract text from React elements\r\n    const extractText = (node: any): string => {\r\n      if (!node) return '';\r\n      if (typeof node === 'string' || typeof node === 'number') return String(node);\r\n      if (Array.isArray(node)) return node.map(extractText).join('');\r\n      if (React.isValidElement(node)) {\r\n        return extractText((node.props as any).children);\r\n      }\r\n      if (typeof node === 'object' && 'props' in node) {\r\n        return extractText((node as any).props?.children);\r\n      }\r\n      return '';\r\n    };\r\n\r\n    const extractTextFromActions = (actions?: React.ReactNode | React.ReactNode[]) => {\r\n      if (!actions) return '';\r\n      const actionsArray = Array.isArray(actions) ? actions : [actions];\r\n      return actionsArray.map(node => {\r\n        if (!React.isValidElement(node)) return extractText(node);\r\n        const props = node.props as any;\r\n        return `${extractText(node)}|${props.disabled}|${props.hidden}|${node.key}`;\r\n      }).join('||');\r\n    };\r\n\r\n    return currentConfig ? JSON.stringify({\r\n      title: typeof currentConfig.title === 'string' ? currentConfig.title : extractText(currentConfig.title),\r\n      subtitle: currentConfig.subtitle,\r\n      showBackButton: currentConfig.showBackButton,\r\n      backPath: currentConfig.backPath,\r\n      actionsText: extractTextFromActions(currentConfig.actions),\r\n      breadcrumb: currentConfig.breadcrumb,\r\n      badgeKey: React.isValidElement(currentConfig.badge) ? currentConfig.badge.key : undefined,\r\n      context: currentConfig.context,\r\n      docLink: currentConfig.docLink,\r\n    }) : 'EMPTY';\r\n  }, [config]);\r\n\r\n  React.useEffect(() => {\r\n    const currentConfig = configRef.current;\r\n    if (currentConfig) {\r\n      setPageHeader(currentConfig);\r\n    }\r\n  }, [configFingerprint, setPageHeader]);\r\n\r\n  return { setPageHeader, clearPageHeader };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1984, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/use-settings-page-header.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Settings2 } from 'lucide-react';\r\nimport { usePageHeader, type PageHeaderState, type PageHeaderDocLink } from '../../contexts/page-header-context';\r\nimport type { BreadcrumbItem } from '../../lib/breadcrumb-system';\r\n\r\nexport type SettingsPageHeaderOptions = Omit<PageHeaderState, 'title' | 'docLink'> & {\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  docLink?: string | PageHeaderDocLink;\r\n};\r\n\r\nconst defaultDocLabel = 'Xem h∆∞·ªõng d·∫´n';\r\nconst baseBreadcrumb: BreadcrumbItem[] = [\r\n  { label: 'Trang ch·ªß', href: '/', isCurrent: false },\r\n  { label: 'C√†i ƒë·∫∑t', href: '/settings', isCurrent: false },\r\n];\r\n\r\nconst normalizeLabel = (label?: string) => label?.trim().toLocaleLowerCase('vi');\r\nconst isHomeCrumb = (item: BreadcrumbItem) => item.href === '/' || normalizeLabel(item.label) === 'trang ch·ªß';\r\nconst isSettingsCrumb = (item: BreadcrumbItem) => item.href === '/settings' || normalizeLabel(item.label) === 'c√†i ƒë·∫∑t';\r\n\r\nexport function useSettingsPageHeader(options: SettingsPageHeaderOptions) {\r\n  const pathname = usePathname();\r\n  const { title, icon, docLink, breadcrumb, ...rest } = options;\r\n\r\n  const normalizedDocLink = React.useMemo<PageHeaderDocLink | undefined>(() => {\r\n    if (!docLink) return undefined;\r\n    if (typeof docLink === 'string') {\r\n      return { href: docLink, label: defaultDocLabel };\r\n    }\r\n    return {\r\n      href: docLink.href,\r\n      label: docLink.label ?? defaultDocLabel,\r\n    };\r\n  }, [docLink]);\r\n\r\n  const decoratedTitle = React.useMemo(() => (\r\n    <span className=\"inline-flex items-center gap-2\">\r\n      {(icon ?? <Settings2 className=\"h-5 w-5 text-muted-foreground\" aria-hidden=\"true\" />)}\r\n      <span>{title}</span>\r\n    </span>\r\n  ), [icon, title]);\r\n\r\n  const normalizedBreadcrumb = React.useMemo(() => {\r\n    const custom = (breadcrumb ?? []).map((item) => ({\r\n      ...item,\r\n      href: item.href || pathname,\r\n    }));\r\n\r\n    let merged: BreadcrumbItem[] = custom.length\r\n      ? [...custom]\r\n      : [{ label: title, href: pathname, isCurrent: true }];\r\n\r\n    if (!merged.some(isHomeCrumb)) {\r\n      merged = [{ ...baseBreadcrumb[0] }, ...merged];\r\n    }\r\n\r\n    if (!merged.some(isSettingsCrumb)) {\r\n      const homeIndex = merged.findIndex(isHomeCrumb);\r\n      const insertionIndex = homeIndex >= 0 ? homeIndex + 1 : 0;\r\n      merged = [\r\n        ...merged.slice(0, insertionIndex),\r\n        { ...baseBreadcrumb[1] },\r\n        ...merged.slice(insertionIndex),\r\n      ];\r\n    }\r\n\r\n    return merged.map((item, index) => ({\r\n      ...item,\r\n      isCurrent: index === merged.length - 1,\r\n    }));\r\n  }, [breadcrumb, pathname, title]);\r\n\r\n  return usePageHeader({\r\n    ...rest,\r\n    breadcrumb: normalizedBreadcrumb,\r\n    title: decoratedTitle,\r\n    docLink: normalizedDocLink,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;AASA,MAAM,kBAAkB;AACxB,MAAM,iBAAmC;IACvC;QAAE,OAAO;QAAa,MAAM;QAAK,WAAW;IAAM;IAClD;QAAE,OAAO;QAAW,MAAM;QAAa,WAAW;IAAM;CACzD;AAED,MAAM,iBAAiB,CAAC,QAAmB,OAAO,OAAO,kBAAkB;AAC3E,MAAM,cAAc,CAAC,OAAyB,KAAK,IAAI,KAAK,OAAO,eAAe,KAAK,KAAK,MAAM;AAClG,MAAM,kBAAkB,CAAC,OAAyB,KAAK,IAAI,KAAK,eAAe,eAAe,KAAK,KAAK,MAAM;AAEvG,SAAS,sBAAsB,OAAkC;IACtE,MAAM,WAAW,IAAA,oMAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,MAAM,GAAG;IAEtD,MAAM,oBAAoB,gNAAa,CAAgC;QACrE,IAAI,CAAC,SAAS,OAAO;QACrB,IAAI,OAAO,YAAY,UAAU;YAC/B,OAAO;gBAAE,MAAM;gBAAS,OAAO;YAAgB;QACjD;QACA,OAAO;YACL,MAAM,QAAQ,IAAI;YAClB,OAAO,QAAQ,KAAK,IAAI;QAC1B;IACF,GAAG;QAAC;KAAQ;IAEZ,MAAM,iBAAiB,gNAAa,CAAC,kBACnC,8OAAC;YAAK,WAAU;;gBACZ,sBAAQ,8OAAC,6NAAS;oBAAC,WAAU;oBAAgC,eAAY;;;;;;8BAC3E,8OAAC;8BAAM;;;;;;;;;;;kBAER;QAAC;QAAM;KAAM;IAEhB,MAAM,uBAAuB,gNAAa,CAAC;QACzC,MAAM,SAAS,CAAC,cAAc,EAAE,EAAE,GAAG,CAAC,CAAC,OAAS,CAAC;gBAC/C,GAAG,IAAI;gBACP,MAAM,KAAK,IAAI,IAAI;YACrB,CAAC;QAED,IAAI,SAA2B,OAAO,MAAM,GACxC;eAAI;SAAO,GACX;YAAC;gBAAE,OAAO;gBAAO,MAAM;gBAAU,WAAW;YAAK;SAAE;QAEvD,IAAI,CAAC,OAAO,IAAI,CAAC,cAAc;YAC7B,SAAS;gBAAC;oBAAE,GAAG,cAAc,CAAC,EAAE;gBAAC;mBAAM;aAAO;QAChD;QAEA,IAAI,CAAC,OAAO,IAAI,CAAC,kBAAkB;YACjC,MAAM,YAAY,OAAO,SAAS,CAAC;YACnC,MAAM,iBAAiB,aAAa,IAAI,YAAY,IAAI;YACxD,SAAS;mBACJ,OAAO,KAAK,CAAC,GAAG;gBACnB;oBAAE,GAAG,cAAc,CAAC,EAAE;gBAAC;mBACpB,OAAO,KAAK,CAAC;aACjB;QACH;QAEA,OAAO,OAAO,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;gBAClC,GAAG,IAAI;gBACP,WAAW,UAAU,OAAO,MAAM,GAAG;YACvC,CAAC;IACH,GAAG;QAAC;QAAY;QAAU;KAAM;IAEhC,OAAO,IAAA,uJAAa,EAAC;QACnB,GAAG,IAAI;QACP,YAAY;QACZ,OAAO;QACP,SAAS;IACX;AACF"}},
    {"offset": {"line": 2113, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/taxes-page.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { SettingsPlaceholder } from '../../components/settings/SettingsPlaceholder';\r\nimport { useSettingsPageHeader } from './use-settings-page-header';\r\nimport { Card, CardContent } from '../../components/ui/card';\r\nimport { ReceiptCent } from 'lucide-react';\r\n\r\nexport function TaxesPage() {\r\n  useSettingsPageHeader({\r\n    title: 'Thu·∫ø',\r\n  });\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent className=\"p-6\">\r\n        <SettingsPlaceholder\r\n          icon={ReceiptCent}\r\n          title=\"Qu·∫£n l√Ω thu·∫ø\"\r\n          description=\"Ch·ª©c nƒÉng ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn\"\r\n        >\r\n          <p>\r\n            Module thu·∫ø s·∫Ω h·ªó tr·ª£ khai b√°o thu·∫ø su·∫•t ƒë·∫ßu v√†o/ƒë·∫ßu ra, map s·∫£n ph·∫©m v√† ƒë·ªìng b·ªô v·ªõi ch·ª©ng t·ª´ b√°n h√†ng.\r\n            Ch√∫ng t√¥i ƒëang tri·ªÉn khai b·∫£ng thu·∫ø linh ho·∫°t tr∆∞·ªõc khi m·ªü cho ng∆∞·ªùi d√πng.\r\n          </p>\r\n        </SettingsPlaceholder>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;;;;AAEO,SAAS;IACd,IAAA,mLAAqB,EAAC;QACpB,OAAO;IACT;IAEA,qBACE,8OAAC,iIAAI;kBACH,cAAA,8OAAC,wIAAW;YAAC,WAAU;sBACrB,cAAA,8OAAC,qKAAmB;gBAClB,MAAM,mOAAW;gBACjB,OAAM;gBACN,aAAY;0BAEZ,cAAA,8OAAC;8BAAE;;;;;;;;;;;;;;;;;;;;;AAQb"}}]
}