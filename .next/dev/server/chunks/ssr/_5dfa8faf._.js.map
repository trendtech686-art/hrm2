{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n \r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n/**\r\n * Generate URL-friendly slug from Vietnamese text\r\n * Handles Vietnamese diacritics and special characters\r\n */\r\nexport function slugify(text: string): string {\r\n  if (!text) return '';\r\n  \r\n  // Vietnamese character map\r\n  const vnMap: Record<string, string> = {\r\n    'à': 'a', 'á': 'a', 'ả': 'a', 'ã': 'a', 'ạ': 'a',\r\n    'ă': 'a', 'ằ': 'a', 'ắ': 'a', 'ẳ': 'a', 'ẵ': 'a', 'ặ': 'a',\r\n    'â': 'a', 'ầ': 'a', 'ấ': 'a', 'ẩ': 'a', 'ẫ': 'a', 'ậ': 'a',\r\n    'đ': 'd',\r\n    'è': 'e', 'é': 'e', 'ẻ': 'e', 'ẽ': 'e', 'ẹ': 'e',\r\n    'ê': 'e', 'ề': 'e', 'ế': 'e', 'ể': 'e', 'ễ': 'e', 'ệ': 'e',\r\n    'ì': 'i', 'í': 'i', 'ỉ': 'i', 'ĩ': 'i', 'ị': 'i',\r\n    'ò': 'o', 'ó': 'o', 'ỏ': 'o', 'õ': 'o', 'ọ': 'o',\r\n    'ô': 'o', 'ồ': 'o', 'ố': 'o', 'ổ': 'o', 'ỗ': 'o', 'ộ': 'o',\r\n    'ơ': 'o', 'ờ': 'o', 'ớ': 'o', 'ở': 'o', 'ỡ': 'o', 'ợ': 'o',\r\n    'ù': 'u', 'ú': 'u', 'ủ': 'u', 'ũ': 'u', 'ụ': 'u',\r\n    'ư': 'u', 'ừ': 'u', 'ứ': 'u', 'ử': 'u', 'ữ': 'u', 'ự': 'u',\r\n    'ỳ': 'y', 'ý': 'y', 'ỷ': 'y', 'ỹ': 'y', 'ỵ': 'y',\r\n  };\r\n  \r\n  return text\r\n    .toLowerCase()\r\n    .split('')\r\n    .map(char => vnMap[char] || char)\r\n    .join('')\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '') // Remove remaining diacritics\r\n    .replace(/[^a-z0-9\\s-]/g, '') // Remove non-alphanumeric\r\n    .replace(/\\s+/g, '-') // Replace spaces with hyphens\r\n    .replace(/-+/g, '-') // Replace multiple hyphens\r\n    .replace(/^-+|-+$/g, ''); // Trim hyphens from ends\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAMO,SAAS,QAAQ,IAAY;IAClC,IAAI,CAAC,MAAM,OAAO;IAElB,2BAA2B;IAC3B,MAAM,QAAgC;QACpC,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QACL,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAC7C,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QACvD,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;QAAK,KAAK;IAC/C;IAEA,OAAO,KACJ,WAAW,GACX,KAAK,CAAC,IACN,GAAG,CAAC,CAAA,OAAQ,KAAK,CAAC,KAAK,IAAI,MAC3B,IAAI,CAAC,IACL,SAAS,CAAC,OACV,OAAO,CAAC,oBAAoB,IAAI,8BAA8B;KAC9D,OAAO,CAAC,iBAAiB,IAAI,0BAA0B;KACvD,OAAO,CAAC,QAAQ,KAAK,8BAA8B;KACnD,OAAO,CAAC,OAAO,KAAK,2BAA2B;KAC/C,OAAO,CAAC,YAAY,KAAK,yBAAyB;AACvD"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nexport type InputProps = React.ComponentProps<\"input\">;\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,iYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-9 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/ui-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\n\r\ntype UiState = {\r\n  isSidebarOpen: boolean;\r\n  toggleSidebar: () => void;\r\n  setSidebarOpen: (isOpen: boolean) => void;\r\n  isSidebarCollapsed: boolean;\r\n  toggleSidebarCollapse: () => void;\r\n  setSidebarCollapsed: (isCollapsed: boolean) => void;\r\n};\r\n\r\nexport const useUiStore = create<UiState>((set) => ({\r\n  isSidebarOpen: true, // Default to open for desktop, will be adjusted by initializer\r\n  toggleSidebar: () => set((state) => ({ isSidebarOpen: !state.isSidebarOpen })),\r\n  setSidebarOpen: (isOpen) => set({ isSidebarOpen: isOpen }),\r\n  isSidebarCollapsed: false,\r\n  toggleSidebarCollapse: () => set((state) => ({ isSidebarCollapsed: !state.isSidebarCollapsed })),\r\n  setSidebarCollapsed: (isCollapsed) => set({ isSidebarCollapsed: isCollapsed }),\r\n}));\r\n"],"names":[],"mappings":";;;;AAAA;;AAWO,MAAM,aAAa,IAAA,kJAAM,EAAU,CAAC,MAAQ,CAAC;QAClD,eAAe;QACf,eAAe,IAAM,IAAI,CAAC,QAAU,CAAC;oBAAE,eAAe,CAAC,MAAM,aAAa;gBAAC,CAAC;QAC5E,gBAAgB,CAAC,SAAW,IAAI;gBAAE,eAAe;YAAO;QACxD,oBAAoB;QACpB,uBAAuB,IAAM,IAAI,CAAC,QAAU,CAAC;oBAAE,oBAAoB,CAAC,MAAM,kBAAkB;gBAAC,CAAC;QAC9F,qBAAqB,CAAC,cAAgB,IAAI;gBAAE,oBAAoB;YAAY;IAC9E,CAAC"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <ScrollAreaPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative overflow-hidden\", className)}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\r\n      {children}\r\n    </ScrollAreaPrimitive.Viewport>\r\n    <ScrollBar />\r\n    <ScrollAreaPrimitive.Corner />\r\n  </ScrollAreaPrimitive.Root>\r\n))\r\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\r\n\r\nconst ScrollBar = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\r\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n    ref={ref}\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"flex touch-none select-none transition-colors\",\r\n      orientation === \"vertical\" &&\r\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n      orientation === \"horizontal\" &&\r\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\r\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n))\r\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\r\n\r\nexport { ScrollArea, ScrollBar }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,kLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,8OAAC,sLAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,oLAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,kLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC,iMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,kHAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6LAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,iMAAuC,CAAC,WAAW"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/sidebar.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"../../lib/utils\"\r\nimport { useUiStore } from '../../lib/ui-store'\r\nimport { ScrollArea } from \"./scroll-area\"\r\n\r\nconst Sidebar = React.forwardRef<\r\n  HTMLElement,\r\n  React.HTMLAttributes<HTMLElement>\r\n>(({ className, ...props }, ref) => {\r\n  const { isSidebarOpen, isSidebarCollapsed } = useUiStore();\r\n  return (\r\n    <aside\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed inset-y-0 left-0 z-40 flex-shrink-0 bg-card flex flex-col border-r border-border shadow-sm transition-all duration-300 ease-in-out lg:translate-x-0 overflow-x-hidden\",\r\n        isSidebarCollapsed ? \"w-16\" : \"w-64\",\r\n        isSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n});\r\nSidebar.displayName = \"Sidebar\";\r\n\r\nconst SidebarHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex h-16 items-center border-b border-border px-6 shrink-0\", className)}\r\n    {...props}\r\n  />\r\n));\r\nSidebarHeader.displayName = \"SidebarHeader\";\r\n\r\nconst SidebarNav = React.forwardRef<\r\n  HTMLElement,\r\n  React.HTMLAttributes<HTMLElement>\r\n>(({ className, ...props }, ref) => (\r\n  <ScrollArea className=\"flex-1\">\r\n    <nav\r\n      ref={ref}\r\n      className={cn(\"px-4 py-4\", className)}\r\n      {...props}\r\n    />\r\n  </ScrollArea>\r\n));\r\nSidebarNav.displayName = \"SidebarNav\";\r\n\r\nconst SidebarFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"mt-auto border-t border-border p-4 shrink-0\", className)}\r\n    {...props}\r\n  />\r\n));\r\nSidebarFooter.displayName = \"SidebarFooter\";\r\n\r\nconst SidebarGroup = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"mb-4\", className)}\r\n    {...props}\r\n  />\r\n));\r\nSidebarGroup.displayName = \"SidebarGroup\";\r\n\r\nconst SidebarGroupLabel = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"mb-2 px-3 text-xs font-semibold uppercase text-muted-foreground tracking-wider\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\r\n\r\nconst SidebarGroupContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col gap-1\", className)}\r\n    {...props}\r\n  />\r\n));\r\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\r\n\r\nexport { \r\n  Sidebar, \r\n  SidebarHeader, \r\n  SidebarNav, \r\n  SidebarFooter,\r\n  SidebarGroup,\r\n  SidebarGroupLabel,\r\n  SidebarGroupContent,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,wBAAU,mNAAgB,CAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,MAAM,EAAE,aAAa,EAAE,kBAAkB,EAAE,GAAG,IAAA,gIAAU;IACxD,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,+KACA,qBAAqB,SAAS,QAC9B,gBAAgB,kBAAkB,qBAClC;QAED,GAAG,KAAK;;;;;;AAGf;AACA,QAAQ,WAAW,GAAG;AAEtB,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,+DAA+D;QAC5E,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iJAAU;QAAC,WAAU;kBACpB,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,IAAA,kHAAE,EAAC,aAAa;YAC1B,GAAG,KAAK;;;;;;;;;;;AAIf,WAAW,WAAW,GAAG;AAEzB,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,+CAA+C;QAC5D,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,kFACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oCAAsB,mNAAgB,CAG1C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGb,oBAAoB,WAAW,GAAG"}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/tooltip.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { createPortal } from \"react-dom\"\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\n// --- Provider for global settings ---\r\ntype TooltipProviderProps = {\r\n  // FIX: Made children optional to resolve a TypeScript error where the compiler failed to infer the children prop from JSX.\r\n  children?: React.ReactNode;\r\n  delayDuration?: number;\r\n};\r\n\r\nconst TooltipProviderContext = React.createContext<{ delayDuration: number }>({\r\n  delayDuration: 300,\r\n});\r\n\r\nconst TooltipProvider = ({ children, delayDuration = 300 }: TooltipProviderProps) => {\r\n  return (\r\n    <TooltipProviderContext.Provider value={{ delayDuration }}>\r\n      {children}\r\n    </TooltipProviderContext.Provider>\r\n  );\r\n};\r\n\r\n// --- Individual Tooltip Context ---\r\ntype TooltipContextType = {\r\n  open: boolean;\r\n  setOpen: (open: boolean) => void;\r\n  triggerRef: React.RefObject<HTMLElement | null>;\r\n};\r\n\r\nconst TooltipContext = React.createContext<TooltipContextType | undefined>(undefined);\r\n\r\nconst useTooltip = () => {\r\n  const context = React.useContext(TooltipContext);\r\n  if (!context) {\r\n    throw new Error(\"useTooltip must be used within a Tooltip\");\r\n  }\r\n  return context;\r\n};\r\n\r\n// --- Components ---\r\nconst Tooltip = ({\r\n  children,\r\n  open: controlledOpen,\r\n  onOpenChange: setControlledOpen,\r\n  defaultOpen = false,\r\n}: {\r\n  children?: React.ReactNode;\r\n  open?: boolean;\r\n  onOpenChange?: (open: boolean) => void;\r\n  defaultOpen?: boolean;\r\n}) => {\r\n  const [internalOpen, setInternalOpen] = React.useState(defaultOpen);\r\n  const triggerRef = React.useRef<HTMLElement>(null);\r\n\r\n  const open = controlledOpen !== undefined ? controlledOpen : internalOpen;\r\n  const setOpen = setControlledOpen !== undefined ? setControlledOpen : setInternalOpen;\r\n\r\n  return (\r\n    <TooltipContext.Provider value={{ open, setOpen, triggerRef }}>\r\n      {children}\r\n    </TooltipContext.Provider>\r\n  );\r\n};\r\n\r\nconst TooltipTrigger = React.forwardRef<\r\n  HTMLElement,\r\n  React.HTMLAttributes<HTMLElement> & { asChild?: boolean }\r\n>(({ children, asChild = false, ...props }, ref) => {\r\n  const { setOpen, triggerRef } = useTooltip();\r\n  const { delayDuration } = React.useContext(TooltipProviderContext);\r\n  // FIX: Initialize useRef with `undefined` to resolve \"Expected 1 arguments, but got 0\" error\r\n  // and to correctly type the ref, which can hold either a number (timeout ID) or undefined.\r\n  const openTimeoutRef = React.useRef<number | undefined>(undefined);\r\n\r\n  const handleRef = (node: HTMLElement | null) => {\r\n    (triggerRef as React.MutableRefObject<HTMLElement | null>).current = node;\r\n     if (typeof ref === 'function') ref(node);\r\n     else if (ref) ref.current = node;\r\n  };\r\n\r\n  const handleOpen = () => {\r\n    clearTimeout(openTimeoutRef.current);\r\n    openTimeoutRef.current = window.setTimeout(() => setOpen(true), delayDuration);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    clearTimeout(openTimeoutRef.current);\r\n    setOpen(false);\r\n  };\r\n\r\n  if (asChild && React.isValidElement(children)) {\r\n    return React.cloneElement(children as React.ReactElement<any>, {\r\n      ref: handleRef,\r\n      onMouseEnter: (e: React.MouseEvent) => {\r\n        handleOpen();\r\n        (children.props as any).onMouseEnter?.(e);\r\n      },\r\n      onMouseLeave: (e: React.MouseEvent) => {\r\n        handleClose();\r\n        (children.props as any).onMouseLeave?.(e);\r\n      },\r\n      onFocus: (e: React.FocusEvent) => {\r\n        handleOpen();\r\n        (children.props as any).onFocus?.(e);\r\n      },\r\n      onBlur: (e: React.FocusEvent) => {\r\n        handleClose();\r\n        (children.props as any).onBlur?.(e);\r\n      },\r\n      ...props,\r\n    });\r\n  }\r\n\r\n  return React.createElement(\r\n    'div',\r\n    {\r\n      ...props,\r\n      ref: handleRef,\r\n      onMouseEnter: handleOpen,\r\n      onMouseLeave: handleClose,\r\n      onFocus: handleOpen,\r\n      onBlur: handleClose,\r\n    },\r\n    children\r\n  );\r\n});\r\nTooltipTrigger.displayName = \"TooltipTrigger\";\r\n\r\n// FIX: Changed props to extend from `motion.div` props to resolve type conflict when spreading `...props`.\r\n// `React.HTMLAttributes` is not fully compatible with framer-motion's custom props.\r\nconst TooltipContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentPropsWithoutRef<typeof motion.div> & { side?: 'top' | 'right' | 'bottom' | 'left'; sideOffset?: number }\r\n>(({ className, side = 'top', sideOffset = 4, children, ...props }, forwardedRef) => {\r\n  const { open, triggerRef } = useTooltip();\r\n  const contentRef = React.useRef<HTMLDivElement>(null);\r\n  const [style, setStyle] = React.useState<React.CSSProperties>({ position: 'fixed', top: '-9999px', left: '-9999px' });\r\n\r\n  React.useImperativeHandle(forwardedRef, () => contentRef.current!);\r\n\r\n    const positioner = React.useCallback(() => {\r\n        if (triggerRef.current && contentRef.current) {\r\n            const contentEl = contentRef.current;\r\n            if (contentEl.offsetHeight === 0) return;\r\n\r\n            const triggerRect = triggerRef.current.getBoundingClientRect();\r\n            const contentHeight = contentEl.offsetHeight;\r\n            const contentWidth = contentEl.offsetWidth;\r\n\r\n            let top = 0;\r\n            let left = 0;\r\n\r\n            switch (side) {\r\n                case 'top':\r\n                    top = triggerRect.top - contentHeight - sideOffset;\r\n                    left = triggerRect.left + (triggerRect.width / 2) - (contentWidth / 2);\r\n                    break;\r\n                case 'bottom':\r\n                    top = triggerRect.bottom + sideOffset;\r\n                    left = triggerRect.left + (triggerRect.width / 2) - (contentWidth / 2);\r\n                    break;\r\n                case 'left':\r\n                    top = triggerRect.top + (triggerRect.height / 2) - (contentHeight / 2);\r\n                    left = triggerRect.left - contentWidth - sideOffset;\r\n                    break;\r\n                case 'right':\r\n                    top = triggerRect.top + (triggerRect.height / 2) - (contentHeight / 2);\r\n                    left = triggerRect.right + sideOffset;\r\n                    break;\r\n            }\r\n\r\n            setStyle({ position: 'fixed', top: `${top}px`, left: `${left}px` });\r\n        }\r\n    }, [side, sideOffset, triggerRef]);\r\n\r\n\r\n    React.useLayoutEffect(() => {\r\n        if (open) {\r\n            positioner();\r\n            window.addEventListener('resize', positioner);\r\n            window.addEventListener('scroll', positioner, true);\r\n            const observer = new ResizeObserver(positioner);\r\n            if (contentRef.current) {\r\n                observer.observe(contentRef.current);\r\n            }\r\n            return () => {\r\n                window.removeEventListener('resize', positioner);\r\n                window.removeEventListener('scroll', positioner, true);\r\n                observer.disconnect();\r\n            };\r\n        }\r\n    }, [open, positioner]);\r\n\r\n  const [mounted, setMounted] = React.useState(false);\r\n  React.useEffect(() => { setMounted(true) }, []);\r\n  if (!mounted) return null;\r\n\r\n  return createPortal(\r\n    <AnimatePresence>\r\n      {open && (\r\n        <motion.div\r\n          ref={contentRef}\r\n          style={style as any}\r\n          initial={{ opacity: 0, scale: 0.95 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          exit={{ opacity: 0, scale: 0.95 }}\r\n          transition={{ duration: 0.1 }}\r\n          className={cn(\r\n            \"z-50 overflow-hidden rounded-md border border-border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md\",\r\n            className\r\n          )}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>,\r\n    document.body\r\n  );\r\n});\r\nTooltipContent.displayName = \"TooltipContent\";\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 618, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/avatar.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex h-9 w-10 shrink-0 overflow-hidden rounded-full\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,gEACA;QAED,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,8KAAwB;QACvB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 669, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/layout/sidebar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport {\r\n  Users, Command, FileText, Building2, UserCog, Clock, CalendarOff, Landmark, Target,\r\n  Briefcase, Package, ShoppingCart, Truck, History, Banknote, BookUser, Wrench,\r\n  Workflow, ShieldAlert, BadgeCent, CalendarCheck, Library, MessageCircle, Bell,\r\n  AreaChart, Settings, GitPullRequest, FileClock, Search, ReceiptText, CreditCard,\r\n  Inbox, Home, Warehouse, Wallet, Undo2, PanelLeftClose, PanelLeftOpen, User, Heart,\r\n  ListTodo, ClipboardCheck, CheckSquare, ArrowLeftRight, CircleDollarSign, Tags, FolderTree,\r\n} from 'lucide-react';\r\nimport { cn } from '../../lib/utils';\r\nimport { Input } from '../ui/input';\r\nimport { Button } from '../ui/button';\r\nimport { \r\n  Sidebar as SidebarPrimitive, \r\n  SidebarHeader, \r\n  SidebarNav,\r\n  SidebarFooter,\r\n  SidebarGroup,\r\n  SidebarGroupLabel,\r\n  SidebarGroupContent,\r\n} from '../ui/sidebar';\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from '../ui/tooltip';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar';\r\nimport { useAuth } from '../../contexts/auth-context';\r\nimport { useUiStore } from '../../lib/ui-store';\r\n\r\ntype NavLinkInfo = {\r\n  href: string;\r\n  label: string;\r\n  icon: React.ElementType;\r\n  roles?: ('Admin' | 'Manager' | 'Sales' | 'Warehouse')[];\r\n};\r\n\r\ntype MenuGroup = {\r\n  title: string;\r\n  links: NavLinkInfo[];\r\n};\r\n\r\nconst menuGroups: MenuGroup[] = [\r\n  {\r\n    title: 'Tổng quan',\r\n    links: [\r\n      { href: '/dashboard', label: 'Dashboard', icon: Home },\r\n    ]\r\n  },\r\n  {\r\n    title: 'Quản lý Nhân sự',\r\n    links: [\r\n      { href: '/employees', label: 'Quản lý nhân viên', icon: Users },\r\n      { href: '/organization-chart', label: 'Sơ đồ tổ chức', icon: Workflow },\r\n      { href: '/departments', label: 'Phòng ban & Chức vụ', icon: Building2 },\r\n      { href: '/attendance', label: 'Quản lý Chấm công', icon: Clock },\r\n      { href: '/leaves', label: 'Quản lý Nghỉ phép', icon: CalendarOff },\r\n      { href: '/payroll', label: 'Quản lý Bảng lương', icon: CalendarCheck },\r\n\r\n    ]\r\n  },\r\n  {\r\n    title: 'Kinh doanh & CRM',\r\n    links: [\r\n        { href: '/customers', label: 'Quản lý Khách hàng', icon: Briefcase },\r\n        { href: '/products', label: 'Quản lý Sản phẩm', icon: Package },\r\n        { href: '/brands', label: 'Thương hiệu', icon: Tags },\r\n        { href: '/categories', label: 'Danh mục sản phẩm', icon: FolderTree },\r\n        { href: '/orders', label: 'Quản lý Đơn hàng', icon: ShoppingCart },\r\n        { href: '/returns', label: 'Quản lý Trả hàng', icon: Undo2 },\r\n        { href: '/packaging', label: 'Quản lý Đóng gói', icon: Inbox, roles: ['Admin', 'Manager', 'Warehouse'] },\r\n        { href: '/shipments', label: 'Quản lý vận đơn', icon: Truck, roles: ['Admin', 'Manager', 'Warehouse'] },\r\n        { href: '/reconciliation', label: 'Đối soát COD', icon: Wallet, roles: ['Admin', 'Manager'] },\r\n    ]\r\n  },\r\n  {\r\n    title: 'Quản lý Mua hàng',\r\n    links: [\r\n        { href: '/suppliers', label: 'Quản lý Nhà cung cấp', icon: Truck },\r\n        { href: '/purchase-orders', label: 'Quản lý Đơn nhập hàng', icon: History },\r\n        { href: '/purchase-returns', label: 'Quản lý Trả hàng nhập', icon: Undo2 },\r\n        { href: '/inventory-receipts', label: 'Quản lý Phiếu nhập kho', icon: Inbox },\r\n    ]\r\n  },\r\n  {\r\n    title: 'Quản lý Kho',\r\n    links: [\r\n        { href: '/stock-transfers', label: 'Chuyển kho', icon: ArrowLeftRight, roles: ['Admin', 'Warehouse'] },\r\n        { href: '/inventory-checks', label: 'Kiểm kê định kỳ', icon: ClipboardCheck, roles: ['Admin', 'Warehouse'] },\r\n        { href: '/cost-adjustments', label: 'Điều chỉnh giá vốn', icon: CircleDollarSign, roles: ['Admin', 'Warehouse'] },\r\n    ]\r\n  },\r\n  {\r\n    title: 'Quản lý Tài chính',\r\n    links: [\r\n        { href: '/cashbook', label: 'Sổ quỹ', icon: BookUser },\r\n        { href: '/receipts', label: 'Quản lý Phiếu thu', icon: ReceiptText },\r\n        { href: '/payments', label: 'Quản lý Phiếu chi', icon: CreditCard },\r\n    ]\r\n  },\r\n  {\r\n    title: 'Vận hành Nội bộ',\r\n    links: [\r\n        { href: '/my-tasks', label: 'Công việc của tôi', icon: CheckSquare },\r\n        { href: '/tasks', label: 'Giao việc nội bộ', icon: ListTodo, roles: ['Admin', 'Manager'] },\r\n        { href: '/warranty', label: 'Quản lý Bảo hành', icon: Wrench },\r\n        { href: '/complaints', label: 'Quản lý Khiếu nại', icon: ShieldAlert },\r\n        { href: '/penalties', label: 'Quản lý Phiếu phạt', icon: BadgeCent },\r\n    ]\r\n  },\r\n  {\r\n    title: 'Tổ chức & Giao tiếp',\r\n    links: [\r\n        { href: '/wiki', label: 'Wiki nội bộ', icon: Library },\r\n    ]\r\n  },\r\n  {\r\n    title: 'Báo cáo',\r\n    links: [\r\n      { href: '/reports', label: 'Báo cáo', icon: AreaChart },\r\n    ]\r\n  },\r\n  {\r\n    title: 'Hệ thống',\r\n    links: [\r\n        { href: '/settings', label: 'Cài đặt', icon: Settings },\r\n    ]\r\n  }\r\n];\r\n\r\n// FIX: Changed props to use React.PropsWithChildren to resolve \"children is missing\" type error.\r\nfunction SidebarNavLink({ \r\n  href, \r\n  icon: Icon, \r\n  label, \r\n  collapsed \r\n}: { \r\n  href: string; \r\n  icon: React.ElementType; \r\n  label: string; \r\n  collapsed?: boolean \r\n}) {\r\n  const pathname = usePathname();\r\n  const isActive = pathname === href || (href !== \"/\" && pathname.startsWith(href) && href !== '/dashboard');\r\n\r\n  const linkContent = (\r\n    <Link\r\n      href={href}\r\n      className={cn(\r\n        'flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all',\r\n        collapsed && 'justify-center px-2',\r\n        isActive\r\n          ? 'bg-primary text-primary-foreground'\r\n          : 'text-foreground/80 hover:bg-muted hover:text-foreground'\r\n      )}\r\n    >\r\n      <Icon className=\"h-4 w-4 shrink-0\" />\r\n      {!collapsed && <span className=\"truncate\">{label}</span>}\r\n    </Link>\r\n  );\r\n\r\n  if (collapsed) {\r\n    return (\r\n      <TooltipProvider delayDuration={0}>\r\n        <Tooltip>\r\n          <TooltipTrigger asChild>\r\n            {linkContent}\r\n          </TooltipTrigger>\r\n          <TooltipContent side=\"right\" className=\"font-medium\">\r\n            {label}\r\n          </TooltipContent>\r\n        </Tooltip>\r\n      </TooltipProvider>\r\n    );\r\n  }\r\n\r\n  return linkContent;\r\n}\r\n\r\nexport function Sidebar() {\r\n    const [search, setSearch] = React.useState('');\r\n  const { employee: authEmployee } = useAuth();\r\n  const loggedInUser = authEmployee;\r\n    const { isSidebarCollapsed, toggleSidebarCollapse } = useUiStore();\r\n\r\n    const filteredMenuGroups = React.useMemo(() => {\r\n    const userRole = loggedInUser?.role || 'Admin';\r\n\r\n        return menuGroups\r\n          .map(group => {\r\n            const filteredLinks = group.links.filter(link => {\r\n                const hasPermission = !link.roles || link.roles.includes(userRole);\r\n                const matchesSearch = !search.trim() || link.label.toLowerCase().includes(search.toLowerCase());\r\n                return hasPermission && matchesSearch;\r\n            });\r\n            return { ...group, links: filteredLinks };\r\n          })\r\n          .filter(group => group.links.length > 0);\r\n    }, [search, loggedInUser]);\r\n\r\n    return (\r\n        <SidebarPrimitive>\r\n            <SidebarHeader>\r\n                <Link href=\"/\" className=\"flex items-center gap-2 font-semibold text-lg overflow-hidden\">\r\n                    <Command className=\"h-6 w-6 shrink-0\" />\r\n                    {!isSidebarCollapsed && <span className=\"truncate\">ACME ERP</span>}\r\n                </Link>\r\n            </SidebarHeader>\r\n\r\n            <div className=\"p-4\">\r\n                {!isSidebarCollapsed && (\r\n                    <div className=\"relative\">\r\n                        <Search className=\"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                        <Input\r\n                            type=\"search\"\r\n                            placeholder=\"Tìm kiếm chức năng...\"\r\n                            className=\"w-full pl-8\"\r\n                            value={search}\r\n                            onChange={(e) => setSearch(e.target.value)}\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <SidebarNav>\r\n                {filteredMenuGroups.map((group) => (\r\n                    <SidebarGroup key={group.title}>\r\n                        {!isSidebarCollapsed && (\r\n                            <SidebarGroupLabel>\r\n                                {group.title}\r\n                            </SidebarGroupLabel>\r\n                        )}\r\n                        <SidebarGroupContent>\r\n                            {group.links.map((link) => (\r\n                                <SidebarNavLink \r\n                                    key={link.href} \r\n                                    href={link.href}\r\n                                    icon={link.icon}\r\n                                    label={link.label}\r\n                                    collapsed={isSidebarCollapsed}\r\n                                />\r\n                            ))}\r\n                        </SidebarGroupContent>\r\n                    </SidebarGroup>\r\n                ))}\r\n            </SidebarNav>\r\n\r\n            <SidebarFooter>\r\n                {isSidebarCollapsed ? (\r\n                    <TooltipProvider delayDuration={0}>\r\n                        <Tooltip>\r\n                            <TooltipTrigger asChild>\r\n                                <Button\r\n                                    variant=\"ghost\"\r\n                                    size=\"icon\"\r\n                                    className=\"h-9 w-10 rounded-lg\"\r\n                                    asChild\r\n                                >\r\n                                    <Link href=\"/profile\">\r\n                                        <Avatar className=\"h-8 w-8\">\r\n                                            <AvatarImage src={loggedInUser?.avatarUrl} />\r\n                                            <AvatarFallback className=\"text-xs\">\r\n                                                {loggedInUser?.fullName?.charAt(0) || 'U'}\r\n                                            </AvatarFallback>\r\n                                        </Avatar>\r\n                                    </Link>\r\n                                </Button>\r\n                            </TooltipTrigger>\r\n                            <TooltipContent side=\"right\" className=\"font-medium\">\r\n                                <div className=\"text-sm font-semibold\">{loggedInUser?.fullName}</div>\r\n                                <div className=\"text-xs text-muted-foreground\">{loggedInUser?.workEmail}</div>\r\n                            </TooltipContent>\r\n                        </Tooltip>\r\n                    </TooltipProvider>\r\n                ) : (\r\n                    <Link href=\"/profile\" className=\"flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-muted transition-colors\">\r\n                        <Avatar className=\"h-8 w-8\">\r\n                            <AvatarImage src={loggedInUser?.avatarUrl} />\r\n                            <AvatarFallback className=\"text-xs\">\r\n                                {loggedInUser?.fullName?.charAt(0) || 'U'}\r\n                            </AvatarFallback>\r\n                        </Avatar>\r\n                        <div className=\"flex flex-col overflow-hidden\">\r\n                            <span className=\"text-sm font-medium truncate\">{loggedInUser?.fullName}</span>\r\n                            <span className=\"text-xs text-muted-foreground truncate\">{loggedInUser?.workEmail}</span>\r\n                        </div>\r\n                    </Link>\r\n                )}\r\n            </SidebarFooter>\r\n        </SidebarPrimitive>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1339, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/contexts/modal-context.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\ntype ModalType = 'dialog' | 'dropdown' | 'popover' | 'sheet' | 'drawer' | 'select' | 'custom';\r\n\r\ninterface ModalMetadata {\r\n  type: ModalType;\r\n  zIndex?: number | undefined;\r\n  className?: string | undefined;\r\n}\r\n\r\ninterface ModalContextType {\r\n  // Stack of modals in order they were opened (oldest first)\r\n  openModals: string[];\r\n  // The most recently opened modal (top of stack)\r\n  activeModal: string | null;\r\n  // Register a modal with the context\r\n  registerModal: (id: string, type: ModalType, metadata?: Omit<ModalMetadata, 'type'>) => void;\r\n  // Unregister a modal from the context\r\n  unregisterModal: (id: string) => void;\r\n  // Whether to show the global overlay\r\n  shouldShowOverlay: boolean;\r\n  // Get metadata about all registered modals\r\n  modalMetadata: Record<string, ModalMetadata>;\r\n  // Get z-index for a particular modal\r\n  getZIndex: (id: string) => number;\r\n  // Check if a modal is active (top-most)\r\n  isModalActive: (id: string) => boolean;\r\n}\r\n\r\nconst DEFAULT_Z_INDEX = {\r\n  dialog: 50,\r\n  drawer: 50,\r\n  sheet: 50,\r\n  dropdown: 40,\r\n  popover: 40,\r\n  select: 40,\r\n  custom: 30,\r\n};\r\n\r\nconst BASE_Z_INDEX = 40;\r\n\r\nconst ModalContext = React.createContext<ModalContextType>({\r\n  openModals: [],\r\n  activeModal: null,\r\n  registerModal: () => {},\r\n  unregisterModal: () => {},\r\n  shouldShowOverlay: false,\r\n  modalMetadata: {},\r\n  getZIndex: () => BASE_Z_INDEX,\r\n  isModalActive: () => false,\r\n});\r\n\r\nexport function ModalProvider({ children }: { children: React.ReactNode }) {\r\n  const [openModals, setOpenModals] = React.useState<string[]>([]);\r\n  const [modalMetadata, setModalMetadata] = React.useState<Record<string, ModalMetadata>>({});\r\n\r\n  // Register a new modal with its type and metadata\r\n  const registerModal = React.useCallback((id: string, type: ModalType, metadata?: Omit<ModalMetadata, 'type'>) => {\r\n    setOpenModals((prev) => {\r\n      if (prev.includes(id)) return prev;\r\n      return [...prev, id];\r\n    });\r\n    \r\n    setModalMetadata((prev) => ({\r\n      ...prev,\r\n      [id]: {\r\n        type,\r\n        zIndex: metadata?.zIndex || DEFAULT_Z_INDEX[type],\r\n        className: metadata?.className,\r\n      }\r\n    }));\r\n  }, []);\r\n\r\n  // Remove a modal from tracking\r\n  const unregisterModal = React.useCallback((id: string) => {\r\n    setOpenModals((prev) => prev.filter((modalId) => modalId !== id));\r\n    setModalMetadata((prev) => {\r\n      const newMetadata = { ...prev };\r\n      delete newMetadata[id];\r\n      return newMetadata;\r\n    });\r\n  }, []);\r\n\r\n  // The active modal is the last one in the stack\r\n  const activeModal = openModals.length > 0 ? openModals[openModals.length - 1] : null;\r\n  \r\n  // Show overlay when any modal is open\r\n  const shouldShowOverlay = openModals.length > 0;\r\n  \r\n  // Calculate z-index for a given modal\r\n  const getZIndex = React.useCallback((id: string) => {\r\n    const metadata = modalMetadata[id];\r\n    if (!metadata) return BASE_Z_INDEX;\r\n    \r\n    // Base z-index for this type of modal\r\n    const baseZ = metadata.zIndex || DEFAULT_Z_INDEX[metadata.type];\r\n    \r\n    // Position in the stack (higher = more recently opened)\r\n    const position = openModals.indexOf(id);\r\n    if (position === -1) return baseZ;\r\n    \r\n    // Add position bonus (more recent modals get higher z-index)\r\n    return baseZ + position;\r\n  }, [modalMetadata, openModals]);\r\n  \r\n  // Check if a modal is the active (top) one\r\n  const isModalActive = React.useCallback((id: string) => {\r\n    return id === activeModal;\r\n  }, [activeModal]);\r\n\r\n  const value = React.useMemo(() => ({\r\n    openModals,\r\n    activeModal,\r\n    registerModal,\r\n    unregisterModal,\r\n    shouldShowOverlay,\r\n    modalMetadata,\r\n    getZIndex,\r\n    isModalActive,\r\n  }), [\r\n    openModals,\r\n    activeModal,\r\n    registerModal,\r\n    unregisterModal,\r\n    shouldShowOverlay,\r\n    modalMetadata,\r\n    getZIndex,\r\n    isModalActive,\r\n  ]);\r\n\r\n  return (\r\n    <ModalContext.Provider value={value}>\r\n      {/* Không dùng overlay toàn cục nữa */}\r\n      {children}\r\n    </ModalContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Hook to use in components that need modal functionality\r\n * @param id Unique identifier for this modal\r\n * @param isOpen Whether the modal is currently open\r\n * @param type Type of modal (dialog, dropdown, etc.)\r\n * @param metadata Optional additional metadata\r\n */\r\nexport function useModal(\r\n  id: string, \r\n  isOpen: boolean, \r\n  type: ModalType = 'dialog', \r\n  metadata?: Omit<ModalMetadata, 'type'>\r\n) {\r\n  const { \r\n    registerModal, \r\n    unregisterModal, \r\n    getZIndex, \r\n    isModalActive \r\n  } = React.useContext(ModalContext);\r\n\r\n  React.useEffect(() => {\r\n    if (isOpen) {\r\n      registerModal(id, type, metadata);\r\n    } else {\r\n      unregisterModal(id);\r\n    }\r\n    return () => {\r\n      unregisterModal(id);\r\n    };\r\n  }, [id, isOpen, type, metadata, registerModal, unregisterModal]);\r\n  \r\n  const zIndex = getZIndex(id);\r\n  const isActive = isModalActive(id);\r\n  \r\n  return {\r\n    zIndex,\r\n    isActive,\r\n  };\r\n}\r\n\r\nexport function useModalContext() {\r\n  return React.useContext(ModalContext);\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1489, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/dropdown-menu.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport {\r\n  CheckIcon,\r\n  ChevronRightIcon,\r\n  DotFilledIcon,\r\n} from \"@radix-ui/react-icons\"\r\nimport { type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { useModal } from \"../../contexts/modal-context\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\n// Context to pass dropdown ID through the component tree\r\nconst DropdownMenuContext = React.createContext<string>(\"\");\r\n\r\n// Provider component that accepts an ID\r\nconst DropdownMenuProvider = ({ id, children }: { id: string; children: React.ReactNode }) => {\r\n  return <DropdownMenuContext.Provider value={id}>{children}</DropdownMenuContext.Provider>;\r\n};\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRightIcon className=\"ml-auto\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubContent\r\n    ref={ref}\r\n    className={cn(\r\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSubContent.displayName =\r\n  DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content> & {\r\n    hideOverlay?: boolean;\r\n    id?: string;\r\n  }\r\n>(({ className, sideOffset = 4, hideOverlay = false, id: propId, ...props }, ref) => {\r\n  // Use either the prop id or the id from context\r\n  const contextId = React.useContext(DropdownMenuContext);\r\n  const id = propId || contextId || `dropdown-${React.useId()}`;\r\n  \r\n  // Get open state from props\r\n  const [open, setOpen] = React.useState(false);\r\n  React.useEffect(() => {\r\n    if (props[\"data-state\"] === \"open\") {\r\n      setOpen(true);\r\n    } else {\r\n      setOpen(false);\r\n    }\r\n  }, [props[\"data-state\"]]);\r\n  \r\n  // Register with our modal context\r\n  const { zIndex } = useModal(id, open, 'dropdown');\r\n  \r\n  return (\r\n    <DropdownMenuPrimitive.Portal>\r\n      {/* Không sử dụng overlay cho dropdown */}\r\n      <DropdownMenuPrimitive.Content\r\n        ref={ref}\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-md\",\r\n          \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n          className\r\n        )}\r\n        style={{ zIndex }}\r\n        {...props}\r\n      >\r\n        <DropdownMenuProvider id={id}>\r\n          {props.children}\r\n        </DropdownMenuProvider>\r\n      </DropdownMenuPrimitive.Content>\r\n    </DropdownMenuPrimitive.Portal>\r\n  );\r\n})\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    checked={checked ?? false}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <CheckIcon className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <DotFilledIcon className=\"h-4 w-4 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuProvider,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1743, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/router.ts"],"sourcesContent":["/**\r\n * Route Helpers\r\n * \r\n * Utility functions for route path generation.\r\n * Next.js uses file-based routing - this file only contains helper functions.\r\n */\r\nexport const ROUTES = {\r\n  // Core\r\n  ROOT: '/',\r\n  DASHBOARD: '/dashboard',\r\n  \r\n  // Auth\r\n  AUTH: {\r\n    LOGIN: '/login',\r\n    SIGNUP: '/signup',\r\n    VERIFY_OTP: '/verify-otp',\r\n    FORGOT_PASSWORD: '/forgot-password',\r\n    RESET_PASSWORD: '/reset-password',\r\n  },\r\n  \r\n  // HRM\r\n  HRM: {\r\n    EMPLOYEES: '/employees',\r\n    EMPLOYEE_NEW: '/employees/new',\r\n    EMPLOYEE_EDIT: '/employees/:systemId/edit',\r\n    EMPLOYEE_VIEW: '/employees/:systemId',\r\n    DEPARTMENTS: '/departments', \r\n    DEPARTMENT_NEW: '/departments/new',\r\n    DEPARTMENT_EDIT: '/departments/:systemId/edit',\r\n    ORGANIZATION_CHART: '/organization-chart',\r\n    ATTENDANCE: '/attendance',\r\n    LEAVES: '/leaves',\r\n    LEAVE_VIEW: '/leaves/:systemId',\r\n  },\r\n\r\n  // Payroll\r\n  PAYROLL: {\r\n    LIST: '/payroll',\r\n    RUN: '/payroll/run',\r\n    DETAIL: '/payroll/:systemId',\r\n    TEMPLATES: '/payroll/templates',\r\n  },\r\n  \r\n  // Sales & CRM\r\n  SALES: {\r\n    CUSTOMERS: '/customers',\r\n    CUSTOMER_NEW: '/customers/new', \r\n    CUSTOMER_EDIT: '/customers/:systemId/edit',\r\n    CUSTOMER_VIEW: '/customers/:systemId',\r\n    PRODUCTS: '/products',\r\n    PRODUCTS_TRASH: '/products/trash',\r\n    PRODUCT_NEW: '/products/new',\r\n    PRODUCT_EDIT: '/products/:systemId/edit', \r\n    PRODUCT_VIEW: '/products/:systemId',\r\n    BRANDS: '/brands',\r\n    BRAND_NEW: '/brands/new',\r\n    BRAND_VIEW: '/brands/:systemId',\r\n    BRAND_EDIT: '/brands/:systemId/edit',\r\n    CATEGORIES: '/categories',\r\n    CATEGORY_NEW: '/categories/new',\r\n    CATEGORY_VIEW: '/categories/:systemId',\r\n    CATEGORY_EDIT: '/categories/:systemId/edit',\r\n    ORDERS: '/orders',\r\n    ORDER_NEW: '/orders/new',\r\n    ORDER_EDIT: '/orders/:systemId/edit',\r\n    ORDER_VIEW: '/orders/:systemId',\r\n    ORDER_RETURN: '/orders/:systemId/return',\r\n    RETURNS: '/returns',\r\n    RETURN_VIEW: '/returns/:systemId',\r\n  },\r\n  \r\n  // Procurement \r\n  PROCUREMENT: {\r\n    SUPPLIERS: '/suppliers',\r\n    SUPPLIER_NEW: '/suppliers/new',\r\n    SUPPLIER_EDIT: '/suppliers/:systemId/edit',\r\n    SUPPLIER_VIEW: '/suppliers/:systemId',\r\n    SUPPLIERS_TRASH: '/suppliers/trash',\r\n    PURCHASE_ORDERS: '/purchase-orders',\r\n    PURCHASE_ORDER_NEW: '/purchase-orders/new',\r\n    PURCHASE_ORDER_EDIT: '/purchase-orders/:systemId/edit',\r\n    PURCHASE_ORDER_VIEW: '/purchase-orders/:systemId',\r\n    PURCHASE_RETURN: '/purchase-orders/:systemId/return',\r\n    PURCHASE_RETURNS: '/purchase-returns',\r\n    PURCHASE_RETURN_NEW: '/purchase-returns/new',\r\n    PURCHASE_RETURN_VIEW: '/purchase-returns/:systemId',\r\n    INVENTORY_RECEIPTS: '/inventory-receipts',\r\n    INVENTORY_RECEIPT_VIEW: '/inventory-receipts/:systemId',\r\n  },\r\n  \r\n  // Finance\r\n  FINANCE: {\r\n    CASHBOOK: '/cashbook',\r\n    CASHBOOK_REPORTS: '/cashbook/reports',\r\n    VOUCHERS: '/vouchers',\r\n    VOUCHER_VIEW: '/vouchers/:systemId',\r\n    RECEIPTS: '/receipts',\r\n    RECEIPT_NEW: '/receipts/new',\r\n    RECEIPT_EDIT: '/receipts/:systemId/edit', \r\n    RECEIPT_VIEW: '/receipts/:systemId',\r\n    PAYMENTS: '/payments',\r\n    PAYMENT_NEW: '/payments/new',\r\n    PAYMENT_EDIT: '/payments/:systemId/edit',\r\n    PAYMENT_VIEW: '/payments/:systemId',\r\n  },\r\n  \r\n  // Inventory\r\n  INVENTORY: {\r\n    STOCK_LOCATIONS: '/stock-locations',\r\n    STOCK_HISTORY: '/stock-history',\r\n    STOCK_TRANSFERS: '/stock-transfers',\r\n    STOCK_TRANSFER_NEW: '/stock-transfers/new',\r\n    STOCK_TRANSFER_EDIT: '/stock-transfers/:systemId/edit',\r\n    STOCK_TRANSFER_VIEW: '/stock-transfers/:systemId',\r\n    INVENTORY_CHECKS: '/inventory-checks',\r\n    INVENTORY_CHECK_NEW: '/inventory-checks/new',\r\n    INVENTORY_CHECK_EDIT: '/inventory-checks/:systemId/edit',\r\n    INVENTORY_CHECK_VIEW: '/inventory-checks/:systemId',\r\n    COST_ADJUSTMENTS: '/cost-adjustments',\r\n    COST_ADJUSTMENT_NEW: '/cost-adjustments/new',\r\n    COST_ADJUSTMENT_VIEW: '/cost-adjustments/:systemId',\r\n  },\r\n  \r\n  // Internal Operations\r\n  INTERNAL: {\r\n    PACKAGING: '/packaging',\r\n    PACKAGING_VIEW: '/packaging/:systemId',\r\n    SHIPMENTS: '/shipments', \r\n    SHIPMENT_VIEW: '/shipments/:systemId',\r\n    RECONCILIATION: '/reconciliation',\r\n    WARRANTY: '/warranty',\r\n    WARRANTY_NEW: '/warranty/new',\r\n    WARRANTY_EDIT: '/warranty/:systemId/edit',\r\n    WARRANTY_UPDATE: '/warranty/:systemId/update',\r\n    WARRANTY_VIEW: '/warranty/:systemId',\r\n    WARRANTY_RETURN: '/warranty/:systemId/return',\r\n    WARRANTY_STATISTICS: '/warranty/statistics',\r\n    WARRANTY_TRACKING: '/warranty/tracking/:trackingCode',\r\n    INTERNAL_TASKS: '/internal-tasks',\r\n    TASKS: '/tasks',\r\n    TASKS_NEW: '/tasks/new',\r\n    TASKS_EDIT: '/tasks/:systemId/edit',\r\n    TASKS_VIEW: '/tasks/:systemId',\r\n    TASKS_CALENDAR: '/tasks/calendar',\r\n    COMPLAINTS: '/complaints',\r\n    COMPLAINT_NEW: '/complaints/new',\r\n    COMPLAINT_EDIT: '/complaints/:systemId/edit',\r\n    COMPLAINT_VIEW: '/complaints/:systemId',\r\n    PENALTIES: '/penalties',\r\n    PENALTY_NEW: '/penalties/new',\r\n    PENALTY_EDIT: '/penalties/:systemId/edit',\r\n    PENALTY_VIEW: '/penalties/:systemId',\r\n    DUTY_SCHEDULE: '/duty-schedule',\r\n    WIKI: '/wiki',\r\n    WIKI_NEW: '/wiki/new',\r\n    WIKI_VIEW: '/wiki/:systemId',\r\n    WIKI_EDIT: '/wiki/:systemId/edit',\r\n  },\r\n  \r\n  // Reports\r\n  REPORTS: {\r\n    // Main index page\r\n    INDEX: '/reports',\r\n    \r\n    // Legacy routes (redirect to new)\r\n    SALES: '/reports/sales',\r\n    INVENTORY: '/reports/inventory',\r\n    CUSTOMER_SLA: '/reports/customer-sla',\r\n    PRODUCT_SLA: '/reports/product-sla',\r\n    \r\n    // Business Activity Reports - Sales\r\n    SALES_BY_TIME: '/reports/sales/time',\r\n    SALES_BY_EMPLOYEE: '/reports/sales/employee',\r\n    SALES_BY_PRODUCT: '/reports/sales/product',\r\n    SALES_BY_ORDER: '/reports/sales/order',\r\n    SALES_BY_BRANCH: '/reports/sales/branch',\r\n    SALES_BY_SOURCE: '/reports/sales/source',\r\n    SALES_BY_CUSTOMER: '/reports/sales/customer',\r\n    SALES_BY_CUSTOMER_GROUP: '/reports/sales/customer-group',\r\n    \r\n    // Delivery Reports\r\n    DELIVERY_BY_TIME: '/reports/delivery/time',\r\n    DELIVERY_BY_EMPLOYEE: '/reports/delivery/employee',\r\n    DELIVERY_BY_SHIPMENT: '/reports/delivery/shipment',\r\n    DELIVERY_BY_CARRIER: '/reports/delivery/carrier',\r\n    DELIVERY_BY_BRANCH: '/reports/delivery/branch',\r\n    DELIVERY_BY_CUSTOMER: '/reports/delivery/customer',\r\n    DELIVERY_BY_CHANNEL: '/reports/delivery/channel',\r\n    \r\n    // Return Reports\r\n    RETURNS_BY_ORDER: '/reports/returns/order',\r\n    RETURNS_BY_PRODUCT: '/reports/returns/product',\r\n    \r\n    // Payment Reports\r\n    PAYMENT_BY_TIME: '/reports/payments/time',\r\n    PAYMENT_BY_EMPLOYEE: '/reports/payments/employee',\r\n    PAYMENT_BY_METHOD: '/reports/payments/method',\r\n    PAYMENT_BY_BRANCH: '/reports/payments/branch',\r\n    \r\n    // Inventory Reports\r\n    INVENTORY_BY_PRODUCT: '/reports/inventory/product',\r\n    INVENTORY_BY_BRANCH: '/reports/inventory/branch',\r\n    INVENTORY_BY_CATEGORY: '/reports/inventory/category',\r\n  },\r\n  \r\n  // Settings\r\n  SETTINGS: {\r\n    ROOT: '/settings',\r\n    APPEARANCE: '/settings/appearance',\r\n    STORE_INFO: '/settings/store-info',\r\n    PROVINCES: '/settings/provinces',\r\n    EMPLOYEES: '/settings/employees',\r\n    EMPLOYEE_ROLES: '/settings/employee-roles', // Admin: Quản lý phân quyền và mật khẩu\r\n    TAXES: '/settings/taxes',\r\n    PRICING: '/settings/pricing',\r\n    PAYMENTS: '/settings/payments',\r\n    PRINT_TEMPLATES: '/settings/print-templates',\r\n    INVENTORY: '/settings/inventory',\r\n    STOCK_LOCATIONS: '/settings/inventory/stock-locations',\r\n    SHIPPING: '/settings/shipping',\r\n    OTHER: '/settings/other', \r\n    SALES_CONFIG: '/settings/sales-config',\r\n    SYSTEM_LOGS: '/settings/system-logs',\r\n    IMPORT_EXPORT_LOGS: '/settings/import-export-logs',\r\n    WORKFLOW_TEMPLATES: '/settings/workflow-templates',\r\n    ID_COUNTERS: '/settings/id-counters', // ✅ NEW: ID Management\r\n  },\r\n} as const;\r\n\r\n// Helper function to generate route path with params\r\nexport function generatePath(path: string, params: Record<string, string | number>): string {\r\n  let result = path;\r\n  Object.entries(params).forEach(([key, value]) => {\r\n    result = result.replace(`:${key}`, String(value));\r\n  });\r\n  return result;\r\n}\r\n\r\n// Helper function to extract params from current path\r\nexport function matchPath(pattern: string, pathname: string): Record<string, string> | null {\r\n  const patternParts = pattern.split('/');\r\n  const pathParts = pathname.split('/');\r\n  \r\n  if (patternParts.length !== pathParts.length) {\r\n    return null;\r\n  }\r\n  \r\n  const params: Record<string, string> = {};\r\n  \r\n  for (let i = 0; i < patternParts.length; i++) {\r\n    const patternPart = patternParts[i];\r\n    const pathPart = pathParts[i];\r\n    \r\n    if (patternPart.startsWith(':')) {\r\n      const paramName = patternPart.slice(1);\r\n      params[paramName] = pathPart;\r\n    } else if (patternPart !== pathPart) {\r\n      return null;\r\n    }\r\n  }\r\n  \r\n  return params;\r\n}\r\n\r\n// Type for route parameters\r\nexport type RouteParams<T extends string> = T extends `${string}:${infer Param}/${infer Rest}`\r\n  ? { [K in Param]: string } & RouteParams<Rest>\r\n  : T extends `${string}:${infer Param}`\r\n  ? { [K in Param]: string }\r\n  : {};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1992, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-md border border-border px-2.5 py-0.5 text-xs font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100\",\r\n        outline: \"text-foreground\",\r\n        success:\r\n          \"border-transparent bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-100\",\r\n        warning:\r\n          \"border-transparent bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nconst Badge = React.forwardRef<HTMLDivElement, BadgeProps>(\r\n  ({ className, variant, ...props }, ref) => (\r\n    <div \r\n      ref={ref}\r\n      className={cn(badgeVariants({ variant }), className)} \r\n      {...props} \r\n    />\r\n  )\r\n)\r\nBadge.displayName = \"Badge\"\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,oLACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;YACT,SACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAIf,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 2038, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/date-utils.ts"],"sourcesContent":["/**\r\n * Date utility functions using date-fns\r\n * Replaces dayjs throughout the application\r\n * \r\n * Reads timezone and time format from settings cache (loaded from database)\r\n * Falls back to localStorage for backward compatibility\r\n */\r\n\r\nimport {\r\n  format as dateFnsFormat,\r\n  parse as dateFnsParse,\r\n  isValid,\r\n  isSameDay,\r\n  isSameMonth,\r\n  isBefore,\r\n  isAfter,\r\n  startOfDay,\r\n  endOfDay,\r\n  addDays as dateFnsAddDays,\r\n  subDays as dateFnsSubDays,\r\n  isWithinInterval,\r\n  startOfWeek,\r\n  endOfWeek,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  addMonths as dateFnsAddMonths,\r\n  subMonths as dateFnsSubMonths,\r\n  getDay,\r\n  setDay,\r\n} from 'date-fns';\r\nimport { vi } from 'date-fns/locale';\r\nimport { getGeneralSettingsSync } from './settings-cache';\r\n\r\n// ===== SETTINGS HELPER =====\r\n\r\ntype DateSettings = {\r\n  timezone: string;\r\n  dateFormat: string;\r\n  timeFormat: '24h' | '12h';\r\n};\r\n\r\nconst DEFAULT_DATE_SETTINGS: DateSettings = {\r\n  timezone: 'Asia/Ho_Chi_Minh',\r\n  dateFormat: 'DD/MM/YYYY',\r\n  timeFormat: '24h',\r\n};\r\n\r\n/**\r\n * Get date settings from cache (falls back to localStorage)\r\n */\r\nexport const getDateSettings = (): DateSettings => {\r\n  try {\r\n    // Use settings cache (loaded from database)\r\n    const settings = getGeneralSettingsSync();\r\n    return {\r\n      timezone: settings.timezone || DEFAULT_DATE_SETTINGS.timezone,\r\n      dateFormat: settings.dateFormat || DEFAULT_DATE_SETTINGS.dateFormat,\r\n      timeFormat: settings.timeFormat || DEFAULT_DATE_SETTINGS.timeFormat,\r\n    };\r\n  } catch (e) { /* ignore */ }\r\n  return DEFAULT_DATE_SETTINGS;\r\n};\r\n\r\n/**\r\n * Get timezone offset in hours from settings\r\n */\r\nexport const getTimezoneOffset = (): number => {\r\n  const { timezone } = getDateSettings();\r\n  const offsets: Record<string, number> = {\r\n    'Asia/Ho_Chi_Minh': 7,\r\n    'Asia/Bangkok': 7,\r\n    'Asia/Singapore': 8,\r\n    'Asia/Tokyo': 9,\r\n  };\r\n  return offsets[timezone] ?? 7; // Default UTC+7\r\n};\r\n\r\n/**\r\n * Get current date in configured timezone\r\n */\r\nexport const getCurrentDateInTimezone = (): Date => {\r\n  const offset = getTimezoneOffset();\r\n  const now = new Date();\r\n  // Adjust to configured timezone\r\n  const utcTime = now.getTime() + (now.getTimezoneOffset() * 60 * 1000);\r\n  return new Date(utcTime + (offset * 60 * 60 * 1000));\r\n};\r\n\r\n/**\r\n * Format local date as YYYY-MM-DD string (without timezone conversion)\r\n */\r\nexport const formatLocalDateString = (date: Date): string => {\r\n  const y = date.getFullYear();\r\n  const m = String(date.getMonth() + 1).padStart(2, '0');\r\n  const d = String(date.getDate()).padStart(2, '0');\r\n  return `${y}-${m}-${d}`;\r\n};\r\n\r\n/**\r\n * Format date for display as DD/MM/YYYY (uses timezone from settings)\r\n * Replacement for toLocaleDateString('vi-VN')\r\n */\r\nexport const formatDateForDisplay = (date: Date | string | null | undefined): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  return dateFnsFormat(d, 'dd/MM/yyyy');\r\n};\r\n\r\n/**\r\n * Format time for display as HH:mm or h:mm AM/PM (uses settings)\r\n * Replacement for toLocaleTimeString('vi-VN')\r\n */\r\nexport const formatTimeForDisplay = (date: Date | string | null | undefined): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  \r\n  const settings = getDateSettings();\r\n  if (settings.timeFormat === '12h') {\r\n    return dateFnsFormat(d, 'h:mm a');\r\n  }\r\n  return dateFnsFormat(d, 'HH:mm');\r\n};\r\n\r\n/**\r\n * Format date and time for display (uses settings)\r\n * Replacement for toLocaleString('vi-VN')\r\n */\r\nexport const formatDateTimeForDisplay = (date: Date | string | null | undefined): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  \r\n  const settings = getDateSettings();\r\n  if (settings.timeFormat === '12h') {\r\n    return dateFnsFormat(d, 'dd/MM/yyyy h:mm a');\r\n  }\r\n  return dateFnsFormat(d, 'dd/MM/yyyy HH:mm');\r\n};\r\n\r\n/**\r\n * Get current timestamp as ISO string\r\n * Replacement for new Date().toISOString()\r\n */\r\nexport const getCurrentISOTimestamp = (): string => {\r\n  return new Date().toISOString();\r\n};\r\n\r\n/**\r\n * Build pay period for a given month (uses local dates)\r\n * Returns { monthKey, startDate, endDate }\r\n */\r\nexport const buildPayPeriodFromMonthKey = (monthKey: string): { monthKey: string; startDate: string; endDate: string } => {\r\n  const [year, month] = monthKey.split('-').map(Number);\r\n  if (!year || !month) {\r\n    return { monthKey, startDate: '', endDate: '' };\r\n  }\r\n  const startDate = new Date(year, month - 1, 1);\r\n  const endDate = new Date(year, month, 0); // Last day of month\r\n  return {\r\n    monthKey,\r\n    startDate: formatLocalDateString(startDate),\r\n    endDate: formatLocalDateString(endDate),\r\n  };\r\n};\r\n\r\n// ===== FORMAT FUNCTIONS =====\r\n\r\n/**\r\n * Format date as DD/MM/YYYY\r\n */\r\nexport const formatDate = (date: Date | string | null | undefined, formatStr: string = 'dd/MM/yyyy'): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  return dateFnsFormat(d, formatStr);\r\n};\r\n\r\n/**\r\n * Format date as DD/MM/YYYY HH:mm (uses timezone from settings)\r\n */\r\nexport const formatDateTime = (date: Date | string | null | undefined): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  \r\n  const offset = getTimezoneOffset();\r\n  const settings = getDateSettings();\r\n  \r\n  // Convert to configured timezone\r\n  const utcTime = d.getTime();\r\n  const localTime = new Date(utcTime + (offset * 60 * 60 * 1000));\r\n  \r\n  const day = localTime.getUTCDate().toString().padStart(2, '0');\r\n  const month = (localTime.getUTCMonth() + 1).toString().padStart(2, '0');\r\n  const year = localTime.getUTCFullYear();\r\n  let hours = localTime.getUTCHours();\r\n  const minutes = localTime.getUTCMinutes().toString().padStart(2, '0');\r\n  \r\n  // Format time based on settings\r\n  if (settings.timeFormat === '12h') {\r\n    const ampm = hours >= 12 ? 'PM' : 'AM';\r\n    hours = hours % 12 || 12;\r\n    return `${day}/${month}/${year} ${hours}:${minutes} ${ampm}`;\r\n  }\r\n  \r\n  return `${day}/${month}/${year} ${hours.toString().padStart(2, '0')}:${minutes}`;\r\n};\r\n\r\n/**\r\n * Format date as DD/MM/YYYY HH:mm:ss (uses timezone from settings)\r\n */\r\nexport const formatDateTimeSeconds = (date: Date | string | null | undefined): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  \r\n  const offset = getTimezoneOffset();\r\n  const settings = getDateSettings();\r\n  \r\n  // Convert to configured timezone\r\n  const utcTime = d.getTime();\r\n  const localTime = new Date(utcTime + (offset * 60 * 60 * 1000));\r\n  \r\n  const day = localTime.getUTCDate().toString().padStart(2, '0');\r\n  const month = (localTime.getUTCMonth() + 1).toString().padStart(2, '0');\r\n  const year = localTime.getUTCFullYear();\r\n  let hours = localTime.getUTCHours();\r\n  const minutes = localTime.getUTCMinutes().toString().padStart(2, '0');\r\n  const seconds = localTime.getUTCSeconds().toString().padStart(2, '0');\r\n  \r\n  // Format time based on settings\r\n  if (settings.timeFormat === '12h') {\r\n    const ampm = hours >= 12 ? 'PM' : 'AM';\r\n    hours = hours % 12 || 12;\r\n    return `${day}/${month}/${year} ${hours}:${minutes}:${seconds} ${ampm}`;\r\n  }\r\n  \r\n  return `${day}/${month}/${year} ${hours.toString().padStart(2, '0')}:${minutes}:${seconds}`;\r\n};\r\n\r\n/**\r\n * Format date with custom format string\r\n * Common formats: 'dd/MM/yyyy', 'yyyy-MM-dd', 'MMMM yyyy', etc.\r\n */\r\nexport const formatDateCustom = (\r\n  date: Date | string | null | undefined,\r\n  formatString: string\r\n): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  return dateFnsFormat(d, formatString, { locale: vi });\r\n};\r\n\r\n/**\r\n * Format for month and year display (e.g., \"Tháng 10 2025\")\r\n */\r\nexport const formatMonthYear = (date: Date | string | null | undefined): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  return dateFnsFormat(d, 'MMMM yyyy', { locale: vi });\r\n};\r\n\r\n// ===== PARSE FUNCTIONS =====\r\n\r\n/**\r\n * Parse date string to Date object\r\n * Supports: DD/MM/YYYY, YYYY-MM-DD (ISO), ISO datetime\r\n */\r\nexport const parseDate = (dateString: string): Date | null => {\r\n  if (!dateString) return null;\r\n  \r\n  // Try ISO format first (YYYY-MM-DD or YYYY-MM-DDTHH:mm:ss)\r\n  if (dateString.includes('-') && dateString.length >= 10) {\r\n    const isoDate = new Date(dateString);\r\n    if (isValid(isoDate)) return isoDate;\r\n  }\r\n  \r\n  // Try DD/MM/YYYY format\r\n  const parsed = dateFnsParse(dateString, 'dd/MM/yyyy', new Date());\r\n  return isValid(parsed) ? parsed : null;\r\n};\r\n\r\n/**\r\n * Parse datetime string DD/MM/YYYY HH:mm to Date object\r\n */\r\nexport const parseDateTime = (dateTimeString: string): Date | null => {\r\n  if (!dateTimeString) return null;\r\n  const parsed = dateFnsParse(dateTimeString, 'dd/MM/yyyy HH:mm', new Date());\r\n  return isValid(parsed) ? parsed : null;\r\n};\r\n\r\n// ===== VALIDATION FUNCTIONS =====\r\n\r\n/**\r\n * Check if date is valid\r\n */\r\nexport const isValidDate = (date: any): boolean => {\r\n  if (!date) return false;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return isValid(d);\r\n};\r\n\r\n// ===== COMPARISON FUNCTIONS =====\r\n\r\n/**\r\n * Check if two dates are the same day\r\n */\r\nexport const isDateSame = (\r\n  date1: Date | string | null | undefined,\r\n  date2: Date | string | null | undefined\r\n): boolean => {\r\n  if (!date1 || !date2) return false;\r\n  const d1 = typeof date1 === 'string' ? new Date(date1) : date1;\r\n  const d2 = typeof date2 === 'string' ? new Date(date2) : date2;\r\n  return isSameDay(d1, d2);\r\n};\r\n\r\n/**\r\n * Check if two dates are in the same month\r\n */\r\nexport const isSameMonthAs = (\r\n  date1: Date | string | null | undefined,\r\n  date2: Date | string | null | undefined\r\n): boolean => {\r\n  if (!date1 || !date2) return false;\r\n  const d1 = typeof date1 === 'string' ? new Date(date1) : date1;\r\n  const d2 = typeof date2 === 'string' ? new Date(date2) : date2;\r\n  return isSameMonth(d1, d2);\r\n};\r\n\r\n/**\r\n * Check if date is before another date\r\n */\r\nexport const isDateBefore = (\r\n  date: Date | string | null | undefined,\r\n  dateToCompare: Date | string | null | undefined\r\n): boolean => {\r\n  if (!date || !dateToCompare) return false;\r\n  const d1 = typeof date === 'string' ? new Date(date) : date;\r\n  const d2 = typeof dateToCompare === 'string' ? new Date(dateToCompare) : dateToCompare;\r\n  return isBefore(d1, d2);\r\n};\r\n\r\n/**\r\n * Check if date is after another date\r\n */\r\nexport const isDateAfter = (\r\n  date: Date | string | null | undefined,\r\n  dateToCompare: Date | string | null | undefined\r\n): boolean => {\r\n  if (!date || !dateToCompare) return false;\r\n  const d1 = typeof date === 'string' ? new Date(date) : date;\r\n  const d2 = typeof dateToCompare === 'string' ? new Date(dateToCompare) : dateToCompare;\r\n  return isAfter(d1, d2);\r\n};\r\n\r\n/**\r\n * Check if date is between two dates (inclusive)\r\n */\r\nexport const isDateBetween = (\r\n  date: Date | string | null | undefined,\r\n  startDate: Date | string | null | undefined,\r\n  endDate: Date | string | null | undefined\r\n): boolean => {\r\n  if (!date || !startDate || !endDate) return false;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  const start = typeof startDate === 'string' ? new Date(startDate) : startDate;\r\n  const end = typeof endDate === 'string' ? new Date(endDate) : endDate;\r\n  return isWithinInterval(d, { start, end });\r\n};\r\n\r\n// ===== MANIPULATION FUNCTIONS =====\r\n\r\n/**\r\n * Get current date\r\n */\r\nexport const getCurrentDate = (): Date => {\r\n  return new Date();\r\n};\r\n\r\n/**\r\n * Get start of day (00:00:00)\r\n */\r\nexport const getStartOfDay = (date: Date | string | null | undefined): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return startOfDay(d);\r\n};\r\n\r\n/**\r\n * Get end of day (23:59:59)\r\n */\r\nexport const getEndOfDay = (date: Date | string | null | undefined): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return endOfDay(d);\r\n};\r\n\r\n/**\r\n * Add days to date\r\n */\r\nexport const addDays = (\r\n  date: Date | string | null | undefined,\r\n  amount: number\r\n): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return dateFnsAddDays(d, amount);\r\n};\r\n\r\n/**\r\n * Subtract days from date\r\n */\r\nexport const subtractDays = (\r\n  date: Date | string | null | undefined,\r\n  amount: number\r\n): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return dateFnsSubDays(d, amount);\r\n};\r\n\r\n/**\r\n * Add months to date\r\n */\r\nexport const addMonths = (\r\n  date: Date | string | null | undefined,\r\n  amount: number\r\n): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return dateFnsAddMonths(d, amount);\r\n};\r\n\r\n/**\r\n * Subtract months from date\r\n */\r\nexport const subtractMonths = (\r\n  date: Date | string | null | undefined,\r\n  amount: number\r\n): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return dateFnsSubMonths(d, amount);\r\n};\r\n\r\n// ===== PERIOD FUNCTIONS =====\r\n\r\n/**\r\n * Get start of week\r\n */\r\nexport const getStartOfWeek = (date: Date | string | null | undefined): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return startOfWeek(d, { locale: vi });\r\n};\r\n\r\n/**\r\n * Get end of week\r\n */\r\nexport const getEndOfWeek = (date: Date | string | null | undefined): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return endOfWeek(d, { locale: vi });\r\n};\r\n\r\n/**\r\n * Get start of month\r\n */\r\nexport const getStartOfMonth = (date: Date | string | null | undefined): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return startOfMonth(d);\r\n};\r\n\r\n/**\r\n * Get end of month\r\n */\r\nexport const getEndOfMonth = (date: Date | string | null | undefined): Date | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return endOfMonth(d);\r\n};\r\n\r\n/**\r\n * Get day of week (0 = Sunday, 1 = Monday, etc.)\r\n */\r\nexport const getDayOfWeek = (date: Date | string | null | undefined): number | null => {\r\n  if (!date) return null;\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return getDay(d);\r\n};\r\n\r\n/**\r\n * Get difference in days between two dates\r\n */\r\nexport const getDaysDiff = (\r\n  date1: Date | string | null | undefined,\r\n  date2: Date | string | null | undefined\r\n): number => {\r\n  if (!date1 || !date2) return 0;\r\n  const d1 = typeof date1 === 'string' ? new Date(date1) : date1;\r\n  const d2 = typeof date2 === 'string' ? new Date(date2) : date2;\r\n  const diffTime = Math.abs(d2.getTime() - d1.getTime());\r\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n};\r\n\r\n/**\r\n * Get difference in months between two dates\r\n */\r\nexport const getMonthsDiff = (\r\n  date1: Date | string | null | undefined,\r\n  date2: Date | string | null | undefined\r\n): number => {\r\n  if (!date1 || !date2) return 0;\r\n  const d1 = typeof date1 === 'string' ? new Date(date1) : date1;\r\n  const d2 = typeof date2 === 'string' ? new Date(date2) : date2;\r\n  return (d2.getFullYear() - d1.getFullYear()) * 12 + (d2.getMonth() - d1.getMonth());\r\n};\r\n\r\n/**\r\n * Convert date to ISO format (YYYY-MM-DD)\r\n */\r\nexport const toISODate = (date: Date | string | null | undefined): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  return dateFnsFormat(d, 'yyyy-MM-dd');\r\n};\r\n\r\n/**\r\n * Convert date to ISO datetime format (YYYY-MM-DDTHH:mm:ss)\r\n */\r\nexport const toISODateTime = (date: Date | string | null | undefined): string => {\r\n  if (!date) return '';\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  if (!isValid(d)) return '';\r\n  return dateFnsFormat(d, \"yyyy-MM-dd'T'HH:mm:ss\");\r\n};\r\n\r\n/**\r\n * Get short weekday names\r\n */\r\nexport const getWeekdaysShort = (): string[] => {\r\n  return ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'];\r\n};\r\n\r\n/**\r\n * Get full weekday names\r\n */\r\nexport const getWeekdays = (): string[] => {\r\n  return ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'];\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2471, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/notification-center.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Bell, X, Check, CheckCheck } from 'lucide-react';\r\nimport { Badge } from './badge';\r\nimport { Button } from './button';\r\nimport { ScrollArea } from './scroll-area';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from './dropdown-menu';\r\nimport { formatDateTime } from '../../lib/date-utils';\r\nimport { useRouter } from 'next/navigation';\r\nimport { cn } from '../../lib/utils';\r\n\r\n/**\r\n * Notification Center - Trung tâm thông báo toàn hệ thống\r\n * \r\n * Chức năng:\r\n * - Hiển thị danh sách notifications\r\n * - Real-time updates\r\n * - Mark as read/unread\r\n * - Navigate đến trang liên quan\r\n * - Dùng chung cho tất cả modules (warranty, order, employee, product...)\r\n * \r\n * Sử dụng:\r\n * import { NotificationCenter, useNotificationStore } from '@/components/ui/notification-center';\r\n * \r\n * // Trong component\r\n * <NotificationCenter />\r\n * \r\n * // Trigger notification\r\n * const { addNotification } = useNotificationStore();\r\n * addNotification({\r\n *   type: 'warranty',\r\n *   title: 'Phiếu bảo hành mới',\r\n *   message: 'Phiếu BH000001 đã được tạo',\r\n *   link: '/warranty/BH000001',\r\n * });\r\n */\r\n\r\nexport interface Notification {\r\n  id: string;\r\n  type: 'warranty' | 'order' | 'employee' | 'product' | 'system' | 'comment' | 'mention';\r\n  title: string;\r\n  message: string;\r\n  link?: string; // URL để navigate khi click\r\n  isRead: boolean;\r\n  createdAt: string;\r\n  createdBy?: string;\r\n  metadata?: Record<string, any>; // Data liên quan\r\n}\r\n\r\ninterface NotificationStore {\r\n  notifications: Notification[];\r\n  unreadCount: number;\r\n  addNotification: (notification: Omit<Notification, 'id' | 'isRead' | 'createdAt'>) => void;\r\n  markAsRead: (id: string) => void;\r\n  markAllAsRead: () => void;\r\n  removeNotification: (id: string) => void;\r\n  clearAll: () => void;\r\n}\r\n\r\n// Simple store (có thể thay bằng Zustand nếu cần persist)\r\nconst notificationListeners = new Set<() => void>();\r\nlet notificationsState: Notification[] = [];\r\n\r\nfunction getNotifications(): Notification[] {\r\n  return notificationsState;\r\n}\r\n\r\nfunction setNotifications(notifications: Notification[]) {\r\n  notificationsState = notifications;\r\n  notificationListeners.forEach(listener => listener());\r\n}\r\n\r\nexport function useNotificationStore(): NotificationStore {\r\n  const [, forceUpdate] = React.useReducer(x => x + 1, 0);\r\n\r\n  React.useEffect(() => {\r\n    notificationListeners.add(forceUpdate);\r\n    return () => {\r\n      notificationListeners.delete(forceUpdate);\r\n    };\r\n  }, []);\r\n\r\n  const notifications = getNotifications();\r\n  const unreadCount = React.useMemo(\r\n    () => notifications.filter(n => !n.isRead).length,\r\n    [notifications]\r\n  );\r\n\r\n  const addNotification = React.useCallback((notification: Omit<Notification, 'id' | 'isRead' | 'createdAt'>) => {\r\n    const newNotification: Notification = {\r\n      ...notification,\r\n      id: `notif-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\r\n      isRead: false,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n    setNotifications([newNotification, ...getNotifications()]);\r\n  }, []);\r\n\r\n  const markAsRead = React.useCallback((id: string) => {\r\n    setNotifications(\r\n      getNotifications().map(n => n.id === id ? { ...n, isRead: true } : n)\r\n    );\r\n  }, []);\r\n\r\n  const markAllAsRead = React.useCallback(() => {\r\n    setNotifications(\r\n      getNotifications().map(n => ({ ...n, isRead: true }))\r\n    );\r\n  }, []);\r\n\r\n  const removeNotification = React.useCallback((id: string) => {\r\n    setNotifications(getNotifications().filter(n => n.id !== id));\r\n  }, []);\r\n\r\n  const clearAll = React.useCallback(() => {\r\n    setNotifications([]);\r\n  }, []);\r\n\r\n  return {\r\n    notifications,\r\n    unreadCount,\r\n    addNotification,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    removeNotification,\r\n    clearAll,\r\n  };\r\n}\r\n\r\n// Icon mapping\r\nconst notificationIcons: Record<Notification['type'], React.ReactNode> = {\r\n  warranty: <span className=\"text-blue-600\">🔧</span>,\r\n  order: <span className=\"text-green-600\">📦</span>,\r\n  employee: <span className=\"text-purple-600\">👤</span>,\r\n  product: <span className=\"text-orange-600\">📦</span>,\r\n  system: <span className=\"text-gray-600\">⚙️</span>,\r\n  comment: <span className=\"text-indigo-600\">💬</span>,\r\n  mention: <span className=\"text-pink-600\">@</span>,\r\n};\r\n\r\nexport function NotificationCenter() {\r\n  const router = useRouter();\r\n  const { notifications, unreadCount, markAsRead, markAllAsRead, removeNotification, clearAll } = useNotificationStore();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleNotificationClick = React.useCallback((notification: Notification) => {\r\n    // Mark as read\r\n    markAsRead(notification.id);\r\n    \r\n    // Navigate if has link\r\n    if (notification.link) {\r\n      router.push(notification.link);\r\n      setOpen(false);\r\n    }\r\n  }, [markAsRead, router]);\r\n\r\n  return (\r\n    <DropdownMenu open={open} onOpenChange={setOpen}>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n          <Bell className=\"h-5 w-5\" />\r\n          {unreadCount > 0 && (\r\n            <Badge \r\n              className=\"absolute -top-1 -right-1 h-5 min-w-[20px] flex items-center justify-center p-0 text-[10px]\"\r\n              variant=\"destructive\"\r\n            >\r\n              {unreadCount > 99 ? '99+' : unreadCount}\r\n            </Badge>\r\n          )}\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      \r\n      <DropdownMenuContent align=\"end\" className=\"w-[380px] p-0\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between px-4 py-3 border-b\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <h3 className=\"font-semibold\">Thông báo</h3>\r\n            {unreadCount > 0 && (\r\n              <Badge variant=\"secondary\" className=\"text-xs\">\r\n                {unreadCount} mới\r\n              </Badge>\r\n            )}\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            {unreadCount > 0 && (\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                className=\"h-7 text-xs\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  markAllAsRead();\r\n                }}\r\n              >\r\n                <CheckCheck className=\"h-3 w-3 mr-1\" />\r\n                Đánh dấu đọc hết\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Notifications List */}\r\n        {notifications.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center py-8 text-center\">\r\n            <Bell className=\"h-12 w-12 text-muted-foreground/50 mb-2\" />\r\n            <p className=\"text-sm text-muted-foreground\">Không có thông báo</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <ScrollArea className=\"h-[400px]\">\r\n              <div className=\"p-2\">\r\n                {notifications.map((notification) => (\r\n                  <div key={notification.id}>\r\n                    <div\r\n                      className={cn(\r\n                        \"group relative flex gap-3 p-3 rounded-lg cursor-pointer transition-colors\",\r\n                        notification.isRead \r\n                          ? \"hover:bg-accent/50\" \r\n                          : \"bg-blue-50 hover:bg-blue-100 border-l-2 border-blue-500\"\r\n                      )}\r\n                      onClick={() => handleNotificationClick(notification)}\r\n                    >\r\n                      {/* Icon */}\r\n                      <div className=\"flex-shrink-0 mt-0.5\">\r\n                        {notificationIcons[notification.type]}\r\n                      </div>\r\n\r\n                      {/* Content */}\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-start justify-between gap-2\">\r\n                          <p className={cn(\r\n                            \"text-sm font-medium\",\r\n                            !notification.isRead && \"font-semibold\"\r\n                          )}>\r\n                            {notification.title}\r\n                          </p>\r\n                          \r\n                          {/* Delete button */}\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            className=\"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              removeNotification(notification.id);\r\n                            }}\r\n                          >\r\n                            <X className=\"h-3 w-3\" />\r\n                          </Button>\r\n                        </div>\r\n                        \r\n                        <p className=\"text-xs text-muted-foreground mt-1\">\r\n                          {notification.message}\r\n                        </p>\r\n                        \r\n                        <div className=\"flex items-center gap-2 mt-2\">\r\n                          <span className=\"text-xs text-muted-foreground\">\r\n                            {formatDateTime(notification.createdAt)}\r\n                          </span>\r\n                          \r\n                          {notification.createdBy && (\r\n                            <>\r\n                              <span className=\"text-xs text-muted-foreground\">•</span>\r\n                              <span className=\"text-xs text-muted-foreground\">\r\n                                {notification.createdBy}\r\n                              </span>\r\n                            </>\r\n                          )}\r\n                          \r\n                          {!notification.isRead && (\r\n                            <>\r\n                              <span className=\"text-xs text-muted-foreground\">•</span>\r\n                              <span className=\"text-xs text-blue-600 font-medium\">Mới</span>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </ScrollArea>\r\n\r\n            {/* Footer */}\r\n            <DropdownMenuSeparator />\r\n            <div className=\"p-2\">\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                className=\"w-full text-xs\"\r\n                onClick={() => {\r\n                  clearAll();\r\n                  setOpen(false);\r\n                }}\r\n              >\r\n                Xóa tất cả thông báo\r\n              </Button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n/**\r\n * Helper functions để trigger notifications\r\n */\r\n\r\n// Warranty notifications\r\nexport function notifyWarrantyCreated(warrantyId: string, createdBy: string) {\r\n  const { addNotification } = useNotificationStore();\r\n  addNotification({\r\n    type: 'warranty',\r\n    title: 'Phiếu bảo hành mới',\r\n    message: `Phiếu ${warrantyId} đã được tạo`,\r\n    link: `/warranty/${warrantyId}`,\r\n    createdBy,\r\n  });\r\n}\r\n\r\nexport function notifyWarrantyStatusChanged(warrantyId: string, newStatus: string, changedBy: string) {\r\n  const { addNotification } = useNotificationStore();\r\n  addNotification({\r\n    type: 'warranty',\r\n    title: 'Cập nhật trạng thái',\r\n    message: `Phiếu ${warrantyId} đã chuyển sang ${newStatus}`,\r\n    link: `/warranty/${warrantyId}`,\r\n    createdBy: changedBy,\r\n  });\r\n}\r\n\r\nexport function notifyMention(mentionedBy: string, context: string, link: string) {\r\n  const { addNotification } = useNotificationStore();\r\n  addNotification({\r\n    type: 'mention',\r\n    title: 'Bạn được nhắc đến',\r\n    message: `${mentionedBy} đã nhắc bạn trong ${context}`,\r\n    link,\r\n    createdBy: mentionedBy,\r\n  });\r\n}\r\n\r\nexport function notifyComment(commentBy: string, context: string, link: string) {\r\n  const { addNotification } = useNotificationStore();\r\n  addNotification({\r\n    type: 'comment',\r\n    title: 'Bình luận mới',\r\n    message: `${commentBy} đã bình luận trong ${context}`,\r\n    link,\r\n    createdBy: commentBy,\r\n  });\r\n}\r\n\r\n// Order notifications\r\nexport function notifyOrderCreated(orderId: string, createdBy: string) {\r\n  const { addNotification } = useNotificationStore();\r\n  addNotification({\r\n    type: 'order',\r\n    title: 'Đơn hàng mới',\r\n    message: `Đơn ${orderId} đã được tạo`,\r\n    link: `/orders/${orderId}`,\r\n    createdBy,\r\n  });\r\n}\r\n\r\n// System notifications\r\nexport function notifySystem(title: string, message: string) {\r\n  const { addNotification } = useNotificationStore();\r\n  addNotification({\r\n    type: 'system',\r\n    title,\r\n    message,\r\n  });\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3035, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/layout/header.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport { ChevronRight, User, Menu, PanelLeftClose, PanelLeftOpen, LogOut } from 'lucide-react';\r\nimport { Button } from '../ui/button';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"../ui/dropdown-menu\"\r\nimport { useUiStore } from '../../lib/ui-store';\r\nimport { ResponsiveContainer } from '../ui/responsive-container';\r\nimport { usePageHeaderContext } from '../../contexts/page-header-context';\r\nimport { ROUTES } from '../../lib/router';\r\nimport { toast } from 'sonner';\r\nimport { useAuth } from '../../contexts/auth-context';\r\nimport { NotificationCenter } from '../ui/notification-center';\r\n\r\nexport function Header() {\r\n  const { toggleSidebar, toggleSidebarCollapse, isSidebarCollapsed } = useUiStore();\r\n  const { pageHeader } = usePageHeaderContext();\r\n  const router = useRouter();\r\n  const { user, employee, logout: authLogout } = useAuth();\r\n  \r\n  const { breadcrumb = [] } = pageHeader;\r\n  \r\n  const handleLogout = () => {\r\n    authLogout();\r\n    toast.success('Đăng xuất thành công');\r\n    router.push(ROUTES.AUTH.LOGIN);\r\n  };\r\n  \r\n  return (\r\n    <header className=\"sticky top-0 z-30 flex h-16 items-center border-b border-border bg-card shadow-sm shrink-0 w-full\">\r\n      <div className=\"w-full px-4 sm:px-6 lg:px-6 flex items-center gap-4 py-2\">\r\n        <div className=\"flex-1 flex items-center gap-2 min-w-0\">\r\n          <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"lg:hidden h-8 w-8 shrink-0 touch-target\"\r\n              onClick={toggleSidebar}\r\n          >\r\n              <Menu className=\"h-5 w-5\" />\r\n              <span className=\"sr-only\">Toggle Sidebar</span>\r\n          </Button>\r\n          <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"hidden lg:flex h-8 w-8 shrink-0\"\r\n              onClick={toggleSidebarCollapse}\r\n          >\r\n              {isSidebarCollapsed ? (\r\n                  <PanelLeftOpen className=\"h-5 w-5\" />\r\n              ) : (\r\n                  <PanelLeftClose className=\"h-5 w-5\" />\r\n              )}\r\n              <span className=\"sr-only\">Toggle Sidebar</span>\r\n          </Button>\r\n          \r\n          {/* Breadcrumb */}\r\n          {breadcrumb.length > 0 && (\r\n            <nav className=\"hidden md:flex items-center gap-1 text-sm min-w-0\">\r\n              {breadcrumb.map((item, index) => (\r\n                <React.Fragment key={index}>\r\n                  {index > 0 && <ChevronRight className=\"h-4 w-4 text-muted-foreground shrink-0\" />}\r\n                  {item.isCurrent ? (\r\n                    <span className=\"text-foreground font-medium truncate\">{item.label}</span>\r\n                  ) : (\r\n                    <Link href={item.href} className=\"text-muted-foreground hover:text-foreground transition-colors truncate hover:underline\">\r\n                      {item.label}\r\n                    </Link>\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n            </nav>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-2 shrink-0\">\r\n          {/* Notification Center */}\r\n          <NotificationCenter />\r\n          \r\n          <DropdownMenu>\r\n              <DropdownMenuTrigger asChild>\r\n                  <Button variant=\"ghost\" size=\"icon\" className=\"rounded-full w-8 h-8 touch-target\">\r\n                      <User className=\"h-4 w-4\" />\r\n                      <span className=\"sr-only\">Toggle user menu</span>\r\n                  </Button>\r\n              </DropdownMenuTrigger>\r\n              <DropdownMenuContent align=\"end\">\r\n                  <DropdownMenuLabel>\r\n                    {user ? (\r\n                      <div className=\"flex flex-col space-y-1\">\r\n                        <p className=\"text-sm font-medium\">{employee?.fullName || user.name}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">{employee?.workEmail || user.email}</p>\r\n                        {employee && (\r\n                          <>\r\n                            <p className=\"text-xs text-muted-foreground\">{employee.id} - {employee.jobTitle}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">{employee.department}</p>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      'Tài khoản'\r\n                    )}\r\n                  </DropdownMenuLabel>\r\n                  <DropdownMenuSeparator />\r\n                  <DropdownMenuItem onSelect={() => router.push('/settings')}>Cài đặt</DropdownMenuItem>\r\n                  <DropdownMenuItem>Hỗ trợ</DropdownMenuItem>\r\n                  <DropdownMenuSeparator />\r\n                  <DropdownMenuItem onSelect={handleLogout} className=\"text-destructive focus:text-destructive\">\r\n                    <LogOut className=\"mr-2 h-4 w-4\" />\r\n                    Đăng xuất\r\n                  </DropdownMenuItem>\r\n              </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAQA;AAEA;AACA;AACA;AACA;AACA;AArBA;;;;;;;;;;;;;;AAuBO,SAAS;IACd,MAAM,EAAE,aAAa,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,GAAG,IAAA,gIAAU;IAC/E,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,8JAAoB;IAC3C,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,UAAU,EAAE,GAAG,IAAA,uIAAO;IAEtD,MAAM,EAAE,aAAa,EAAE,EAAE,GAAG;IAE5B,MAAM,eAAe;QACnB;QACA,iJAAK,CAAC,OAAO,CAAC;QACd,OAAO,IAAI,CAAC,uHAAM,CAAC,IAAI,CAAC,KAAK;IAC/B;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qIAAM;4BACH,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS;;8CAET,8OAAC,0MAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;sCAE9B,8OAAC,qIAAM;4BACH,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS;;gCAER,mCACG,8OAAC,6OAAa;oCAAC,WAAU;;;;;yDAEzB,8OAAC,gPAAc;oCAAC,WAAU;;;;;;8CAE9B,8OAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;wBAI7B,WAAW,MAAM,GAAG,mBACnB,8OAAC;4BAAI,WAAU;sCACZ,WAAW,GAAG,CAAC,CAAC,MAAM,sBACrB,8OAAC,iNAAc;;wCACZ,QAAQ,mBAAK,8OAAC,sOAAY;4CAAC,WAAU;;;;;;wCACrC,KAAK,SAAS,iBACb,8OAAC;4CAAK,WAAU;sDAAwC,KAAK,KAAK;;;;;iEAElE,8OAAC,uKAAI;4CAAC,MAAM,KAAK,IAAI;4CAAE,WAAU;sDAC9B,KAAK,KAAK;;;;;;;mCANI;;;;;;;;;;;;;;;;8BAe7B,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC,iKAAkB;;;;;sCAEnB,8OAAC,qJAAY;;8CACT,8OAAC,4JAAmB;oCAAC,OAAO;8CACxB,cAAA,8OAAC,qIAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAO,WAAU;;0DAC1C,8OAAC,0MAAI;gDAAC,WAAU;;;;;;0DAChB,8OAAC;gDAAK,WAAU;0DAAU;;;;;;;;;;;;;;;;;8CAGlC,8OAAC,4JAAmB;oCAAC,OAAM;;sDACvB,8OAAC,0JAAiB;sDACf,qBACC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAE,WAAU;kEAAuB,UAAU,YAAY,KAAK,IAAI;;;;;;kEACnE,8OAAC;wDAAE,WAAU;kEAAiC,UAAU,aAAa,KAAK,KAAK;;;;;;oDAC9E,0BACC;;0EACE,8OAAC;gEAAE,WAAU;;oEAAiC,SAAS,EAAE;oEAAC;oEAAI,SAAS,QAAQ;;;;;;;0EAC/E,8OAAC;gEAAE,WAAU;0EAAiC,SAAS,UAAU;;;;;;;;;;;;;uDAKvE;;;;;;sDAGJ,8OAAC,8JAAqB;;;;;sDACtB,8OAAC,yJAAgB;4CAAC,UAAU,IAAM,OAAO,IAAI,CAAC;sDAAc;;;;;;sDAC5D,8OAAC,yJAAgB;sDAAC;;;;;;sDAClB,8OAAC,8JAAqB;;;;;sDACtB,8OAAC,yJAAgB;4CAAC,UAAU;4CAAc,WAAU;;8DAClD,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvD"}},
    {"offset": {"line": 3372, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/use-media-query.ts"],"sourcesContent":["import * as React from 'react';\r\n\r\nexport function useMediaQuery(query: string) {\r\n  const [value, setValue] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    const mediaQueryList = window.matchMedia(query);\r\n    const listener = () => setValue(mediaQueryList.matches);\r\n    \r\n    // Set initial value\r\n    listener();\r\n    \r\n    // Add listener\r\n    mediaQueryList.addEventListener('change', listener);\r\n    \r\n    // Cleanup\r\n    return () => mediaQueryList.removeEventListener('change', listener);\r\n  }, [query]);\r\n\r\n  return value;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS,cAAc,KAAa;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,iNAAc,CAAC;IAEzC,kNAAe,CAAC;QACd,MAAM,iBAAiB,OAAO,UAAU,CAAC;QACzC,MAAM,WAAW,IAAM,SAAS,eAAe,OAAO;QAEtD,oBAAoB;QACpB;QAEA,eAAe;QACf,eAAe,gBAAgB,CAAC,UAAU;QAE1C,UAAU;QACV,OAAO,IAAM,eAAe,mBAAmB,CAAC,UAAU;IAC5D,GAAG;QAAC;KAAM;IAEV,OAAO;AACT"}},
    {"offset": {"line": 3398, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/layout/page-header.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { ArrowLeft, ExternalLink } from 'lucide-react';\r\nimport { Button } from '../ui/button';\r\nimport { useMediaQuery } from '../../lib/use-media-query';\r\nimport { usePageHeaderState } from '../../contexts/page-header-context';\r\n\r\n/**\r\n * Page Header Component\r\n * Mobile-first responsive header với Shadcn UI design\r\n * \r\n * Mobile: Back button + Title + Actions stacked\r\n * Desktop: Title/Subtitle + Badge + Actions inline\r\n */\r\nexport function PageHeader() {\r\n  const pageHeader = usePageHeaderState();\r\n  const isDesktop = useMediaQuery('(min-width: 768px)');\r\n\r\n  const {\r\n    title,\r\n    subtitle,\r\n    badge,\r\n    showBackButton,\r\n    onBack,\r\n    actions: rawActions,\r\n    docLink,\r\n  } = pageHeader;\r\n\r\n  const actions = React.useMemo(() => {\r\n    const normalizedActions: React.ReactNode[] = [];\r\n\r\n    if (docLink?.href) {\r\n      normalizedActions.push(\r\n        <Button\r\n          key=\"doc-link\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          asChild\r\n          className=\"h-9 gap-2 text-muted-foreground\"\r\n        >\r\n          <a href={docLink.href} target=\"_blank\" rel=\"noreferrer\">\r\n            <ExternalLink className=\"h-4 w-4\" />\r\n            {docLink.label ?? 'Tài liệu' }\r\n          </a>\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    if (rawActions) {\r\n      if (Array.isArray(rawActions)) {\r\n        normalizedActions.push(...rawActions.filter(Boolean));\r\n      } else {\r\n        normalizedActions.push(rawActions);\r\n      }\r\n    }\r\n\r\n    return normalizedActions;\r\n  }, [docLink, rawActions]);\r\n\r\n  // Don't render if no content\r\n  if (!title && actions.length === 0 && !subtitle && !badge) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-background sticky top-16 z-20 border-b border-border\">\r\n      {/* Mobile Layout */}\r\n      {!isDesktop && (\r\n        <div className=\"flex flex-col gap-2 px-4 py-2\">\r\n          {/* Mobile: Back + Title */}\r\n          <div className=\"flex items-center gap-3\">\r\n            {showBackButton && onBack && (\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={onBack}\r\n                className=\"h-9 w-9 shrink-0\"\r\n                aria-label=\"Quay lại\"\r\n              >\r\n                <ArrowLeft className=\"h-5 w-5\" />\r\n              </Button>\r\n            )}\r\n            \r\n            <div className=\"flex-1 min-w-0\">\r\n              <div className=\"flex items-center gap-2\">\r\n                {title && (\r\n                  <h1 className=\"text-lg font-semibold tracking-tight truncate\">\r\n                    {title}\r\n                  </h1>\r\n                )}\r\n                {badge}\r\n              </div>\r\n              {subtitle && (\r\n                <p className=\"mt-1 text-sm text-muted-foreground line-clamp-2\">\r\n                  {subtitle}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Mobile: Actions */}\r\n          {actions.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {actions.map((action, index) => (\r\n                <React.Fragment key={index}>{action}</React.Fragment>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Desktop Layout */}\r\n      {isDesktop && (\r\n        <div className=\"px-6 py-3\">\r\n          {/* Desktop: Title + Actions */}\r\n          <div className=\"flex items-center justify-between gap-4\">\r\n            <div className=\"flex items-center gap-3 min-w-0 flex-1\">\r\n              {showBackButton && onBack && (\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  onClick={onBack}\r\n                  className=\"h-9 w-9 shrink-0\"\r\n                  aria-label=\"Quay lại\"\r\n                >\r\n                  <ArrowLeft className=\"h-5 w-5\" />\r\n                </Button>\r\n              )}\r\n\r\n              <div className=\"flex-1 min-w-0\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  {title && (\r\n                    <h1 className=\"text-2xl font-semibold tracking-tight truncate\">\r\n                      {title}\r\n                    </h1>\r\n                  )}\r\n                  {badge}\r\n                </div>\r\n                {subtitle && (\r\n                  <p className=\"mt-1 text-sm text-muted-foreground line-clamp-2\">\r\n                    {subtitle}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Desktop: Actions */}\r\n            {actions.length > 0 && (\r\n              <div className=\"flex items-center gap-2 shrink-0\">\r\n                {actions.map((action, index) => (\r\n                  <React.Fragment key={index}>{action}</React.Fragment>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Page Header Skeleton\r\n * Loading state for page header\r\n */\r\nexport function PageHeaderSkeleton() {\r\n  const isDesktop = useMediaQuery('(min-width: 768px)');\r\n\r\n  return (\r\n    <div className=\"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\r\n      {!isDesktop && (\r\n        <div className=\"flex flex-col gap-3 py-3\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"h-9 w-9 bg-muted animate-pulse rounded-md\" />\r\n            <div className=\"flex-1\">\r\n              <div className=\"h-5 w-32 bg-muted animate-pulse rounded\" />\r\n              <div className=\"h-4 w-48 bg-muted animate-pulse rounded mt-1\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {isDesktop && (\r\n        <div className=\"flex flex-col gap-3 py-4\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"h-4 w-16 bg-muted animate-pulse rounded\" />\r\n            <div className=\"h-4 w-2 bg-muted animate-pulse rounded\" />\r\n            <div className=\"h-4 w-24 bg-muted animate-pulse rounded\" />\r\n          </div>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"h-8 w-48 bg-muted animate-pulse rounded\" />\r\n            <div className=\"h-9 w-24 bg-muted animate-pulse rounded\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3781, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/layout/main-layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react';\r\nimport { Sidebar } from './sidebar';\r\nimport { Header } from './header';\r\nimport { useUiStore } from '../../lib/ui-store';\r\nimport { useMediaQuery } from '../../lib/use-media-query';\r\nimport { cn } from '../../lib/utils';\r\nimport { ModalProvider } from '../../contexts/modal-context';\r\nimport { ResponsiveContainer } from '../ui/responsive-container';\r\nimport { PageHeader } from './page-header';\r\nimport { useIdlePreload } from '../../hooks/use-route-prefetch';\r\n\r\n// Component to initialize UI store state based on media query\r\nfunction UiStateInitializer() {\r\n    const isDesktop = useMediaQuery('(min-width: 1024px)');\r\n    const setSidebarOpen = useUiStore((state) => state.setSidebarOpen);\r\n\r\n    // Set initial sidebar state based on screen size, and update on change\r\n    React.useEffect(() => {\r\n        setSidebarOpen(isDesktop);\r\n    }, [isDesktop, setSidebarOpen]);\r\n\r\n    return null;\r\n}\r\n\r\ninterface MainLayoutProps {\r\n  children?: React.ReactNode;\r\n}\r\n\r\n\r\nexport function MainLayout({ children }: MainLayoutProps) {\r\n  const { isSidebarOpen, setSidebarOpen, isSidebarCollapsed } = useUiStore();\r\n  const isDesktop = useMediaQuery('(min-width: 1024px)');\r\n  \r\n  // NOTE: Idle preload disabled - most pages are now direct imports for instant navigation\r\n  // Only Wiki, Reports, and Settings remain lazy-loaded\r\n  \r\n  return (\r\n    <>\r\n      <UiStateInitializer />\r\n      <ModalProvider>\r\n        <div className=\"flex min-h-screen bg-secondary/10\">\r\n          <Sidebar />\r\n          <div className={cn(\r\n            \"flex flex-col flex-1 min-w-0 transition-all duration-300\",\r\n            isSidebarCollapsed ? \"lg:ml-16\" : \"lg:ml-64\"\r\n          )}>\r\n            <Header />\r\n            <div className=\"flex-1 flex flex-col px-4 md:px-6\">\r\n              <PageHeader />\r\n              <main className=\"flex-1 w-full\">\r\n                {/* Content area with vertical padding only */}\r\n                <div className=\"py-4 mobile:py-3\">\r\n                  {children}\r\n                </div>\r\n              </main>\r\n            </div>\r\n          </div>\r\n          {/* Overlay for mobile sidebar */}\r\n          {isSidebarOpen && !isDesktop && (\r\n            <div \r\n              className=\"fixed inset-0 z-20 bg-black/50 lg:hidden\"\r\n              onClick={() => setSidebarOpen(false)}\r\n            />\r\n          )}\r\n        </div>\r\n      </ModalProvider>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAVA;;;;;;;;;;AAaA,8DAA8D;AAC9D,SAAS;IACL,MAAM,YAAY,IAAA,6IAAa,EAAC;IAChC,MAAM,iBAAiB,IAAA,gIAAU,EAAC,CAAC,QAAU,MAAM,cAAc;IAEjE,uEAAuE;IACvE,kNAAe,CAAC;QACZ,eAAe;IACnB,GAAG;QAAC;QAAW;KAAe;IAE9B,OAAO;AACX;AAOO,SAAS,WAAW,EAAE,QAAQ,EAAmB;IACtD,MAAM,EAAE,aAAa,EAAE,cAAc,EAAE,kBAAkB,EAAE,GAAG,IAAA,gIAAU;IACxE,MAAM,YAAY,IAAA,6IAAa,EAAC;IAEhC,yFAAyF;IACzF,sDAAsD;IAEtD,qBACE;;0BACE,8OAAC;;;;;0BACD,8OAAC,8IAAa;0BACZ,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,2IAAO;;;;;sCACR,8OAAC;4BAAI,WAAW,IAAA,kHAAE,EAChB,4DACA,qBAAqB,aAAa;;8CAElC,8OAAC,yIAAM;;;;;8CACP,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,qJAAU;;;;;sDACX,8OAAC;4CAAK,WAAU;sDAEd,cAAA,8OAAC;gDAAI,WAAU;0DACZ;;;;;;;;;;;;;;;;;;;;;;;wBAMR,iBAAiB,CAAC,2BACjB,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,eAAe;;;;;;;;;;;;;;;;;;;AAO5C"}},
    {"offset": {"line": 3907, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/app/%28authenticated%29/layout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { MainLayout } from '@/components/layout/main-layout'\r\nimport { useAuth } from '@/contexts/auth-context'\r\nimport { useRouter, usePathname } from 'next/navigation'\r\nimport { useEffect } from 'react'\r\n\r\nexport default function AuthenticatedLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const { isAuthenticated } = useAuth()\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      router.replace(`/login?from=${encodeURIComponent(pathname)}`)\r\n    }\r\n  }, [isAuthenticated, router, pathname])\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return <MainLayout>{children}</MainLayout>\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,oBAAoB,EAC1C,QAAQ,EAGT;IACC,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,uIAAO;IACnC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAE5B,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,iBAAiB;YACpB,OAAO,OAAO,CAAC,CAAC,YAAY,EAAE,mBAAmB,WAAW;QAC9D;IACF,GAAG;QAAC;QAAiB;QAAQ;KAAS;IAEtC,IAAI,CAAC,iBAAiB;QACpB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBAAO,8OAAC,qJAAU;kBAAE;;;;;;AACtB"}}]
}