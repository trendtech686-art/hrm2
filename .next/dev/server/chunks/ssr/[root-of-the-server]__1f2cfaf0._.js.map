{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/id-types.ts"],"sourcesContent":["/**\r\n * Type-safe ID System\r\n * \r\n * Prevents mixing systemId with business ID at compile time\r\n */\r\n\r\n// Branded types for type safety\r\nexport type SystemId = string & { readonly __brand: 'SystemId' };\r\nexport type BusinessId = string & { readonly __brand: 'BusinessId' };\r\n\r\n/**\r\n * Create a SystemId from a string\r\n * Use this when you know for sure it's a systemId\r\n */\r\nexport function asSystemId(id: string): SystemId {\r\n  return id as SystemId;\r\n}\r\n\r\n/**\r\n * Create a BusinessId from a string\r\n * Use this when you know for sure it's a business ID\r\n */\r\nexport function asBusinessId(id: string): BusinessId {\r\n  return id as BusinessId;\r\n}\r\n\r\n/**\r\n * Check if a string is a valid systemId format\r\n */\r\nexport function isSystemIdFormat(id: string): boolean {\r\n  // SystemId: 8 digits + prefix (e.g., NV00000001, VOUCHER00000123)\r\n  return /^[A-Z]+\\d{8}$/.test(id);\r\n}\r\n\r\n/**\r\n * Check if a string is a valid business ID format\r\n */\r\nexport function isBusinessIdFormat(id: string): boolean {\r\n  // Business ID: shorter, variable length (e.g., NV001, PT000001)\r\n  return /^[A-Z]+\\d{3,6}$/.test(id);\r\n}\r\n\r\n/**\r\n * Safely convert unknown ID to proper type\r\n */\r\nexport function parseId(id: string): { type: 'system' | 'business'; value: SystemId | BusinessId } {\r\n  if (isSystemIdFormat(id)) {\r\n    return { type: 'system', value: asSystemId(id) };\r\n  }\r\n  if (isBusinessIdFormat(id)) {\r\n    return { type: 'business', value: asBusinessId(id) };\r\n  }\r\n  throw new Error(`Invalid ID format: ${id}`);\r\n}\r\n\r\n/**\r\n * ID Pair - Always keep systemId and businessId together\r\n */\r\nexport interface IDPair {\r\n  systemId: SystemId;\r\n  businessId: BusinessId;\r\n}\r\n\r\n/**\r\n * Entity with dual IDs\r\n */\r\nexport interface DualIDEntity {\r\n  systemId: SystemId;\r\n  id: BusinessId;\r\n}\r\n\r\n/**\r\n * Store methods with type-safe IDs\r\n */\r\nexport interface TypeSafeStore<T extends DualIDEntity> {\r\n  /** Find by systemId (for queries, relationships) */\r\n  findBySystemId(systemId: SystemId): T | null;\r\n  \r\n  /** Find by business ID (for user input, display) */\r\n  findByBusinessId(businessId: BusinessId): T | null;\r\n  \r\n  /** Update by systemId (always use systemId for updates) */\r\n  updateBySystemId(systemId: SystemId, updates: Partial<T>): void;\r\n  \r\n  /** Delete by systemId (always use systemId for deletes) */\r\n  deleteBySystemId(systemId: SystemId): void;\r\n}\r\n\r\n/**\r\n * Route params with type-safe IDs\r\n */\r\nexport interface RouteParams {\r\n  systemId?: SystemId;\r\n  id?: BusinessId;\r\n}\r\n\r\n/**\r\n * Link builder - always uses systemId\r\n */\r\nexport function buildEntityLink(path: string, entity: DualIDEntity): string {\r\n  return path.replace(':systemId', entity.systemId);\r\n}\r\n\r\n/**\r\n * Display ID - always uses business ID\r\n */\r\nexport function getDisplayId(entity: DualIDEntity): string {\r\n  return entity.id;\r\n}\r\n\r\n/**\r\n * Runtime guard: ensures a string is valid SystemId format and casts it\r\n * Logs warning if format is invalid\r\n */\r\nexport function ensureSystemId(id: string, context?: string): SystemId {\r\n  if (!isSystemIdFormat(id)) {\r\n    console.warn(`[ensureSystemId] Invalid SystemId format: \"${id}\"${context ? ` in ${context}` : ''}`);\r\n  }\r\n  return asSystemId(id);\r\n}\r\n\r\n/**\r\n * Runtime guard: ensures a string is valid BusinessId format and casts it\r\n * Logs warning if format is invalid\r\n */\r\nexport function ensureBusinessId(id: string, context?: string): BusinessId {\r\n  if (!isBusinessIdFormat(id)) {\r\n    console.warn(`[ensureBusinessId] Invalid BusinessId format: \"${id}\"${context ? ` in ${context}` : ''}`);\r\n  }\r\n  return asBusinessId(id);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC,GAED,gCAAgC;;;;;;;;;;;;;;;;;;;;;AAQzB,SAAS,WAAW,EAAU;IACnC,OAAO;AACT;AAMO,SAAS,aAAa,EAAU;IACrC,OAAO;AACT;AAKO,SAAS,iBAAiB,EAAU;IACzC,kEAAkE;IAClE,OAAO,gBAAgB,IAAI,CAAC;AAC9B;AAKO,SAAS,mBAAmB,EAAU;IAC3C,gEAAgE;IAChE,OAAO,kBAAkB,IAAI,CAAC;AAChC;AAKO,SAAS,QAAQ,EAAU;IAChC,IAAI,iBAAiB,KAAK;QACxB,OAAO;YAAE,MAAM;YAAU,OAAO,WAAW;QAAI;IACjD;IACA,IAAI,mBAAmB,KAAK;QAC1B,OAAO;YAAE,MAAM;YAAY,OAAO,aAAa;QAAI;IACrD;IACA,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,IAAI;AAC5C;AA8CO,SAAS,gBAAgB,IAAY,EAAE,MAAoB;IAChE,OAAO,KAAK,OAAO,CAAC,aAAa,OAAO,QAAQ;AAClD;AAKO,SAAS,aAAa,MAAoB;IAC/C,OAAO,OAAO,EAAE;AAClB;AAMO,SAAS,eAAe,EAAU,EAAE,OAAgB;IACzD,IAAI,CAAC,iBAAiB,KAAK;QACzB,QAAQ,IAAI,CAAC,CAAC,2CAA2C,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI;IACpG;IACA,OAAO,WAAW;AACpB;AAMO,SAAS,iBAAiB,EAAU,EAAE,OAAgB;IAC3D,IAAI,CAAC,mBAAmB,KAAK;QAC3B,QAAQ,IAAI,CAAC,CAAC,+CAA+C,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI;IACxG;IACA,OAAO,aAAa;AACtB"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/use-settings-page-header.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Settings2 } from 'lucide-react';\r\nimport { usePageHeader, type PageHeaderState, type PageHeaderDocLink } from '../../contexts/page-header-context';\r\nimport type { BreadcrumbItem } from '../../lib/breadcrumb-system';\r\n\r\nexport type SettingsPageHeaderOptions = Omit<PageHeaderState, 'title' | 'docLink'> & {\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  docLink?: string | PageHeaderDocLink;\r\n};\r\n\r\nconst defaultDocLabel = 'Xem hướng dẫn';\r\nconst baseBreadcrumb: BreadcrumbItem[] = [\r\n  { label: 'Trang chủ', href: '/', isCurrent: false },\r\n  { label: 'Cài đặt', href: '/settings', isCurrent: false },\r\n];\r\n\r\nconst normalizeLabel = (label?: string) => label?.trim().toLocaleLowerCase('vi');\r\nconst isHomeCrumb = (item: BreadcrumbItem) => item.href === '/' || normalizeLabel(item.label) === 'trang chủ';\r\nconst isSettingsCrumb = (item: BreadcrumbItem) => item.href === '/settings' || normalizeLabel(item.label) === 'cài đặt';\r\n\r\nexport function useSettingsPageHeader(options: SettingsPageHeaderOptions) {\r\n  const pathname = usePathname();\r\n  const { title, icon, docLink, breadcrumb, ...rest } = options;\r\n\r\n  const normalizedDocLink = React.useMemo<PageHeaderDocLink | undefined>(() => {\r\n    if (!docLink) return undefined;\r\n    if (typeof docLink === 'string') {\r\n      return { href: docLink, label: defaultDocLabel };\r\n    }\r\n    return {\r\n      href: docLink.href,\r\n      label: docLink.label ?? defaultDocLabel,\r\n    };\r\n  }, [docLink]);\r\n\r\n  const decoratedTitle = React.useMemo(() => (\r\n    <span className=\"inline-flex items-center gap-2\">\r\n      {(icon ?? <Settings2 className=\"h-5 w-5 text-muted-foreground\" aria-hidden=\"true\" />)}\r\n      <span>{title}</span>\r\n    </span>\r\n  ), [icon, title]);\r\n\r\n  const normalizedBreadcrumb = React.useMemo(() => {\r\n    const custom = (breadcrumb ?? []).map((item) => ({\r\n      ...item,\r\n      href: item.href || pathname,\r\n    }));\r\n\r\n    let merged: BreadcrumbItem[] = custom.length\r\n      ? [...custom]\r\n      : [{ label: title, href: pathname, isCurrent: true }];\r\n\r\n    if (!merged.some(isHomeCrumb)) {\r\n      merged = [{ ...baseBreadcrumb[0] }, ...merged];\r\n    }\r\n\r\n    if (!merged.some(isSettingsCrumb)) {\r\n      const homeIndex = merged.findIndex(isHomeCrumb);\r\n      const insertionIndex = homeIndex >= 0 ? homeIndex + 1 : 0;\r\n      merged = [\r\n        ...merged.slice(0, insertionIndex),\r\n        { ...baseBreadcrumb[1] },\r\n        ...merged.slice(insertionIndex),\r\n      ];\r\n    }\r\n\r\n    return merged.map((item, index) => ({\r\n      ...item,\r\n      isCurrent: index === merged.length - 1,\r\n    }));\r\n  }, [breadcrumb, pathname, title]);\r\n\r\n  return usePageHeader({\r\n    ...rest,\r\n    breadcrumb: normalizedBreadcrumb,\r\n    title: decoratedTitle,\r\n    docLink: normalizedDocLink,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AASA,MAAM,kBAAkB;AACxB,MAAM,iBAAmC;IACvC;QAAE,OAAO;QAAa,MAAM;QAAK,WAAW;IAAM;IAClD;QAAE,OAAO;QAAW,MAAM;QAAa,WAAW;IAAM;CACzD;AAED,MAAM,iBAAiB,CAAC,QAAmB,OAAO,OAAO,kBAAkB;AAC3E,MAAM,cAAc,CAAC,OAAyB,KAAK,IAAI,KAAK,OAAO,eAAe,KAAK,KAAK,MAAM;AAClG,MAAM,kBAAkB,CAAC,OAAyB,KAAK,IAAI,KAAK,eAAe,eAAe,KAAK,KAAK,MAAM;AAEvG,SAAS,sBAAsB,OAAkC;IACtE,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,MAAM,GAAG;IAEtD,MAAM,oBAAoB,gNAAa,CAAgC;QACrE,IAAI,CAAC,SAAS,OAAO;QACrB,IAAI,OAAO,YAAY,UAAU;YAC/B,OAAO;gBAAE,MAAM;gBAAS,OAAO;YAAgB;QACjD;QACA,OAAO;YACL,MAAM,QAAQ,IAAI;YAClB,OAAO,QAAQ,KAAK,IAAI;QAC1B;IACF,GAAG;QAAC;KAAQ;IAEZ,MAAM,iBAAiB,gNAAa,CAAC,kBACnC,8OAAC;YAAK,WAAU;;gBACZ,sBAAQ,8OAAC,6NAAS;oBAAC,WAAU;oBAAgC,eAAY;;;;;;8BAC3E,8OAAC;8BAAM;;;;;;;;;;;kBAER;QAAC;QAAM;KAAM;IAEhB,MAAM,uBAAuB,gNAAa,CAAC;QACzC,MAAM,SAAS,CAAC,cAAc,EAAE,EAAE,GAAG,CAAC,CAAC,OAAS,CAAC;gBAC/C,GAAG,IAAI;gBACP,MAAM,KAAK,IAAI,IAAI;YACrB,CAAC;QAED,IAAI,SAA2B,OAAO,MAAM,GACxC;eAAI;SAAO,GACX;YAAC;gBAAE,OAAO;gBAAO,MAAM;gBAAU,WAAW;YAAK;SAAE;QAEvD,IAAI,CAAC,OAAO,IAAI,CAAC,cAAc;YAC7B,SAAS;gBAAC;oBAAE,GAAG,cAAc,CAAC,EAAE;gBAAC;mBAAM;aAAO;QAChD;QAEA,IAAI,CAAC,OAAO,IAAI,CAAC,kBAAkB;YACjC,MAAM,YAAY,OAAO,SAAS,CAAC;YACnC,MAAM,iBAAiB,aAAa,IAAI,YAAY,IAAI;YACxD,SAAS;mBACJ,OAAO,KAAK,CAAC,GAAG;gBACnB;oBAAE,GAAG,cAAc,CAAC,EAAE;gBAAC;mBACpB,OAAO,KAAK,CAAC;aACjB;QACH;QAEA,OAAO,OAAO,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;gBAClC,GAAG,IAAI;gBACP,WAAW,UAAU,OAAO,MAAM,GAAG;YACvC,CAAC;IACH,GAAG;QAAC;QAAY;QAAU;KAAM;IAEhC,OAAO,IAAA,uJAAa,EAAC;QACnB,GAAG,IAAI;QACP,YAAY;QACZ,OAAO;QACP,SAAS;IACX;AACF"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/id-utils.ts"],"sourcesContent":["/**\r\n * ID Utilities\r\n * Helpers for generating and validating IDs (systemId & business id)\r\n */\r\n\r\nimport { getPrefix, type EntityType } from './smart-prefix';\r\nimport { ID_CONFIG } from './id-config';\r\n\r\n// Re-export EntityType for convenience\r\nexport type { EntityType } from './smart-prefix';\r\n\r\n/**\r\n * Generate SystemId (6 digits, immutable, internal use only)\r\n * Format: SYSTEMID_PREFIX + 6 digits (e.g., \"EMP000001\", \"CUSTOMER000001\", \"ORDER000001\")\r\n * Uses systemIdPrefix from ID_CONFIG (English full words)\r\n */\r\nexport function generateSystemId(entityType: EntityType, counter: number): string {\r\n  const config = ID_CONFIG[entityType];\r\n  if (!config) {\r\n    throw new Error(`No configuration found for entity type: ${entityType}`);\r\n  }\r\n  const prefix = config.systemIdPrefix;\r\n  const digitCount = config.digitCount || 6;\r\n  return `${prefix}${String(counter).padStart(digitCount, '0')}`;\r\n}\r\n\r\n/**\r\n * Generate Business ID (6 digits, user-facing, editable)\r\n * Format: PREFIX + 6 digits (e.g., \"NV000001\", \"KH000001\", \"CTV000001\")\r\n * All entities use same 6-digit format for consistency\r\n * \r\n * @param entityType - Entity type from smart-prefix\r\n * @param counter - Current counter value\r\n * @param customId - Optional custom ID from user input\r\n * @returns Generated ID or validated custom ID\r\n */\r\nexport function generateBusinessId(\r\n  entityType: EntityType, \r\n  counter: number,\r\n  customId?: string\r\n): string {\r\n  // If user provided custom ID, validate and return it\r\n  if (customId && customId.trim()) {\r\n    const sanitized = sanitizeBusinessId(customId);\r\n    if (!sanitized) {\r\n      throw new Error('Mã không hợp lệ! Chỉ được phép sử dụng chữ cái và số.');\r\n    }\r\n    return sanitized;\r\n  }\r\n  \r\n  // Otherwise, auto-generate\r\n  const prefix = getPrefix(entityType);\r\n  return `${prefix}${String(counter).padStart(6, '0')}`;\r\n}\r\n\r\n/**\r\n * Sanitize business ID\r\n * - Remove special characters (keep only letters and numbers)\r\n * - Convert to uppercase\r\n * - Trim whitespace\r\n * \r\n * @param id - Raw user input\r\n * @returns Sanitized ID or null if invalid\r\n */\r\nexport function sanitizeBusinessId(id: string): string | null {\r\n  if (!id || typeof id !== 'string') return null;\r\n  \r\n  // Remove all special characters, keep only alphanumeric\r\n  const cleaned = id.trim().replace(/[^a-zA-Z0-9]/g, '');\r\n  \r\n  if (!cleaned) return null;\r\n  \r\n  // Convert to uppercase for consistency\r\n  return cleaned.toUpperCase();\r\n}\r\n\r\n/**\r\n * Validate business ID uniqueness (case-insensitive)\r\n * \r\n * @param id - ID to check\r\n * @param existingIds - Array of existing IDs in the system\r\n * @param currentId - Current ID (for edit mode, to exclude self)\r\n * @returns true if unique, false if duplicate\r\n */\r\nexport function isBusinessIdUnique(\r\n  id: string,\r\n  existingIds: string[],\r\n  currentId?: string\r\n): boolean {\r\n  if (!id) return false;\r\n  \r\n  const normalizedId = id.toUpperCase();\r\n  const normalizedCurrentId = currentId?.toUpperCase();\r\n  \r\n  return !existingIds.some(existingId => {\r\n    // ✅ Filter out empty/undefined IDs\r\n    if (!existingId || existingId.trim() === '') return false;\r\n    \r\n    const normalizedExisting = existingId.toUpperCase();\r\n    // Skip self-comparison in edit mode\r\n    if (normalizedCurrentId && normalizedExisting === normalizedCurrentId) {\r\n      return false;\r\n    }\r\n    return normalizedExisting === normalizedId;\r\n  });\r\n}\r\n\r\n/**\r\n * Extract counter from system ID\r\n * Used to initialize counter when loading from localStorage\r\n * Supports both 6, 7 and 8 digits\r\n * \r\n * @param systemId - System ID to parse (e.g., \"EMP000001\", \"CUSTOMER000001\", \"WARRANTY0000001\")\r\n * @param prefix - Expected systemIdPrefix (e.g., \"EMP\", \"CUSTOMER\", \"WARRANTY\")\r\n * @returns Counter value or 0 if invalid\r\n */\r\nexport function extractCounterFromSystemId(systemId: string, prefix: string): number {\r\n  if (!systemId || typeof systemId !== 'string') return 0;\r\n  \r\n  // Try different digit counts (most entities use 6 digits, some use 7-8)\r\n  const regex8 = new RegExp(`^${prefix}(\\\\d{8})$`);\r\n  const regex7 = new RegExp(`^${prefix}(\\\\d{7})$`);\r\n  const regex6 = new RegExp(`^${prefix}(\\\\d{6})$`);\r\n  \r\n  const match8 = systemId.match(regex8);\r\n  if (match8) return parseInt(match8[1], 10);\r\n  \r\n  const match7 = systemId.match(regex7);\r\n  if (match7) return parseInt(match7[1], 10);\r\n  \r\n  const match6 = systemId.match(regex6);\r\n  if (match6) return parseInt(match6[1], 10);\r\n  \r\n  return 0;\r\n}\r\n\r\n/**\r\n * Extract counter from business ID\r\n * Used to initialize counter when loading from localStorage\r\n * \r\n * @param businessId - Business ID to parse (e.g., \"NV000001\")\r\n * @param prefix - Expected prefix (e.g., \"NV\")\r\n * @returns Counter value or 0 if invalid\r\n */\r\nexport function extractCounterFromBusinessId(businessId: string, prefix: string): number {\r\n  if (!businessId || typeof businessId !== 'string') return 0;\r\n  const regex = new RegExp(`^${prefix}(\\\\d+)$`);\r\n  const match = businessId.match(regex);\r\n  return match ? parseInt(match[1], 10) : 0;\r\n}\r\n\r\n/**\r\n * Get max counter from array of items (for systemId)\r\n * \r\n * @param items - Array of items with systemId\r\n * @param prefix - Prefix to match\r\n * @returns Maximum counter value\r\n */\r\nexport function getMaxSystemIdCounter<T extends { systemId: string }>(\r\n  items: T[],\r\n  prefix: string\r\n): number {\r\n  if (!items || !Array.isArray(items)) return 0;\r\n  \r\n  let maxCounter = 0;\r\n  \r\n  items.forEach(item => {\r\n    if (!item || !item.systemId) return;\r\n    const counter = extractCounterFromSystemId(item.systemId, prefix);\r\n    if (counter > maxCounter) {\r\n      maxCounter = counter;\r\n    }\r\n  });\r\n  \r\n  return maxCounter;\r\n}\r\n\r\n/**\r\n * Get max counter from array of items (for business id)\r\n * Only counts auto-generated IDs (PREFIX + digits)\r\n * \r\n * @param items - Array of items with id\r\n * @param prefix - Prefix to match\r\n * @returns Maximum counter value\r\n */\r\nexport function getMaxBusinessIdCounter<T extends { id: string }>(\r\n  items: T[],\r\n  prefix: string\r\n): number {\r\n  if (!items || !Array.isArray(items)) return 0;\r\n  \r\n  let maxCounter = 0;\r\n  \r\n  items.forEach(item => {\r\n    if (!item || !item.id) return;\r\n    const counter = extractCounterFromBusinessId(item.id, prefix);\r\n    if (counter > maxCounter) {\r\n      maxCounter = counter;\r\n    }\r\n  });\r\n  \r\n  return maxCounter;\r\n}\r\n\r\n/**\r\n * Format ID for display\r\n * Adds spacing for readability\r\n * \r\n * @param id - ID to format\r\n * @returns Formatted ID (e.g., \"NV-000001\", \"KH-000123\")\r\n */\r\nexport function formatIdForDisplay(id: string): string {\r\n  // Match pattern: PREFIX followed by numbers\r\n  const match = id.match(/^([A-Z]+)(\\d+)$/);\r\n  if (!match) return id;\r\n  \r\n  const [, prefix, numbers] = match;\r\n  return `${prefix}-${numbers}`;\r\n}\r\n\r\n/**\r\n * Validate ID format\r\n * Check if ID follows valid pattern (letters + numbers only)\r\n * \r\n * @param id - ID to validate\r\n * @returns true if valid format\r\n */\r\nexport function isValidIdFormat(id: string): boolean {\r\n  if (!id || typeof id !== 'string') return false;\r\n  \r\n  // Only alphanumeric characters allowed\r\n  const regex = /^[A-Z0-9]+$/i;\r\n  return regex.test(id);\r\n}\r\n\r\n/**\r\n * Generate suggested IDs based on entity type\r\n * Useful for autocomplete or placeholder text\r\n * \r\n * @param entityType - Entity type\r\n * @param counter - Current counter\r\n * @param count - Number of suggestions\r\n * @returns Array of suggested IDs\r\n */\r\nexport function generateSuggestedIds(\r\n  entityType: EntityType,\r\n  counter: number,\r\n  count: number = 3\r\n): string[] {\r\n  const suggestions: string[] = [];\r\n  const prefix = getPrefix(entityType);\r\n  \r\n  for (let i = 0; i < count; i++) {\r\n    suggestions.push(`${prefix}${String(counter + i + 1).padStart(6, '0')}`);\r\n  }\r\n  \r\n  return suggestions;\r\n}\r\n\r\n/**\r\n * ✨ Find next available business ID\r\n * Checks existing IDs and increments counter until finding a unique ID\r\n * \r\n * @param prefix - ID prefix (e.g., 'PT', 'PC', 'NV')\r\n * @param existingIds - Array of existing business IDs\r\n * @param startCounter - Starting counter value\r\n * @param digitCount - Number of digits (default: 6)\r\n * @returns Object with nextId and updatedCounter\r\n */\r\nexport function findNextAvailableBusinessId(\r\n  prefix: string,\r\n  existingIds: string[],\r\n  startCounter: number,\r\n  digitCount: number = 6\r\n): { nextId: string; updatedCounter: number } {\r\n  let counter = startCounter;\r\n  let nextId: string;\r\n  \r\n  // Keep incrementing until we find a unique ID\r\n  do {\r\n    counter++;\r\n    nextId = `${prefix}${String(counter).padStart(digitCount, '0')}`;\r\n  } while (existingIds.some(id => id === nextId));\r\n  \r\n  return {\r\n    nextId,\r\n    updatedCounter: counter\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/store-factory.ts"],"sourcesContent":["import { create } from 'zustand';\r\n// persist, createJSONStorage removed - database is now source of truth\r\nimport { \r\n  generateSystemId, \r\n  generateBusinessId, \r\n  isBusinessIdUnique,\r\n  getMaxSystemIdCounter,\r\n  getMaxBusinessIdCounter,\r\n  findNextAvailableBusinessId,\r\n  type EntityType \r\n} from './id-utils';\r\nimport { getPrefix } from './smart-prefix';\r\nimport { ID_CONFIG, type SystemId, type BusinessId, createSystemId, createBusinessId as brandBusinessId } from './id-config';\r\n\r\nconst SYSTEM_FALLBACK_ID: SystemId = createSystemId('SYS000000');\r\n\r\nconst asSystemIdFallback = (): SystemId => SYSTEM_FALLBACK_ID;\r\n\r\n// ✅ API Sync helper for store-factory\r\nasync function syncToAPI<T>(\r\n  apiEndpoint: string,\r\n  action: 'create' | 'update' | 'delete' | 'restore',\r\n  data: T | { systemId: SystemId },\r\n  systemId?: SystemId\r\n): Promise<boolean> {\r\n  try {\r\n    const endpoint = action === 'create' \r\n      ? apiEndpoint \r\n      : `${apiEndpoint}/${systemId || (data as any).systemId}`;\r\n    \r\n    const method = action === 'create' ? 'POST' \r\n      : action === 'update' ? 'PATCH' \r\n      : action === 'delete' ? 'DELETE'\r\n      : 'PATCH'; // restore uses PATCH\r\n    \r\n    const response = await fetch(endpoint, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include',\r\n      body: action !== 'delete' ? JSON.stringify(data) : undefined,\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      console.warn(`[Store Factory API] ${action} failed for ${apiEndpoint}:`, response.status);\r\n    }\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error(`[Store Factory API] ${action} error for ${apiEndpoint}:`, error);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Item with SystemId (branded type)\r\nexport type ItemWithSystemId = { systemId: SystemId; [key: string]: any };\r\n\r\n// ✅ Counter state for ID generation\r\nexport type CounterState = {\r\n  systemId: number;\r\n  businessId: number;\r\n};\r\n\r\nexport type CrudState<T extends ItemWithSystemId> = {\r\n  data: T[];\r\n  _counters: CounterState; // ✅ Persisted counters\r\n  _initialized: boolean; // ✅ Track if loaded from API\r\n  add: (item: Omit<T, 'systemId'>) => T;\r\n  addMultiple: (items: Omit<T, 'systemId'>[]) => void;\r\n  update: (systemId: SystemId, item: Partial<T>) => void; // ✅ Accept partial updates\r\n  remove: (systemId: SystemId) => void; // ✅ Branded type\r\n  hardDelete: (systemId: SystemId) => void; // ✅ Branded type\r\n  restore: (systemId: SystemId) => void; // ✅ Branded type\r\n  findById: (systemId: SystemId | string) => T | undefined; // ✅ Branded type\r\n  getActive: () => T[];\r\n  getDeleted: () => T[];\r\n  loadFromAPI: () => Promise<void>; // ✅ Load data from database\r\n};\r\n\r\nexport const createCrudStore = <T extends ItemWithSystemId>(\r\n  _initialData: T[], // @deprecated - Kept for backward compatibility but NO LONGER USED\r\n  entityType: EntityType, // Changed from idPrefix to entityType\r\n  options?: {\r\n    businessIdField?: keyof T; // Field name for business ID (default: 'id')\r\n    persistKey?: string; // @deprecated - No longer used, kept for backward compatibility\r\n    getCurrentUser?: () => string | undefined; // Function to get current user systemId\r\n    apiEndpoint?: string; // ✅ API endpoint for database sync (e.g., '/api/employees')\r\n  }\r\n) => {\r\n  const businessPrefix = getPrefix(entityType); // Vietnamese prefix for Business ID (NV, KH, DH)\r\n  const config = ID_CONFIG[entityType];\r\n  const systemIdPrefix = config?.systemIdPrefix || entityType.toUpperCase(); // English prefix for SystemId (EMP, CUSTOMER, ORDER)\r\n  \r\n  const businessIdField = options?.businessIdField ?? 'id';\r\n  // const persistKey = options?.persistKey; // @deprecated - No longer used\r\n  const getCurrentUser = options?.getCurrentUser;\r\n  const apiEndpoint = options?.apiEndpoint;\r\n\r\n  // ✅ CHANGED: Start with empty array - database is source of truth\r\n  // Mock data files (data.ts) are NO LONGER USED for runtime\r\n  const normalizedInitialData: T[] = [];\r\n\r\n  const storeConfig = (set: any, get: any) => ({\r\n    data: normalizedInitialData, // ✅ Start empty - data loaded via React Query\r\n    // ✅ Counters start at 0 - will be initialized from API via loadFromAPI()\r\n    _counters: {\r\n      systemId: 0,\r\n      businessId: 0\r\n    },\r\n    _initialized: false, // ✅ Track API initialization\r\n    add: (item: Omit<T, 'systemId'>): T => {\r\n        // ✅ Get counters from state (persisted)\r\n        const currentCounters = get()._counters;\r\n        const newSystemIdCounter = currentCounters.systemId + 1;\r\n        const newSystemId = createSystemId(generateSystemId(entityType, newSystemIdCounter));\r\n        \r\n        // Generate or validate Business ID (if field exists)\r\n        let finalItem = { ...item } as any;\r\n        let newBusinessIdCounter = currentCounters.businessId;\r\n        \r\n        if (businessIdField in item) {\r\n          const customId = (item as any)[businessIdField];\r\n          const existingIds = get().data.map((d: any) => d[businessIdField]);\r\n          \r\n          // ✅ If customId provided, validate uniqueness\r\n          if (customId && customId.trim()) {\r\n            if (!isBusinessIdUnique(customId, existingIds)) {\r\n              throw new Error(`Mã \"${customId}\" đã tồn tại! Vui lòng sử dụng mã khác.`);\r\n            }\r\n            finalItem[businessIdField] = customId.trim().toUpperCase();\r\n          } else {\r\n            // ✅ Auto-generate with findNextAvailableBusinessId\r\n            const digitCount = 6; // All entities use 6 digits\r\n            const result = findNextAvailableBusinessId(businessPrefix, existingIds, newBusinessIdCounter, digitCount);\r\n            finalItem[businessIdField] = result.nextId;\r\n            newBusinessIdCounter = result.updatedCounter;\r\n          }\r\n        }\r\n        \r\n        const now = new Date().toISOString();\r\n        const currentUser = getCurrentUser?.();\r\n        const newItem = { \r\n          ...finalItem, \r\n          systemId: newSystemId, // ✅ Branded SystemId\r\n          createdAt: finalItem.createdAt || now,\r\n          updatedAt: now,\r\n          createdBy: finalItem.createdBy || currentUser,\r\n          updatedBy: currentUser,\r\n        } as unknown as T;\r\n        \r\n        // ✅ Update both data and counters atomically\r\n        set((state: any) => ({ \r\n          data: [...state.data, newItem],\r\n          _counters: {\r\n            systemId: newSystemIdCounter,\r\n            businessId: newBusinessIdCounter\r\n          }\r\n        }));\r\n        \r\n        // ✅ Sync to API in background\r\n        if (apiEndpoint) {\r\n          syncToAPI(apiEndpoint, 'create', newItem).catch(console.error);\r\n        }\r\n        \r\n        return newItem;\r\n    },\r\n    addMultiple: (items: Omit<T, 'systemId'>[]) => \r\n        set((state: any) => {\r\n            const now = new Date().toISOString();\r\n            const currentUser = getCurrentUser?.();\r\n            const newItems: T[] = [];\r\n            const digitCount = 6; // All entities use 6 digits\r\n            \r\n            // ✅ Start from current counters\r\n            let currentSystemIdCounter = state._counters.systemId;\r\n            let currentBusinessIdCounter = state._counters.businessId;\r\n            \r\n            items.forEach(item => {\r\n                // ✅ Generate SystemId from current counter\r\n                currentSystemIdCounter++;\r\n                const newSystemId = createSystemId(generateSystemId(entityType, currentSystemIdCounter));\r\n                \r\n                // Generate or validate Business ID (if field exists)\r\n                let finalItem = { ...item } as any;\r\n                if (businessIdField in item) {\r\n                  const customId = (item as any)[businessIdField];\r\n                  \r\n                  // Collect existing IDs (from state + already added in this batch)\r\n                  const existingIds = [\r\n                    ...state.data.map((d: any) => d[businessIdField]),\r\n                    ...newItems.map((d: any) => d[businessIdField])\r\n                  ];\r\n                  \r\n                  // ✅ If customId provided, validate uniqueness\r\n                  if (customId && customId.trim()) {\r\n                    if (!isBusinessIdUnique(customId, existingIds)) {\r\n                      throw new Error(`Mã \"${customId}\" đã tồn tại! Vui lòng sử dụng mã khác.`);\r\n                    }\r\n                    finalItem[businessIdField] = customId.trim().toUpperCase();\r\n                  } else {\r\n                    // ✅ Auto-generate with findNextAvailableBusinessId\r\n                    const result = findNextAvailableBusinessId(businessPrefix, existingIds, currentBusinessIdCounter, digitCount);\r\n                    finalItem[businessIdField] = result.nextId;\r\n                    currentBusinessIdCounter = result.updatedCounter;\r\n                  }\r\n                }\r\n                \r\n                newItems.push({ \r\n                  ...finalItem, \r\n                  systemId: newSystemId,\r\n                  createdAt: now,\r\n                  updatedAt: now,\r\n                  createdBy: currentUser,\r\n                  updatedBy: currentUser,\r\n                } as unknown as T);\r\n            });\r\n            \r\n            // ✅ Update both data and counters\r\n            const result = { \r\n              data: [...state.data, ...newItems],\r\n              _counters: {\r\n                systemId: currentSystemIdCounter,\r\n                businessId: currentBusinessIdCounter\r\n              }\r\n            };\r\n            \r\n            // ✅ Sync to API in background (batch)\r\n            if (apiEndpoint) {\r\n              newItems.forEach(item => {\r\n                syncToAPI(apiEndpoint, 'create', item).catch(console.error);\r\n              });\r\n            }\r\n            \r\n            return result;\r\n        }),\r\n    update: (systemId: SystemId, updatedItem: Partial<T>) => {\r\n      // Validate unique business ID (case-insensitive, skip self)\r\n      if (businessIdField in updatedItem) {\r\n        const businessId = (updatedItem as any)[businessIdField];\r\n        const existingIds = get().data\r\n          .filter((d: any) => d.systemId !== systemId)\r\n          .map((d: any) => d[businessIdField]);\r\n        \r\n        if (businessId && !isBusinessIdUnique(businessId, existingIds)) {\r\n          throw new Error(`Mã \"${businessId}\" đã tồn tại! Vui lòng sử dụng mã khác.`);\r\n        }\r\n      }\r\n\r\n      const now = new Date().toISOString();\r\n      const currentUser = getCurrentUser?.();\r\n      set((state: any) => ({\r\n        data: state.data.map((item: T) =>\r\n          item.systemId === systemId \r\n            ? { ...item, ...updatedItem, updatedAt: now, updatedBy: currentUser } as T\r\n            : item\r\n        ),\r\n      }));\r\n      \r\n      // ✅ Sync to API in background\r\n      if (apiEndpoint) {\r\n        const fullItem = get().data.find((item: T) => item.systemId === systemId);\r\n        if (fullItem) {\r\n          syncToAPI(apiEndpoint, 'update', fullItem, systemId).catch(console.error);\r\n        }\r\n      }\r\n    },\r\n    remove: (systemId: SystemId) => {\r\n      // Soft delete - mark as deleted\r\n      const now = new Date().toISOString();\r\n      set((state: any) => ({\r\n        data: state.data.map((item: T) =>\r\n          item.systemId === systemId\r\n            ? { ...item, isDeleted: true, deletedAt: now } as T\r\n            : item\r\n        ),\r\n      }));\r\n      \r\n      // ✅ Sync to API in background\r\n      if (apiEndpoint) {\r\n        const item = get().data.find((item: T) => item.systemId === systemId);\r\n        if (item) {\r\n          syncToAPI(apiEndpoint, 'update', { ...item, isDeleted: true, deletedAt: now }, systemId).catch(console.error);\r\n        }\r\n      }\r\n    },\r\n    hardDelete: (systemId: SystemId) => {\r\n      // Permanent delete - remove from array\r\n      set((state: any) => ({\r\n        data: state.data.filter((item: T) => item.systemId !== systemId),\r\n      }));\r\n      \r\n      // ✅ Sync to API in background\r\n      if (apiEndpoint) {\r\n        syncToAPI(apiEndpoint, 'delete', { systemId }, systemId).catch(console.error);\r\n      }\r\n    },\r\n    restore: (systemId: SystemId) => {\r\n      // Restore soft-deleted item\r\n      set((state: any) => ({\r\n        data: state.data.map((item: T) =>\r\n          item.systemId === systemId\r\n            ? { ...item, isDeleted: false, deletedAt: null } as T\r\n            : item\r\n        ),\r\n      }));\r\n      \r\n      // ✅ Sync to API in background\r\n      if (apiEndpoint) {\r\n        const item = get().data.find((item: T) => item.systemId === systemId);\r\n        if (item) {\r\n          syncToAPI(apiEndpoint, 'restore', { ...item, isDeleted: false, deletedAt: null }, systemId).catch(console.error);\r\n        }\r\n      }\r\n    },\r\n    getActive: () => get().data.filter((item: any) => !item.isDeleted),\r\n    getDeleted: () => get().data.filter((item: any) => item.isDeleted),\r\n    findById: (id: SystemId | string) => get().data.find((item: T) => item.systemId === id || (item as any).id === id),\r\n    \r\n    // ✅ Load data from database API - OPTIMIZED: No more limit=10000!\r\n    // This is now only used for counter initialization, NOT for loading all data\r\n    // Use React Query hooks for data fetching with proper pagination\r\n    loadFromAPI: async () => {\r\n      if (!apiEndpoint) return;\r\n      if (get()._initialized) return;\r\n      \r\n      try {\r\n        // Only fetch minimal data needed to initialize counters\r\n        // Actual data loading should be done via React Query hooks\r\n        const response = await fetch(`${apiEndpoint}?limit=1&sortBy=systemId&sortOrder=desc`, {\r\n          credentials: 'include',\r\n        });\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const pagination = json.pagination || {};\r\n          const lastItem = json.data?.[0];\r\n          \r\n          // Initialize counters from the latest item (highest IDs)\r\n          const newCounters = {\r\n            systemId: lastItem ? getMaxSystemIdCounter([lastItem], systemIdPrefix) : 0,\r\n            businessId: (lastItem && options?.businessIdField)\r\n              ? getMaxBusinessIdCounter([lastItem] as any[], businessPrefix)\r\n              : 0\r\n          };\r\n          \r\n          set({ \r\n            data: [], // Don't store data in Zustand anymore - use React Query\r\n            _counters: newCounters,\r\n            _initialized: true \r\n          });\r\n          \r\n          console.log(`[Store Factory] ${apiEndpoint} initialized. Total records: ${pagination.total || 'unknown'}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(`[Store Factory] loadFromAPI error for ${apiEndpoint}:`, error);\r\n        // Still mark as initialized to prevent infinite retry\r\n        set({ _initialized: true });\r\n      }\r\n    },\r\n  });\r\n\r\n  // ✅ SIMPLIFIED: No localStorage persistence, database is source of truth\r\n  // Data is loaded via ApiSyncProvider on app init\r\n  return create<CrudState<T>>(storeConfig);\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/units/store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\n// REMOVED: import { data as initialData } from './data'; // Mock data no longer used - database is source of truth\r\nimport type { Unit } from './types';\r\n\r\nexport const useUnitStore = createCrudStore<Unit>([], 'units', {\r\n  apiEndpoint: '/api/settings/data?type=unit',\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAIO,MAAM,eAAe,IAAA,0IAAe,EAAO,EAAE,EAAE,SAAS;IAC7D,aAAa;AACf"}},
    {"offset": {"line": 689, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/product-type-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { asSystemId, asBusinessId, type SystemId } from '@/lib/id-types';\r\nimport type { ProductType } from './types';\r\n\r\nconst generateId = () => crypto.randomUUID();\r\n\r\n// API sync helper\r\nasync function syncToAPI(action: 'create' | 'update' | 'delete', data: Partial<ProductType>): Promise<boolean> {\r\n  try {\r\n    const endpoint = action === 'create' ? '/api/settings/product-types' : `/api/settings/product-types/${data.systemId}`;\r\n    const method = action === 'create' ? 'POST' : action === 'update' ? 'PATCH' : 'DELETE';\r\n    const response = await fetch(endpoint, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: action !== 'delete' ? JSON.stringify(data) : undefined,\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error(`[Product Type API] ${action} error:`, error);\r\n    return false;\r\n  }\r\n}\r\n\r\ninterface ProductTypeState {\r\n  data: ProductType[];\r\n  initialized: boolean;\r\n  add: (productType: Omit<ProductType, 'systemId'>) => ProductType;\r\n  update: (systemId: SystemId, updates: Partial<ProductType>) => void;\r\n  remove: (systemId: SystemId) => void;\r\n  findById: (systemId: SystemId) => ProductType | undefined;\r\n  getActive: () => ProductType[];\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nconst rawData = [\r\n  {\r\n    systemId: generateId(),\r\n    id: 'PT001',\r\n    name: 'Hàng hóa',\r\n    description: 'Sản phẩm vật lý có tồn kho',\r\n    isDefault: true,\r\n    isActive: true,\r\n    createdAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    systemId: generateId(),\r\n    id: 'PT002',\r\n    name: 'Dịch vụ',\r\n    description: 'Dịch vụ không có tồn kho',\r\n    isActive: true,\r\n    createdAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    systemId: generateId(),\r\n    id: 'PT003',\r\n    name: 'Digital',\r\n    description: 'Sản phẩm số (ebook, khóa học online...)',\r\n    isActive: true,\r\n    createdAt: new Date().toISOString(),\r\n  },\r\n] as const;\r\n\r\nconst initialData: ProductType[] = rawData.map((item) => ({\r\n  ...item,\r\n  systemId: asSystemId(item.systemId),\r\n  id: asBusinessId(item.id),\r\n}));\r\n\r\nexport const useProductTypeStore = create<ProductTypeState>()(\r\n  (set, get) => ({\r\n    data: initialData,\r\n    initialized: false,\r\n    \r\n    add: (productType) => {\r\n      const newProductType: ProductType = {\r\n        ...productType,\r\n        systemId: asSystemId(generateId()),\r\n        createdAt: new Date().toISOString(),\r\n        isDeleted: false,\r\n      };\r\n      set((state) => ({ data: [...state.data, newProductType] }));\r\n      syncToAPI('create', newProductType).catch(console.error);\r\n      return newProductType;\r\n    },\r\n    \r\n    update: (systemId, updates) => {\r\n      set((state) => ({\r\n        data: state.data.map((item) =>\r\n          item.systemId === systemId\r\n            ? { ...item, ...updates, updatedAt: new Date().toISOString() }\r\n            : item\r\n        ),\r\n      }));\r\n      const updated = get().data.find(i => i.systemId === systemId);\r\n      if (updated) syncToAPI('update', updated).catch(console.error);\r\n    },\r\n    \r\n    remove: (systemId) => {\r\n      set((state) => ({\r\n        data: state.data.map((item) =>\r\n          item.systemId === systemId\r\n            ? { ...item, isDeleted: true, updatedAt: new Date().toISOString() }\r\n            : item\r\n        ),\r\n      }));\r\n      syncToAPI('delete', { systemId }).catch(console.error);\r\n    },\r\n    \r\n    findById: (systemId) => {\r\n      return get().data.find((item) => item.systemId === systemId && !item.isDeleted);\r\n    },\r\n    \r\n    getActive: () => {\r\n      return get().data.filter((item) => !item.isDeleted && item.isActive !== false);\r\n    },\r\n    \r\n    loadFromAPI: async () => {\r\n      if (get().initialized) return;\r\n      try {\r\n        // NOTE: Settings data is typically small, but using limit for consistency\r\n        const response = await fetch('/api/settings/product-types?limit=50');\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const data = json.data || [];\r\n          if (data.length > 0) {\r\n            set({ data: data.map((item: any) => ({\r\n              ...item,\r\n              systemId: asSystemId(item.systemId),\r\n              id: asBusinessId(item.id),\r\n            })), initialized: true });\r\n          } else {\r\n            set({ initialized: true });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('[Product Type Store] loadFromAPI error:', error);\r\n      }\r\n    },\r\n  })\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGA,MAAM,aAAa,IAAM,OAAO,UAAU;AAE1C,kBAAkB;AAClB,eAAe,UAAU,MAAsC,EAAE,IAA0B;IACzF,IAAI;QACF,MAAM,WAAW,WAAW,WAAW,gCAAgC,CAAC,4BAA4B,EAAE,KAAK,QAAQ,EAAE;QACrH,MAAM,SAAS,WAAW,WAAW,SAAS,WAAW,WAAW,UAAU;QAC9E,MAAM,WAAW,MAAM,MAAM,UAAU;YACrC;YACA,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,WAAW,WAAW,KAAK,SAAS,CAAC,QAAQ;QACrD;QACA,OAAO,SAAS,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,mBAAmB,EAAE,OAAO,OAAO,CAAC,EAAE;QACrD,OAAO;IACT;AACF;AAaA,MAAM,UAAU;IACd;QACE,UAAU;QACV,IAAI;QACJ,MAAM;QACN,aAAa;QACb,WAAW;QACX,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,UAAU;QACV,IAAI;QACJ,MAAM;QACN,aAAa;QACb,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,UAAU;QACV,IAAI;QACJ,MAAM;QACN,aAAa;QACb,UAAU;QACV,WAAW,IAAI,OAAO,WAAW;IACnC;CACD;AAED,MAAM,cAA6B,QAAQ,GAAG,CAAC,CAAC,OAAS,CAAC;QACxD,GAAG,IAAI;QACP,UAAU,IAAA,gIAAU,EAAC,KAAK,QAAQ;QAClC,IAAI,IAAA,kIAAY,EAAC,KAAK,EAAE;IAC1B,CAAC;AAEM,MAAM,sBAAsB,IAAA,kJAAM,IACvC,CAAC,KAAK,MAAQ,CAAC;QACb,MAAM;QACN,aAAa;QAEb,KAAK,CAAC;YACJ,MAAM,iBAA8B;gBAClC,GAAG,WAAW;gBACd,UAAU,IAAA,gIAAU,EAAC;gBACrB,WAAW,IAAI,OAAO,WAAW;gBACjC,WAAW;YACb;YACA,IAAI,CAAC,QAAU,CAAC;oBAAE,MAAM;2BAAI,MAAM,IAAI;wBAAE;qBAAe;gBAAC,CAAC;YACzD,UAAU,UAAU,gBAAgB,KAAK,CAAC,QAAQ,KAAK;YACvD,OAAO;QACT;QAEA,QAAQ,CAAC,UAAU;YACjB,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,OACpB,KAAK,QAAQ,KAAK,WACd;4BAAE,GAAG,IAAI;4BAAE,GAAG,OAAO;4BAAE,WAAW,IAAI,OAAO,WAAW;wBAAG,IAC3D;gBAER,CAAC;YACD,MAAM,UAAU,MAAM,IAAI,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;YACpD,IAAI,SAAS,UAAU,UAAU,SAAS,KAAK,CAAC,QAAQ,KAAK;QAC/D;QAEA,QAAQ,CAAC;YACP,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,OACpB,KAAK,QAAQ,KAAK,WACd;4BAAE,GAAG,IAAI;4BAAE,WAAW;4BAAM,WAAW,IAAI,OAAO,WAAW;wBAAG,IAChE;gBAER,CAAC;YACD,UAAU,UAAU;gBAAE;YAAS,GAAG,KAAK,CAAC,QAAQ,KAAK;QACvD;QAEA,UAAU,CAAC;YACT,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,QAAQ,KAAK,YAAY,CAAC,KAAK,SAAS;QAChF;QAEA,WAAW;YACT,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,OAAS,CAAC,KAAK,SAAS,IAAI,KAAK,QAAQ,KAAK;QAC1E;QAEA,aAAa;YACX,IAAI,MAAM,WAAW,EAAE;YACvB,IAAI;gBACF,0EAA0E;gBAC1E,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,MAAM,OAAO,KAAK,IAAI,IAAI,EAAE;oBAC5B,IAAI,KAAK,MAAM,GAAG,GAAG;wBACnB,IAAI;4BAAE,MAAM,KAAK,GAAG,CAAC,CAAC,OAAc,CAAC;oCACnC,GAAG,IAAI;oCACP,UAAU,IAAA,gIAAU,EAAC,KAAK,QAAQ;oCAClC,IAAI,IAAA,kIAAY,EAAC,KAAK,EAAE;gCAC1B,CAAC;4BAAI,aAAa;wBAAK;oBACzB,OAAO;wBACL,IAAI;4BAAE,aAAa;wBAAK;oBAC1B;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2CAA2C;YAC3D;QACF;IACF,CAAC"}},
    {"offset": {"line": 828, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/storage-location-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { asSystemId, asBusinessId, type SystemId, type BusinessId } from '@/lib/id-types';\r\nimport type { StorageLocation } from './storage-location-types';\r\n\r\n// API sync helper\r\nasync function syncToAPI(action: 'create' | 'update' | 'delete', data: Partial<StorageLocation>): Promise<boolean> {\r\n  try {\r\n    const endpoint = action === 'create' ? '/api/stock-locations' : `/api/stock-locations/${data.systemId}`;\r\n    const method = action === 'create' ? 'POST' : action === 'update' ? 'PATCH' : 'DELETE';\r\n    const response = await fetch(endpoint, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: action !== 'delete' ? JSON.stringify(data) : undefined,\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error(`[Storage Location API] ${action} error:`, error);\r\n    return false;\r\n  }\r\n}\r\n\r\ninterface StorageLocationStore {\r\n  data: StorageLocation[];\r\n  initialized: boolean;\r\n  add: (location: Omit<StorageLocation, 'systemId' | 'createdAt' | 'updatedAt'>) => void;\r\n  update: (systemId: SystemId, location: Partial<StorageLocation>) => void;\r\n  remove: (systemId: SystemId) => void;\r\n  findById: (id: BusinessId) => StorageLocation | undefined;\r\n  findBySystemId: (systemId: SystemId) => StorageLocation | undefined;\r\n  getActive: () => StorageLocation[];\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nconst rawData = [\r\n  {\r\n    systemId: crypto.randomUUID(),\r\n    id: 'KHO-A',\r\n    name: 'Kho A',\r\n    description: 'Kho chính',\r\n    isDefault: true,\r\n    isActive: true,\r\n    isDeleted: false,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    systemId: crypto.randomUUID(),\r\n    id: 'KHO-B',\r\n    name: 'Kho B',\r\n    description: 'Kho phụ',\r\n    isActive: true,\r\n    isDeleted: false,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n] as const;\r\n\r\nconst initialData: StorageLocation[] = rawData.map((item) => ({\r\n  ...item,\r\n  systemId: asSystemId(item.systemId),\r\n  id: asBusinessId(item.id),\r\n}));\r\n\r\nexport const useStorageLocationStore = create<StorageLocationStore>()(\r\n  (set, get) => ({\r\n    data: initialData,\r\n    initialized: false,\r\n\r\n    add: (location) => {\r\n      const newLocation: StorageLocation = {\r\n        ...location,\r\n        systemId: asSystemId(crypto.randomUUID()),\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n      };\r\n      set((state) => ({ data: [...state.data, newLocation] }));\r\n      syncToAPI('create', newLocation).catch(console.error);\r\n    },\r\n\r\n    update: (systemId, updates) => {\r\n      set((state) => ({\r\n        data: state.data.map((loc) =>\r\n          loc.systemId === systemId\r\n            ? { ...loc, ...updates, updatedAt: new Date().toISOString() }\r\n            : loc\r\n        ),\r\n      }));\r\n      const updated = get().data.find(l => l.systemId === systemId);\r\n      if (updated) syncToAPI('update', updated).catch(console.error);\r\n    },\r\n\r\n    remove: (systemId) => {\r\n      set((state) => ({\r\n        data: state.data.map((loc) =>\r\n          loc.systemId === systemId\r\n            ? { ...loc, isDeleted: true, updatedAt: new Date().toISOString() }\r\n            : loc\r\n        ),\r\n      }));\r\n      syncToAPI('delete', { systemId }).catch(console.error);\r\n    },\r\n\r\n    findById: (id) => {\r\n      return get().data.find((loc) => loc.id === id && !loc.isDeleted);\r\n    },\r\n\r\n    findBySystemId: (systemId) => {\r\n      return get().data.find((loc) => loc.systemId === systemId && !loc.isDeleted);\r\n    },\r\n\r\n    getActive: () => {\r\n      return get().data.filter((loc) => !loc.isDeleted && loc.isActive);\r\n    },\r\n    \r\n    loadFromAPI: async () => {\r\n      if (get().initialized) return;\r\n      try {\r\n        // NOTE: Settings data is typically small, but using limit for consistency\r\n        const response = await fetch('/api/stock-locations?limit=50');\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const data = json.data || [];\r\n          if (data.length > 0) {\r\n            set({ data: data.map((item: any) => ({\r\n              ...item,\r\n              systemId: asSystemId(item.systemId),\r\n              id: asBusinessId(item.id),\r\n            })), initialized: true });\r\n          } else {\r\n            set({ initialized: true });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('[Storage Location Store] loadFromAPI error:', error);\r\n      }\r\n    },\r\n  })\r\n);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 964, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/sla-settings-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport type { ProductSlaSettings } from './types';\r\n\r\ninterface SlaSettingsState {\r\n  settings: ProductSlaSettings;\r\n  initialized: boolean;\r\n  update: (updates: Partial<ProductSlaSettings>) => void;\r\n  reset: () => void;\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nconst defaultSettings: ProductSlaSettings = {\r\n  // Ngưỡng mặc định\r\n  defaultReorderLevel: 10,\r\n  defaultSafetyStock: 5,\r\n  defaultMaxStock: 100,\r\n  \r\n  // Cảnh báo hàng tồn lâu\r\n  deadStockDays: 90,\r\n  slowMovingDays: 30,\r\n  \r\n  // Notifications\r\n  enableEmailAlerts: false,\r\n  alertEmailRecipients: [],\r\n  alertFrequency: 'daily',\r\n  \r\n  // Dashboard\r\n  showOnDashboard: true,\r\n  dashboardAlertTypes: ['out_of_stock', 'low_stock', 'below_safety'],\r\n};\r\n\r\n// API sync helper\r\nasync function syncToAPI(settings: ProductSlaSettings): Promise<boolean> {\r\n  try {\r\n    const response = await fetch('/api/settings/product-sla', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(settings),\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error('[SLA Settings API] sync error:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const useSlaSettingsStore = create<SlaSettingsState>()(\r\n  (set, get) => ({\r\n    settings: defaultSettings,\r\n    initialized: false,\r\n    \r\n    update: (updates) => {\r\n      const newSettings = { ...get().settings, ...updates };\r\n      set({ settings: newSettings });\r\n      syncToAPI(newSettings).catch(console.error);\r\n    },\r\n    \r\n    reset: () => {\r\n      set({ settings: defaultSettings });\r\n      syncToAPI(defaultSettings).catch(console.error);\r\n    },\r\n    \r\n    loadFromAPI: async () => {\r\n      if (get().initialized) return;\r\n      try {\r\n        const response = await fetch('/api/settings/product-sla');\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const data = json.data || json;\r\n          if (data && Object.keys(data).length > 0) {\r\n            set({ settings: { ...defaultSettings, ...data }, initialized: true });\r\n          } else {\r\n            set({ initialized: true });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('[SLA Settings Store] loadFromAPI error:', error);\r\n      }\r\n    },\r\n  })\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;;AAWA,MAAM,kBAAsC;IAC1C,kBAAkB;IAClB,qBAAqB;IACrB,oBAAoB;IACpB,iBAAiB;IAEjB,wBAAwB;IACxB,eAAe;IACf,gBAAgB;IAEhB,gBAAgB;IAChB,mBAAmB;IACnB,sBAAsB,EAAE;IACxB,gBAAgB;IAEhB,YAAY;IACZ,iBAAiB;IACjB,qBAAqB;QAAC;QAAgB;QAAa;KAAe;AACpE;AAEA,kBAAkB;AAClB,eAAe,UAAU,QAA4B;IACnD,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,6BAA6B;YACxD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,OAAO,SAAS,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO;IACT;AACF;AAEO,MAAM,sBAAsB,IAAA,kJAAM,IACvC,CAAC,KAAK,MAAQ,CAAC;QACb,UAAU;QACV,aAAa;QAEb,QAAQ,CAAC;YACP,MAAM,cAAc;gBAAE,GAAG,MAAM,QAAQ;gBAAE,GAAG,OAAO;YAAC;YACpD,IAAI;gBAAE,UAAU;YAAY;YAC5B,UAAU,aAAa,KAAK,CAAC,QAAQ,KAAK;QAC5C;QAEA,OAAO;YACL,IAAI;gBAAE,UAAU;YAAgB;YAChC,UAAU,iBAAiB,KAAK,CAAC,QAAQ,KAAK;QAChD;QAEA,aAAa;YACX,IAAI,MAAM,WAAW,EAAE;YACvB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,MAAM,OAAO,KAAK,IAAI,IAAI;oBAC1B,IAAI,QAAQ,OAAO,IAAI,CAAC,MAAM,MAAM,GAAG,GAAG;wBACxC,IAAI;4BAAE,UAAU;gCAAE,GAAG,eAAe;gCAAE,GAAG,IAAI;4BAAC;4BAAG,aAAa;wBAAK;oBACrE,OAAO;wBACL,IAAI;4BAAE,aAAa;wBAAK;oBAC1B;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2CAA2C;YAC3D;QACF;IACF,CAAC"}},
    {"offset": {"line": 1055, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/logistics-settings-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport type { ProductLogisticsSettings, LogisticsPreset } from './types';\r\n\r\ninterface LogisticsSettingsState {\r\n  settings: ProductLogisticsSettings;\r\n  initialized: boolean;\r\n  update: (updates: Partial<ProductLogisticsSettings>) => void;\r\n  save: (settings: ProductLogisticsSettings) => void;\r\n  reset: () => void;\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nconst createPreset = (overrides: LogisticsPreset): LogisticsPreset => ({\r\n  weight: overrides.weight ?? 0,\r\n  weightUnit: overrides.weightUnit ?? 'g',\r\n  length: overrides.length ?? 0,\r\n  width: overrides.width ?? 0,\r\n  height: overrides.height ?? 0,\r\n});\r\n\r\nconst clonePreset = (preset: LogisticsPreset): LogisticsPreset => ({\r\n  weight: preset.weight,\r\n  weightUnit: preset.weightUnit ?? 'g',\r\n  length: preset.length,\r\n  width: preset.width,\r\n  height: preset.height,\r\n});\r\n\r\nconst cloneSettings = (settings: ProductLogisticsSettings): ProductLogisticsSettings => ({\r\n  physicalDefaults: clonePreset(settings.physicalDefaults),\r\n  comboDefaults: clonePreset(settings.comboDefaults),\r\n});\r\n\r\nconst defaultSettings: ProductLogisticsSettings = {\r\n  physicalDefaults: createPreset({ weight: 500, length: 30, width: 20, height: 10 }),\r\n  comboDefaults: createPreset({ weight: 1000, length: 35, width: 25, height: 15 }),\r\n};\r\n\r\n// API sync helper\r\nasync function syncToAPI(settings: ProductLogisticsSettings): Promise<boolean> {\r\n  try {\r\n    const response = await fetch('/api/settings/product-logistics', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(settings),\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error('[Logistics Settings API] sync error:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const useProductLogisticsSettingsStore = create<LogisticsSettingsState>()(\r\n  (set, get) => ({\r\n    settings: cloneSettings(defaultSettings),\r\n    initialized: false,\r\n    update: (updates) => {\r\n      const newSettings = {\r\n        physicalDefaults: {\r\n          ...get().settings.physicalDefaults,\r\n          ...(updates.physicalDefaults ?? {}),\r\n        },\r\n        comboDefaults: {\r\n          ...get().settings.comboDefaults,\r\n          ...(updates.comboDefaults ?? {}),\r\n        },\r\n      };\r\n      set({ settings: newSettings });\r\n      syncToAPI(newSettings).catch(console.error);\r\n    },\r\n    save: (nextSettings) => {\r\n      const cloned = cloneSettings(nextSettings);\r\n      set({ settings: cloned });\r\n      syncToAPI(cloned).catch(console.error);\r\n    },\r\n    reset: () => {\r\n      const cloned = cloneSettings(defaultSettings);\r\n      set({ settings: cloned });\r\n      syncToAPI(cloned).catch(console.error);\r\n    },\r\n    loadFromAPI: async () => {\r\n      if (get().initialized) return;\r\n      try {\r\n        const response = await fetch('/api/settings/product-logistics');\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const data = json.data || json;\r\n          if (data && Object.keys(data).length > 0) {\r\n            set({ settings: cloneSettings({ ...defaultSettings, ...data }), initialized: true });\r\n          } else {\r\n            set({ initialized: true });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('[Logistics Settings Store] loadFromAPI error:', error);\r\n      }\r\n    },\r\n  })\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;;AAYA,MAAM,eAAe,CAAC,YAAgD,CAAC;QACrE,QAAQ,UAAU,MAAM,IAAI;QAC5B,YAAY,UAAU,UAAU,IAAI;QACpC,QAAQ,UAAU,MAAM,IAAI;QAC5B,OAAO,UAAU,KAAK,IAAI;QAC1B,QAAQ,UAAU,MAAM,IAAI;IAC9B,CAAC;AAED,MAAM,cAAc,CAAC,SAA6C,CAAC;QACjE,QAAQ,OAAO,MAAM;QACrB,YAAY,OAAO,UAAU,IAAI;QACjC,QAAQ,OAAO,MAAM;QACrB,OAAO,OAAO,KAAK;QACnB,QAAQ,OAAO,MAAM;IACvB,CAAC;AAED,MAAM,gBAAgB,CAAC,WAAiE,CAAC;QACvF,kBAAkB,YAAY,SAAS,gBAAgB;QACvD,eAAe,YAAY,SAAS,aAAa;IACnD,CAAC;AAED,MAAM,kBAA4C;IAChD,kBAAkB,aAAa;QAAE,QAAQ;QAAK,QAAQ;QAAI,OAAO;QAAI,QAAQ;IAAG;IAChF,eAAe,aAAa;QAAE,QAAQ;QAAM,QAAQ;QAAI,OAAO;QAAI,QAAQ;IAAG;AAChF;AAEA,kBAAkB;AAClB,eAAe,UAAU,QAAkC;IACzD,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,mCAAmC;YAC9D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,OAAO,SAAS,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wCAAwC;QACtD,OAAO;IACT;AACF;AAEO,MAAM,mCAAmC,IAAA,kJAAM,IACpD,CAAC,KAAK,MAAQ,CAAC;QACb,UAAU,cAAc;QACxB,aAAa;QACb,QAAQ,CAAC;YACP,MAAM,cAAc;gBAClB,kBAAkB;oBAChB,GAAG,MAAM,QAAQ,CAAC,gBAAgB;oBAClC,GAAI,QAAQ,gBAAgB,IAAI,CAAC,CAAC;gBACpC;gBACA,eAAe;oBACb,GAAG,MAAM,QAAQ,CAAC,aAAa;oBAC/B,GAAI,QAAQ,aAAa,IAAI,CAAC,CAAC;gBACjC;YACF;YACA,IAAI;gBAAE,UAAU;YAAY;YAC5B,UAAU,aAAa,KAAK,CAAC,QAAQ,KAAK;QAC5C;QACA,MAAM,CAAC;YACL,MAAM,SAAS,cAAc;YAC7B,IAAI;gBAAE,UAAU;YAAO;YACvB,UAAU,QAAQ,KAAK,CAAC,QAAQ,KAAK;QACvC;QACA,OAAO;YACL,MAAM,SAAS,cAAc;YAC7B,IAAI;gBAAE,UAAU;YAAO;YACvB,UAAU,QAAQ,KAAK,CAAC,QAAQ,KAAK;QACvC;QACA,aAAa;YACX,IAAI,MAAM,WAAW,EAAE;YACvB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,MAAM,OAAO,KAAK,IAAI,IAAI;oBAC1B,IAAI,QAAQ,OAAO,IAAI,CAAC,MAAM,MAAM,GAAG,GAAG;wBACxC,IAAI;4BAAE,UAAU,cAAc;gCAAE,GAAG,eAAe;gCAAE,GAAG,IAAI;4BAAC;4BAAI,aAAa;wBAAK;oBACpF,OAAO;wBACL,IAAI;4BAAE,aAAa;wBAAK;oBAC1B;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,iDAAiD;YACjE;QACF;IACF,CAAC"}},
    {"offset": {"line": 1172, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/warranty-settings-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\n\r\nexport interface WarrantySettings {\r\n  /** Thời hạn bảo hành mặc định (tháng) - áp dụng cho tất cả SP nếu không cấu hình riêng */\r\n  defaultWarrantyMonths: number;\r\n}\r\n\r\ninterface WarrantySettingsState {\r\n  settings: WarrantySettings;\r\n  initialized: boolean;\r\n  update: (updates: Partial<WarrantySettings>) => void;\r\n  reset: () => void;\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nconst defaultSettings: WarrantySettings = {\r\n  defaultWarrantyMonths: 12,\r\n};\r\n\r\n// API sync helper\r\nasync function syncToAPI(settings: WarrantySettings): Promise<boolean> {\r\n  try {\r\n    const response = await fetch('/api/settings/warranty', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(settings),\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error('[Warranty Settings API] sync error:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const useWarrantySettingsStore = create<WarrantySettingsState>()(\r\n  (set, get) => ({\r\n    settings: defaultSettings,\r\n    initialized: false,\r\n    \r\n    update: (updates) => {\r\n      const newSettings = { ...get().settings, ...updates };\r\n      set({ settings: newSettings });\r\n      syncToAPI(newSettings).catch(console.error);\r\n    },\r\n    \r\n    reset: () => {\r\n      set({ settings: defaultSettings });\r\n      syncToAPI(defaultSettings).catch(console.error);\r\n    },\r\n    \r\n    loadFromAPI: async () => {\r\n      if (get().initialized) return;\r\n      try {\r\n        const response = await fetch('/api/settings/warranty');\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const data = json.data || json;\r\n          if (data && Object.keys(data).length > 0) {\r\n            set({ settings: { ...defaultSettings, ...data }, initialized: true });\r\n          } else {\r\n            set({ initialized: true });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('[Warranty Settings Store] loadFromAPI error:', error);\r\n      }\r\n    },\r\n  })\r\n);\r\n\r\n/** Hook để lấy thời hạn bảo hành mặc định */\r\nexport function useDefaultWarrantyMonths() {\r\n  return useWarrantySettingsStore((state) => state.settings.defaultWarrantyMonths);\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAeA,MAAM,kBAAoC;IACxC,uBAAuB;AACzB;AAEA,kBAAkB;AAClB,eAAe,UAAU,QAA0B;IACjD,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,0BAA0B;YACrD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,OAAO,SAAS,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,OAAO;IACT;AACF;AAEO,MAAM,2BAA2B,IAAA,kJAAM,IAC5C,CAAC,KAAK,MAAQ,CAAC;QACb,UAAU;QACV,aAAa;QAEb,QAAQ,CAAC;YACP,MAAM,cAAc;gBAAE,GAAG,MAAM,QAAQ;gBAAE,GAAG,OAAO;YAAC;YACpD,IAAI;gBAAE,UAAU;YAAY;YAC5B,UAAU,aAAa,KAAK,CAAC,QAAQ,KAAK;QAC5C;QAEA,OAAO;YACL,IAAI;gBAAE,UAAU;YAAgB;YAChC,UAAU,iBAAiB,KAAK,CAAC,QAAQ,KAAK;QAChD;QAEA,aAAa;YACX,IAAI,MAAM,WAAW,EAAE;YACvB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,MAAM,OAAO,KAAK,IAAI,IAAI;oBAC1B,IAAI,QAAQ,OAAO,IAAI,CAAC,MAAM,MAAM,GAAG,GAAG;wBACxC,IAAI;4BAAE,UAAU;gCAAE,GAAG,eAAe;gCAAE,GAAG,IAAI;4BAAC;4BAAG,aAAa;wBAAK;oBACrE,OAAO;wBACL,IAAI;4BAAE,aAAa;wBAAK;oBAC1B;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gDAAgD;YAChE;QACF;IACF,CAAC;AAII,SAAS;IACd,OAAO,yBAAyB,CAAC,QAAU,MAAM,QAAQ,CAAC,qBAAqB;AACjF"}},
    {"offset": {"line": 1251, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW"}},
    {"offset": {"line": 1281, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport {\r\n  Controller,\r\n  FormProvider,\r\n  useFormContext,\r\n  type ControllerProps,\r\n  type FieldPath,\r\n  type FieldValues,\r\n} from \"react-hook-form\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { Label } from \"./label\"\r\n\r\nconst Form = FormProvider\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n> = {\r\n  name: TName\r\n}\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null)\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  )\r\n}\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext)\r\n  const itemContext = React.useContext(FormItemContext)\r\n  const { getFieldState, formState } = useFormContext()\r\n\r\n  if (!fieldContext) {\r\n    throw new Error(\"useFormField should be used within <FormField>\")\r\n  }\r\n\r\n  if (!itemContext) {\r\n    throw new Error(\"useFormField should be used within <FormItem>\")\r\n  }\r\n\r\n  const fieldState = getFieldState(fieldContext.name, formState)\r\n\r\n  const { id } = itemContext\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  }\r\n}\r\n\r\ntype FormItemContextValue = {\r\n  id: string\r\n}\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue | null>(null)\r\n\r\nconst FormItem = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => {\r\n  const id = React.useId()\r\n\r\n  return (\r\n    <FormItemContext.Provider value={{ id }}>\r\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\r\n    </FormItemContext.Provider>\r\n  )\r\n})\r\nFormItem.displayName = \"FormItem\"\r\n\r\nconst FormLabel = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  const { error, formItemId } = useFormField()\r\n\r\n  return (\r\n    <Label\r\n      ref={ref}\r\n      className={cn(error && \"text-destructive\", className)}\r\n      htmlFor={formItemId}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormLabel.displayName = \"FormLabel\"\r\n\r\nconst FormControl = React.forwardRef<\r\n  React.ElementRef<typeof Slot>,\r\n  React.ComponentPropsWithoutRef<typeof Slot>\r\n>(({ children, ...props }, ref) => {\r\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\r\n\r\n  const childElements = React.Children\r\n    .toArray(children)\r\n    .filter((child): child is React.ReactElement => React.isValidElement(child))\r\n\r\n  if (childElements.length === 0) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.warn('FormControl cần ít nhất một phần tử con hợp lệ')\r\n    }\r\n    return null\r\n  }\r\n\r\n  if (childElements.length > 1 && process.env.NODE_ENV === 'development') {\r\n    console.warn('FormControl chỉ hỗ trợ một phần tử con. Đang dùng phần tử đầu tiên.')\r\n  }\r\n\r\n  return (\r\n    <Slot\r\n      ref={ref}\r\n      id={formItemId}\r\n      aria-describedby={\r\n        !error\r\n          ? `${formDescriptionId}`\r\n          : `${formDescriptionId} ${formMessageId}`\r\n      }\r\n      aria-invalid={!!error}\r\n      {...props}\r\n    >\r\n      {childElements[0]}\r\n    </Slot>\r\n  )\r\n})\r\nFormControl.displayName = \"FormControl\"\r\n\r\nconst FormDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => {\r\n  const { formDescriptionId } = useFormField()\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      id={formDescriptionId}\r\n      className={cn(\"text-sm text-muted-foreground\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormDescription.displayName = \"FormDescription\"\r\n\r\nconst FormMessage = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, children, ...props }, ref) => {\r\n  const { error, formMessageId } = useFormField()\r\n  const body = error ? String(error?.message ?? \"\") : children\r\n\r\n  if (!body) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      id={formMessageId}\r\n      className={cn(\"text-sm font-medium text-destructive\", className)}\r\n      {...props}\r\n    >\r\n      {body}\r\n    </p>\r\n  )\r\n})\r\nFormMessage.displayName = \"FormMessage\"\r\n\r\nexport {\r\n  useFormField,\r\n  Form,\r\n  FormItem,\r\n  FormLabel,\r\n  FormControl,\r\n  FormDescription,\r\n  FormMessage,\r\n  FormField,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1454, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Textarea = React.forwardRef<\r\n  HTMLTextAreaElement,\r\n  React.ComponentProps<\"textarea\">\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <textarea\r\n      className={cn(\r\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1481, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/units/form.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport type { Unit } from \"./types\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"../../../components/ui/form\";\r\nimport { Input } from \"../../../components/ui/input\";\r\nimport { Textarea } from \"../../../components/ui/textarea\";\r\n\r\nexport type UnitFormValues = Omit<Unit, 'systemId'>;\r\n\r\ntype UnitFormProps = {\r\n  initialData: Unit | null;\r\n  onSubmit: (values: UnitFormValues) => void;\r\n};\r\n\r\nexport function UnitForm({ initialData, onSubmit }: UnitFormProps) {\r\n  const form = useForm<UnitFormValues>({\r\n    defaultValues: initialData || {\r\n      id: '', // Let store generate DVT ID\r\n      name: \"\",\r\n      description: \"\",\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form id=\"unit-form\" onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6 pt-4\">\r\n        <FormField control={form.control} name=\"id\" render={({ field }) => (\r\n          <FormItem><FormLabel>Mã đơn vị tính</FormLabel><FormControl><Input {...field} value={field.value ?? ''} /></FormControl><FormMessage /></FormItem>\r\n        )} />\r\n        <FormField control={form.control} name=\"name\" render={({ field }) => (\r\n          <FormItem><FormLabel>Tên đơn vị tính</FormLabel><FormControl><Input {...field} value={field.value ?? ''} /></FormControl><FormMessage /></FormItem>\r\n        )} />\r\n        <FormField control={form.control} name=\"description\" render={({ field }) => (\r\n          <FormItem><FormLabel>Mô tả</FormLabel><FormControl><Textarea {...field} value={field.value ?? ''} /></FormControl><FormMessage /></FormItem>\r\n        )} />\r\n      </form>\r\n    </Form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAGA;AACA;AACA;;;;;;AASO,SAAS,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAiB;IAC/D,MAAM,OAAO,IAAA,yKAAO,EAAiB;QACnC,eAAe,eAAe;YAC5B,IAAI;YACJ,MAAM;YACN,aAAa;QACf;IACF;IAEA,qBACE,8OAAC,iIAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,8OAAC;YAAK,IAAG;YAAY,UAAU,KAAK,YAAY,CAAC;YAAW,WAAU;;8BACpE,8OAAC,sIAAS;oBAAC,SAAS,KAAK,OAAO;oBAAE,MAAK;oBAAK,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAC5D,8OAAC,qIAAQ;;8CAAC,8OAAC,sIAAS;8CAAC;;;;;;8CAA0B,8OAAC,wIAAW;8CAAC,cAAA,8OAAC,mIAAK;wCAAE,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAAoB,8OAAC,wIAAW;;;;;;;;;;;;;;;;8BAEtI,8OAAC,sIAAS;oBAAC,SAAS,KAAK,OAAO;oBAAE,MAAK;oBAAO,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAC9D,8OAAC,qIAAQ;;8CAAC,8OAAC,sIAAS;8CAAC;;;;;;8CAA2B,8OAAC,wIAAW;8CAAC,cAAA,8OAAC,mIAAK;wCAAE,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAAoB,8OAAC,wIAAW;;;;;;;;;;;;;;;;8BAEvI,8OAAC,sIAAS;oBAAC,SAAS,KAAK,OAAO;oBAAE,MAAK;oBAAc,QAAQ,CAAC,EAAE,KAAK,EAAE,iBACrE,8OAAC,qIAAQ;;8CAAC,8OAAC,sIAAS;8CAAC;;;;;;8CAAiB,8OAAC,wIAAW;8CAAC,cAAA,8OAAC,yIAAQ;wCAAE,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAAoB,8OAAC,wIAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKxI"}},
    {"offset": {"line": 1652, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { useModal } from \"../../contexts/modal-context\"\r\n\r\n// Use the original Dialog component\r\nconst Dialog = DialogPrimitive.Root\r\n\r\n// Create a Context to pass ID through the Dialog component tree\r\nconst DialogContext = React.createContext<string>(\"\");\r\n\r\n// Provider component that accepts an ID\r\nconst DialogProvider = ({ id, children }: { id: string; children: React.ReactNode }) => {\r\n  return <DialogContext.Provider value={id}>{children}</DialogContext.Provider>;\r\n};\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & { \r\n    id?: string;\r\n    open?: boolean;\r\n  }\r\n>(({ className, children, id: propId, open, ...props }, ref) => {\r\n  // Use either the prop id or the id from context\r\n  const contextId = React.useContext(DialogContext);\r\n  const id = propId || contextId || `dialog-${React.useId()}`;\r\n  \r\n  // Register with our modal context using the open prop\r\n  const { zIndex } = useModal(id, !!open, 'dialog');\r\n  \r\n  return (\r\n    <DialogPortal>\r\n      {/* Sử dụng overlay chỉ dành cho Dialog */}\r\n      <DialogOverlay style={{ zIndex: zIndex - 1 }} />\r\n      <DialogPrimitive.Content\r\n        ref={ref}\r\n        className={cn(\r\n          \"dialog-content fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg sm:rounded-lg\",\r\n          className\r\n        )}\r\n        style={{ zIndex }}\r\n        {...props}\r\n      >\r\n        <DialogProvider id={id}>\r\n          {children}\r\n          <DialogPrimitive.Close\r\n            aria-label=\"Đóng\"\r\n            className=\"absolute right-4 top-4 flex h-9 w-9 items-center justify-center rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\"\r\n          >\r\n            <X className=\"h-4 w-4\" />\r\n            <span className=\"sr-only\">Đóng</span>\r\n          </DialogPrimitive.Close>\r\n        </DialogProvider>\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  );\r\n})\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n  DialogProvider,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;;;;;;;AAEA,oCAAoC;AACpC,MAAM,SAAS,0KAAoB;AAEnC,gEAAgE;AAChE,MAAM,8BAAgB,sNAAmB,CAAS;AAElD,wCAAwC;AACxC,MAAM,iBAAiB,CAAC,EAAE,EAAE,EAAE,QAAQ,EAA6C;IACjF,qBAAO,8OAAC,cAAc,QAAQ;QAAC,OAAO;kBAAK;;;;;;AAC7C;AAEA,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAMpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACtD,gDAAgD;IAChD,MAAM,YAAY,mNAAgB,CAAC;IACnC,MAAM,KAAK,UAAU,aAAa,CAAC,OAAO,EAAE,8MAAW,IAAI;IAE3D,sDAAsD;IACtD,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,yIAAQ,EAAC,IAAI,CAAC,CAAC,MAAM;IAExC,qBACE,8OAAC;;0BAEC,8OAAC;gBAAc,OAAO;oBAAE,QAAQ,SAAS;gBAAE;;;;;;0BAC3C,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,kLACA;gBAEF,OAAO;oBAAE;gBAAO;gBACf,GAAG,KAAK;0BAET,cAAA,8OAAC;oBAAe,IAAI;;wBACjB;sCACD,8OAAC,2KAAqB;4BACpB,cAAW;4BACX,WAAU;;8CAEV,8OAAC,iMAAC;oCAAC,WAAU;;;;;;8CACb,8OAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AACA,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1831, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/checkbox.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\r\nimport { Check } from \"lucide-react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\ntype BaseCheckboxProps = React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\r\n\r\ntype CheckboxProps = Omit<BaseCheckboxProps, \"checked\" | \"defaultChecked\"> & {\r\n  checked?: CheckboxPrimitive.CheckedState | undefined\r\n  defaultChecked?: CheckboxPrimitive.CheckedState | undefined\r\n}\r\n\r\nconst Checkbox = React.forwardRef<\r\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\r\n  CheckboxProps\r\n>(({ className, checked, defaultChecked, ...props }, ref) => (\r\n  <CheckboxPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n    {...(checked !== undefined ? { checked } : {})}\r\n    {...(defaultChecked !== undefined ? { defaultChecked } : {})}\r\n  >\r\n    <CheckboxPrimitive.Indicator\r\n      className={cn(\"flex items-center justify-center text-current\")}\r\n    >\r\n      <Check className=\"h-4 w-4\" />\r\n    </CheckboxPrimitive.Indicator>\r\n  </CheckboxPrimitive.Root>\r\n))\r\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\r\n\r\nexport { Checkbox }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AASA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,OAAO,EAAE,oBACnD,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,kTACA;QAED,GAAG,KAAK;QACR,GAAI,YAAY,YAAY;YAAE;QAAQ,IAAI,CAAC,CAAC;QAC5C,GAAI,mBAAmB,YAAY;YAAE;QAAe,IAAI,CAAC,CAAC;kBAE3D,cAAA,8OAAC,iLAA2B;YAC1B,WAAW,IAAA,kHAAE,EAAC;sBAEd,cAAA,8OAAC,6MAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 1880, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/tabs.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-9 items-center justify-center rounded-md bg-muted p-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium text-muted-foreground ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,OAAO,wKAAkB;AAE/B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,wKAAkB;QACjB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,uEACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,wKAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,6ZACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 1934, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border border-border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive:\r\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Alert = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    role=\"alert\"\r\n    className={cn(alertVariants({ variant }), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h5\r\n    ref={ref}\r\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nconst AlertDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,2KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,8OAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG"}},
    {"offset": {"line": 1999, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/setting-form-dialogs.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport * as z from 'zod';\r\nimport { AlertTriangle } from 'lucide-react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../../../components/ui/dialog';\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from '../../../components/ui/form';\r\nimport { Input } from '../../../components/ui/input';\r\nimport { Textarea } from '../../../components/ui/textarea';\r\nimport { Button } from '../../../components/ui/button';\r\nimport { Checkbox } from '../../../components/ui/checkbox';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../../../components/ui/tabs';\r\nimport { Alert, AlertDescription } from '../../../components/ui/alert';\r\nimport type { ProductType, ProductCategory } from './types';\r\n\r\n// ProductType Form Schema\r\nconst productTypeSchema = z.object({\r\n  id: z.string().min(1, 'Mã loại sản phẩm là bắt buộc'),\r\n  name: z.string().min(1, 'Tên loại sản phẩm là bắt buộc'),\r\n  description: z.string().optional(),\r\n  isDefault: z.boolean().optional(),\r\n});\r\n\r\nexport type ProductTypeFormValues = z.infer<typeof productTypeSchema>;\r\n\r\ninterface ProductTypeFormDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  initialData: ProductType | null;\r\n  onSubmit: (data: ProductTypeFormValues) => void;\r\n  existingIds: string[];\r\n}\r\n\r\nexport function ProductTypeFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: ProductTypeFormDialogProps) {\r\n  const form = useForm<ProductTypeFormValues>({\r\n    resolver: zodResolver(productTypeSchema),\r\n    defaultValues: {\r\n      id: initialData?.id || '',\r\n      name: initialData?.name || '',\r\n      description: initialData?.description || '',\r\n      isDefault: initialData?.isDefault || false,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      form.reset({\r\n        id: initialData?.id || '',\r\n        name: initialData?.name || '',\r\n        description: initialData?.description || '',\r\n        isDefault: initialData?.isDefault || false,\r\n      });\r\n    }\r\n  }, [open, initialData, form]);\r\n\r\n  // Validate unique ID\r\n  React.useEffect(() => {\r\n    const subscription = form.watch((value, { name }) => {\r\n      if (name === 'id' && value.id) {\r\n        const isDuplicate = existingIds.includes(value.id) && value.id !== initialData?.id;\r\n        if (isDuplicate) {\r\n          form.setError('id', { type: 'manual', message: 'Mã loại sản phẩm đã tồn tại' });\r\n        } else {\r\n          form.clearErrors('id');\r\n        }\r\n      }\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [form, existingIds, initialData]);\r\n\r\n  const handleSubmit = (data: ProductTypeFormValues) => {\r\n    onSubmit(data);\r\n    form.reset();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>\r\n            {initialData ? 'Chỉnh sửa loại sản phẩm' : 'Thêm loại sản phẩm mới'}\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        <Form {...form}>\r\n          <form id=\"product-type-form\" onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"id\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mã loại sản phẩm <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: PT001\" {...field} value={field.value ?? ''} disabled={!!initialData} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n            \r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên loại sản phẩm <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: Hàng hóa\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n            \r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea\r\n                      placeholder=\"Mô tả chi tiết về loại sản phẩm\"\r\n                      {...field}\r\n                      value={field.value ?? ''}\r\n                      rows={3}\r\n                    />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n            \r\n            <FormField\r\n              control={form.control}\r\n              name=\"isDefault\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex flex-row items-start space-x-3 space-y-0\">\r\n                  <FormControl>\r\n                    <Checkbox\r\n                      checked={field.value}\r\n                      onCheckedChange={field.onChange}\r\n                    />\r\n                  </FormControl>\r\n                  <div className=\"space-y-1 leading-none\">\r\n                    <FormLabel>Đặt làm mặc định</FormLabel>\r\n                    <FormDescription>\r\n                      Loại sản phẩm này sẽ được chọn mặc định khi tạo sản phẩm mới\r\n                    </FormDescription>\r\n                  </div>\r\n                </FormItem>\r\n              )}\r\n            />\r\n          </form>\r\n        </Form>\r\n        <DialogFooter>\r\n          <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n            Hủy\r\n          </Button>\r\n          <Button type=\"submit\" form=\"product-type-form\">\r\n            {initialData ? 'Cập nhật' : 'Thêm mới'}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// ProductCategory Form Schema - Upgraded with SEO fields like WordPress\r\nconst productCategorySchema = z.object({\r\n  id: z.string().min(1, 'Mã danh mục là bắt buộc'),\r\n  name: z.string().min(1, 'Tên danh mục là bắt buộc'),\r\n  slug: z.string().optional(),\r\n  // SEO Fields\r\n  seoTitle: z.string().optional(),\r\n  metaDescription: z.string().optional(),\r\n  shortDescription: z.string().optional(),\r\n  longDescription: z.string().optional(),\r\n  // Hierarchy\r\n  parentId: z.string().optional(),\r\n  // Display\r\n  color: z.string().optional(),\r\n  icon: z.string().optional(),\r\n  thumbnailImage: z.string().optional(),\r\n  // Settings\r\n  sortOrder: z.number().optional(),\r\n  isActive: z.boolean().optional(),\r\n});\r\n\r\nexport type ProductCategoryFormValues = z.infer<typeof productCategorySchema>;\r\n\r\ninterface ProductCategoryFormDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  initialData: ProductCategory | null;\r\n  parentId?: string | undefined; // For adding child categories\r\n  categories: ProductCategory[]; // All categories for parent selection\r\n  onSubmit: (data: ProductCategoryFormValues) => void;\r\n  existingIds: string[];\r\n}\r\n\r\nexport function ProductCategoryFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  parentId,\r\n  categories,\r\n  onSubmit,\r\n  existingIds,\r\n}: ProductCategoryFormDialogProps) {\r\n  const [activeTab, setActiveTab] = React.useState<'basic' | 'seo'>('basic');\r\n  \r\n  const form = useForm<ProductCategoryFormValues>({\r\n    resolver: zodResolver(productCategorySchema),\r\n    defaultValues: {\r\n      id: initialData?.id || '',\r\n      name: initialData?.name || '',\r\n      slug: initialData?.slug || '',\r\n      seoTitle: initialData?.seoTitle || '',\r\n      metaDescription: initialData?.metaDescription || '',\r\n      shortDescription: initialData?.shortDescription || '',\r\n      longDescription: initialData?.longDescription || '',\r\n      parentId: initialData?.parentId || parentId || undefined,\r\n      color: initialData?.color || '#3b82f6',\r\n      icon: initialData?.icon || '',\r\n      sortOrder: initialData?.sortOrder || 0,\r\n      isActive: initialData?.isActive !== undefined ? initialData.isActive : true,\r\n    },\r\n  });\r\n\r\n  // Auto-generate slug from name\r\n  const watchName = form.watch('name');\r\n  React.useEffect(() => {\r\n    if (watchName && !initialData) {\r\n      const slug = watchName\r\n        .toLowerCase()\r\n        .normalize('NFD')\r\n        .replace(/[\\u0300-\\u036f]/g, '') // Remove diacritics\r\n        .replace(/đ/g, 'd')\r\n        .replace(/[^a-z0-9\\s-]/g, '')\r\n        .replace(/\\s+/g, '-')\r\n        .replace(/-+/g, '-')\r\n        .trim();\r\n      form.setValue('slug', slug);\r\n    }\r\n  }, [watchName, initialData, form]);\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setActiveTab('basic');\r\n      form.reset({\r\n        id: initialData?.id || '',\r\n        name: initialData?.name || '',\r\n        slug: initialData?.slug || '',\r\n        seoTitle: initialData?.seoTitle || '',\r\n        metaDescription: initialData?.metaDescription || '',\r\n        shortDescription: initialData?.shortDescription || '',\r\n        longDescription: initialData?.longDescription || '',\r\n        parentId: initialData?.parentId || parentId || undefined,\r\n        color: initialData?.color || '#3b82f6',\r\n        icon: initialData?.icon || '',\r\n        sortOrder: initialData?.sortOrder || 0,\r\n        isActive: initialData?.isActive !== undefined ? initialData.isActive : true,\r\n      });\r\n    }\r\n  }, [open, initialData, parentId, form]);\r\n\r\n  // Validate unique ID\r\n  React.useEffect(() => {\r\n    const subscription = form.watch((value, { name }) => {\r\n      if (name === 'id' && value.id) {\r\n        const isDuplicate = existingIds.includes(value.id) && value.id !== initialData?.id;\r\n        if (isDuplicate) {\r\n          form.setError('id', { type: 'manual', message: 'Mã danh mục đã tồn tại' });\r\n        } else {\r\n          form.clearErrors('id');\r\n        }\r\n      }\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [form, existingIds, initialData]);\r\n\r\n  // Check max level (3 levels: 0, 1, 2)\r\n  const selectedParent = categories.find(c => c.systemId === form.watch('parentId'));\r\n  const parentLevel = selectedParent?.level ?? -1;\r\n  const willExceedMaxLevel = parentLevel >= 2;\r\n\r\n  const handleSubmit = (data: ProductCategoryFormValues) => {\r\n    onSubmit(data);\r\n    form.reset();\r\n  };\r\n\r\n  const colorOptions = [\r\n    { value: '#3b82f6', label: 'Xanh dương' },\r\n    { value: '#10b981', label: 'Xanh lá' },\r\n    { value: '#f59e0b', label: 'Vàng' },\r\n    { value: '#ef4444', label: 'Đỏ' },\r\n    { value: '#8b5cf6', label: 'Tím' },\r\n    { value: '#ec4899', label: 'Hồng' },\r\n    { value: '#6366f1', label: 'Indigo' },\r\n    { value: '#14b8a6', label: 'Xanh ngọc' },\r\n  ];\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[85vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>\r\n            {initialData ? 'Chỉnh sửa danh mục' : 'Thêm danh mục mới'}\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        {willExceedMaxLevel && (\r\n          <Alert variant=\"destructive\">\r\n            <AlertTriangle className=\"h-4 w-4\" />\r\n            <AlertDescription>\r\n              Không thể tạo danh mục con cho \"{selectedParent?.name}\" vì đã đạt giới hạn 3 cấp (gốc → cấp 2 → cấp 3).\r\n            </AlertDescription>\r\n          </Alert>\r\n        )}\r\n        \r\n        <Form {...form}>\r\n          <form id=\"product-category-form\" onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as 'basic' | 'seo')}>\r\n              <TabsList className=\"grid w-full grid-cols-2\">\r\n                <TabsTrigger value=\"basic\">Thông tin cơ bản</TabsTrigger>\r\n                <TabsTrigger value=\"seo\">SEO & Mô tả</TabsTrigger>\r\n              </TabsList>\r\n              \r\n              <TabsContent value=\"basic\" className=\"space-y-4 mt-4\">\r\n                {/* Row 1: ID and Sort Order */}\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"id\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Mã danh mục <span className=\"text-destructive\">*</span></FormLabel>\r\n                        <FormControl>\r\n                          <Input placeholder=\"VD: CAT001\" {...field} value={field.value ?? ''} disabled={!!initialData} />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  \r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"sortOrder\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Thứ tự</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            type=\"number\"\r\n                            {...field}\r\n                            value={field.value ?? 0}\r\n                            onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n                \r\n                {/* Row 2: Name and Slug */}\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"name\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Tên danh mục <span className=\"text-destructive\">*</span></FormLabel>\r\n                        <FormControl>\r\n                          <Input placeholder=\"VD: Điện tử\" {...field} value={field.value ?? ''} />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  \r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"slug\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Slug (URL)</FormLabel>\r\n                        <FormControl>\r\n                          <Input placeholder=\"dien-tu\" {...field} value={field.value ?? ''} />\r\n                        </FormControl>\r\n                        <FormDescription>\r\n                          Tự động tạo từ tên\r\n                        </FormDescription>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"parentId\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel>Danh mục cha</FormLabel>\r\n                      <FormControl>\r\n                        <select\r\n                          {...field}\r\n                          value={field.value ?? ''}\r\n                          onChange={(e) => field.onChange(e.target.value || undefined)}\r\n                          className=\"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                        >\r\n                          <option value=\"\">-- Không có (Danh mục gốc) --</option>\r\n                          {categories\r\n                            .filter(c => c.systemId !== initialData?.systemId && (c.level ?? 0) < 2) // Only allow parent with level < 2\r\n                            .map(cat => (\r\n                              <option key={cat.systemId} value={cat.systemId}>\r\n                                {'—'.repeat(cat.level || 0)} {cat.name} {cat.level === 1 ? '(cấp 2)' : ''}\r\n                              </option>\r\n                            ))}\r\n                        </select>\r\n                      </FormControl>\r\n                      <FormDescription>\r\n                        Hệ thống hỗ trợ tối đa 3 cấp danh mục\r\n                      </FormDescription>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n                \r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"color\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel>Màu sắc</FormLabel>\r\n                      <FormControl>\r\n                        <div className=\"flex gap-2 flex-wrap\">\r\n                          {colorOptions.map((option) => (\r\n                            <button\r\n                              key={option.value}\r\n                              type=\"button\"\r\n                              className={`w-10 h-9 rounded-md border-2 transition-all ${\r\n                                field.value === option.value\r\n                                  ? 'border-primary ring-2 ring-primary/20'\r\n                                  : 'border-border hover:border-primary/50'\r\n                              }`}\r\n                              style={{ backgroundColor: option.value }}\r\n                              onClick={() => field.onChange(option.value)}\r\n                              title={option.label}\r\n                            />\r\n                          ))}\r\n                        </div>\r\n                      </FormControl>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n                \r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"isActive\"\r\n                  render={({ field }) => (\r\n                    <FormItem className=\"flex flex-row items-start space-x-3 space-y-0\">\r\n                      <FormControl>\r\n                        <Checkbox\r\n                          checked={field.value}\r\n                          onCheckedChange={field.onChange}\r\n                        />\r\n                      </FormControl>\r\n                      <div className=\"space-y-1 leading-none\">\r\n                        <FormLabel>Kích hoạt</FormLabel>\r\n                        <FormDescription>\r\n                          Danh mục này sẽ hiển thị trong danh sách lựa chọn\r\n                        </FormDescription>\r\n                      </div>\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n              </TabsContent>\r\n              \r\n              <TabsContent value=\"seo\" className=\"space-y-4 mt-4\">\r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"seoTitle\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel>Tiêu đề SEO</FormLabel>\r\n                      <FormControl>\r\n                        <Input \r\n                          placeholder=\"Tiêu đề hiển thị trên kết quả tìm kiếm\" \r\n                          {...field} \r\n                          value={field.value ?? ''} \r\n                        />\r\n                      </FormControl>\r\n                      <FormDescription>\r\n                        Để trống sẽ sử dụng tên danh mục. Nên từ 50-60 ký tự.\r\n                      </FormDescription>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n                \r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"metaDescription\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel>Meta Description</FormLabel>\r\n                      <FormControl>\r\n                        <Textarea\r\n                          placeholder=\"Mô tả ngắn hiển thị trên kết quả tìm kiếm\"\r\n                          {...field}\r\n                          value={field.value ?? ''}\r\n                          rows={2}\r\n                        />\r\n                      </FormControl>\r\n                      <FormDescription>\r\n                        Nên từ 150-160 ký tự để hiển thị tốt trên Google.\r\n                      </FormDescription>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n                \r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"shortDescription\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel>Mô tả ngắn</FormLabel>\r\n                      <FormControl>\r\n                        <Textarea\r\n                          placeholder=\"Mô tả ngắn gọn về danh mục\"\r\n                          {...field}\r\n                          value={field.value ?? ''}\r\n                          rows={2}\r\n                        />\r\n                      </FormControl>\r\n                      <FormDescription>\r\n                        Hiển thị ở đầu trang danh mục\r\n                      </FormDescription>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n                \r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"longDescription\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel>Mô tả chi tiết</FormLabel>\r\n                      <FormControl>\r\n                        <Textarea\r\n                          placeholder=\"Mô tả đầy đủ về danh mục, có thể bao gồm thông tin về sản phẩm trong danh mục\"\r\n                          {...field}\r\n                          value={field.value ?? ''}\r\n                          rows={4}\r\n                        />\r\n                      </FormControl>\r\n                      <FormDescription>\r\n                        Hiển thị ở cuối trang danh mục, giúp SEO tốt hơn\r\n                      </FormDescription>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n              </TabsContent>\r\n            </Tabs>\r\n          </form>\r\n        </Form>\r\n        <DialogFooter>\r\n          <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n            Hủy\r\n          </Button>\r\n          <Button type=\"submit\" form=\"product-category-form\" disabled={willExceedMaxLevel}>\r\n            {initialData ? 'Cập nhật' : 'Thêm mới'}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3275, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/storage-location-form-dialog.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport * as z from 'zod';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../../../components/ui/dialog';\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from '../../../components/ui/form';\r\nimport { Input } from '../../../components/ui/input';\r\nimport { Textarea } from '../../../components/ui/textarea';\r\nimport { Button } from '../../../components/ui/button';\r\nimport { Checkbox } from '../../../components/ui/checkbox';\r\nimport type { StorageLocation } from './storage-location-types';\r\n\r\n// StorageLocation Form Schema\r\nconst storageLocationSchema = z.object({\r\n  id: z.string().min(1, 'Mã điểm lưu kho là bắt buộc'),\r\n  name: z.string().min(1, 'Tên điểm lưu kho là bắt buộc'),\r\n  description: z.string().optional(),\r\n  isActive: z.boolean().optional(),\r\n});\r\n\r\nexport type StorageLocationFormValues = z.infer<typeof storageLocationSchema>;\r\n\r\ninterface StorageLocationFormDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  initialData: StorageLocation | null;\r\n  onSubmit: (data: StorageLocationFormValues) => void;\r\n  existingIds: string[];\r\n}\r\n\r\nexport function StorageLocationFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: StorageLocationFormDialogProps) {\r\n  const form = useForm<StorageLocationFormValues>({\r\n    resolver: zodResolver(storageLocationSchema),\r\n    defaultValues: {\r\n      id: initialData?.id || '',\r\n      name: initialData?.name || '',\r\n      description: initialData?.description || '',\r\n      isActive: initialData?.isActive ?? true,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      form.reset({\r\n        id: initialData?.id || '',\r\n        name: initialData?.name || '',\r\n        description: initialData?.description || '',\r\n        isActive: initialData?.isActive ?? true,\r\n      });\r\n    }\r\n  }, [open, initialData, form]);\r\n\r\n  // Validate unique ID\r\n  React.useEffect(() => {\r\n    const subscription = form.watch((value, { name }) => {\r\n      if (name === 'id' && value.id) {\r\n        const isDuplicate = existingIds.includes(value.id) && value.id !== initialData?.id;\r\n        if (isDuplicate) {\r\n          form.setError('id', { type: 'manual', message: 'Mã điểm lưu kho đã tồn tại' });\r\n        } else {\r\n          form.clearErrors('id');\r\n        }\r\n      }\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [form, existingIds, initialData]);\r\n\r\n  const handleSubmit = (data: StorageLocationFormValues) => {\r\n    onSubmit(data);\r\n    form.reset();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>\r\n            {initialData ? 'Chỉnh sửa điểm lưu kho' : 'Thêm điểm lưu kho mới'}\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"id\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mã điểm lưu kho <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input {...field} value={field.value ?? ''} placeholder=\"VD: KHO-A\" className=\"h-9\" />\r\n                  </FormControl>\r\n                  <FormDescription>\r\n                    Chỉ chứa chữ in hoa và số, tối đa 20 ký tự\r\n                  </FormDescription>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên điểm lưu kho <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input {...field} value={field.value ?? ''} placeholder=\"VD: Kho A\" className=\"h-9\" />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea {...field} value={field.value ?? ''} placeholder=\"Mô tả chi tiết...\" rows={3} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isActive\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center space-x-2 space-y-0\">\r\n                  <FormControl>\r\n                    <Checkbox\r\n                      checked={field.value}\r\n                      onCheckedChange={field.onChange}\r\n                    />\r\n                  </FormControl>\r\n                  <FormLabel className=\"!mt-0 cursor-pointer\">\r\n                    Kích hoạt\r\n                  </FormLabel>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Thoát\r\n              </Button>\r\n              <Button type=\"submit\">\r\n                Xác nhận\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3632, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\ntype SwitchProps = Omit<\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>,\r\n  \"checked\" | \"defaultChecked\"\r\n> & {\r\n  checked?: boolean | undefined\r\n  defaultChecked?: boolean | undefined\r\n}\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  SwitchProps\r\n>(({ className, checked, defaultChecked, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n      className\r\n    )}\r\n    {...props}\r\n    {...(checked !== undefined ? { checked } : {})}\r\n    {...(defaultChecked !== undefined ? { defaultChecked } : {})}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAeA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,OAAO,EAAE,oBACnD,8OAAC,0KAAqB;QACpB,WAAW,IAAA,kHAAE,EACX,sXACA;QAED,GAAG,KAAK;QACR,GAAI,YAAY,YAAY;YAAE;QAAQ,IAAI,CAAC,CAAC;QAC5C,GAAI,mBAAmB,YAAY;YAAE;QAAe,IAAI,CAAC,CAAC;QAC3D,KAAK;kBAEL,cAAA,8OAAC,2KAAsB;YACrB,WAAW,IAAA,kHAAE,EACX;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,0KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 3673, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/units/columns.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport type { Unit } from './types'\r\nimport type { SystemId } from '@/lib/id-types';\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"../../../components/ui/dropdown-menu\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { Switch } from \"../../../components/ui/switch\";\r\nimport { MoreHorizontal } from \"lucide-react\";\r\nimport type { ColumnDef } from '../../../components/data-table/types';\r\n\r\ninterface ColumnOptions {\r\n  onEdit: (unit: Unit) => void;\r\n  onDelete: (systemId: SystemId) => void;\r\n  onToggleDefault: (unit: Unit, checked: boolean) => void;\r\n  onToggleActive: (unit: Unit) => void;\r\n}\r\n\r\nexport const getUnitColumns = ({\r\n  onEdit,\r\n  onDelete,\r\n  onToggleDefault,\r\n  onToggleActive,\r\n}: ColumnOptions): ColumnDef<Unit>[] => [\r\n  { \r\n    id: \"name\", \r\n    accessorKey: \"name\", \r\n    header: \"Tên đơn vị\", \r\n    cell: ({ row }) => <span className=\"font-medium\">{row.name}</span>, \r\n    meta: { displayName: \"Tên đơn vị\" } \r\n  },\r\n  { \r\n    id: \"description\", \r\n    accessorKey: \"description\", \r\n    header: \"Mô tả\", \r\n    cell: ({ row }) => <span className=\"text-muted-foreground\">{row.description || '—'}</span>, \r\n    meta: { displayName: \"Mô tả\" } \r\n  },\r\n  {\r\n    id: \"isDefault\",\r\n    header: \"Mặc định\",\r\n    cell: ({ row }) => (\r\n      <Switch\r\n        checked={row.isDefault ?? false}\r\n        onCheckedChange={(checked) => onToggleDefault(row, checked)}\r\n        aria-label=\"Đặt làm mặc định\"\r\n      />\r\n    ),\r\n    meta: { displayName: \"Mặc định\" },\r\n    size: 100,\r\n  },\r\n  {\r\n    id: \"isActive\",\r\n    header: \"Hoạt động\",\r\n    cell: ({ row }) => (\r\n      <Switch\r\n        checked={row.isActive !== false}\r\n        onCheckedChange={() => onToggleActive(row)}\r\n        aria-label=\"Bật/tắt hoạt động\"\r\n      />\r\n    ),\r\n    meta: { displayName: \"Hoạt động\" },\r\n    size: 100,\r\n  },\r\n  { \r\n    id: \"actions\", \r\n    header: () => <div className=\"text-right\">Hành động</div>, \r\n    cell: ({ row }) => (\r\n      <div className=\"text-right\">\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\r\n              <MoreHorizontal className=\"h-4 w-4\" />\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            <DropdownMenuItem onSelect={() => onEdit(row)}>\r\n              Sửa\r\n            </DropdownMenuItem>\r\n            <DropdownMenuItem className=\"text-destructive\" onSelect={() => onDelete(row.systemId)}>\r\n              Xóa\r\n            </DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      </div>\r\n    ),\r\n    meta: { displayName: \"Hành động\" }, \r\n    size: 90 \r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;;;;;;AAUO,MAAM,iBAAiB,CAAC,EAC7B,MAAM,EACN,QAAQ,EACR,eAAe,EACf,cAAc,EACA,GAAwB;QACtC;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,8OAAC;oBAAK,WAAU;8BAAe,IAAI,IAAI;;;;;;YAC1D,MAAM;gBAAE,aAAa;YAAa;QACpC;QACA;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,8OAAC;oBAAK,WAAU;8BAAyB,IAAI,WAAW,IAAI;;;;;;YAC/E,MAAM;gBAAE,aAAa;YAAQ;QAC/B;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC,qIAAM;oBACL,SAAS,IAAI,SAAS,IAAI;oBAC1B,iBAAiB,CAAC,UAAY,gBAAgB,KAAK;oBACnD,cAAW;;;;;;YAGf,MAAM;gBAAE,aAAa;YAAW;YAChC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC,qIAAM;oBACL,SAAS,IAAI,QAAQ,KAAK;oBAC1B,iBAAiB,IAAM,eAAe;oBACtC,cAAW;;;;;;YAGf,MAAM;gBAAE,aAAa;YAAY;YACjC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ,kBAAM,8OAAC;oBAAI,WAAU;8BAAa;;;;;;YAC1C,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,qJAAY;;0CACX,8OAAC,4JAAmB;gCAAC,OAAO;0CAC1B,cAAA,8OAAC,qIAAM;oCAAC,SAAQ;oCAAQ,WAAU;8CAChC,cAAA,8OAAC,kOAAc;wCAAC,WAAU;;;;;;;;;;;;;;;;0CAG9B,8OAAC,4JAAmB;gCAAC,OAAM;;kDACzB,8OAAC,yJAAgB;wCAAC,UAAU,IAAM,OAAO;kDAAM;;;;;;kDAG/C,8OAAC,yJAAgB;wCAAC,WAAU;wCAAmB,UAAU,IAAM,SAAS,IAAI,QAAQ;kDAAG;;;;;;;;;;;;;;;;;;;;;;;YAO/F,MAAM;gBAAE,aAAa;YAAY;YACjC,MAAM;QACR;KACD"}},
    {"offset": {"line": 3837, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/product-type-columns.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport type { ProductType } from \"./types\";\r\nimport type { ColumnDef } from \"../../../components/data-table/types\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { Switch } from \"../../../components/ui/switch\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"../../../components/ui/dropdown-menu\";\r\nimport { MoreHorizontal, Pencil, Trash2 } from \"lucide-react\";\r\n\r\ninterface ColumnOptions {\r\n  onEdit: (item: ProductType) => void;\r\n  onDelete: (systemId: ProductType[\"systemId\"]) => void;\r\n  onToggleDefault: (item: ProductType) => void;\r\n  onToggleActive: (item: ProductType) => void;\r\n}\r\n\r\nexport const getProductTypeColumns = ({\r\n  onEdit,\r\n  onDelete,\r\n  onToggleDefault,\r\n  onToggleActive,\r\n}: ColumnOptions): ColumnDef<ProductType>[] => [\r\n  {\r\n    id: \"name\",\r\n    header: \"Tên loại\",\r\n    cell: ({ row }) => <span className=\"font-medium\">{row.name}</span>,\r\n    meta: { displayName: \"Tên loại\" },\r\n  },\r\n  {\r\n    id: \"description\",\r\n    header: \"Mô tả\",\r\n    cell: ({ row }) => (\r\n      <span className=\"text-sm text-muted-foreground\">{row.description || \"—\"}</span>\r\n    ),\r\n    meta: { displayName: \"Mô tả\" },\r\n  },\r\n  {\r\n    id: \"isDefault\",\r\n    header: \"Mặc định\",\r\n    cell: ({ row }) => (\r\n      <Switch\r\n        checked={row.isDefault ?? false}\r\n        onCheckedChange={() => onToggleDefault(row)}\r\n        aria-label=\"Đặt làm mặc định\"\r\n      />\r\n    ),\r\n    meta: { displayName: \"Mặc định\" },\r\n    size: 100,\r\n  },\r\n  {\r\n    id: \"isActive\",\r\n    header: \"Hoạt động\",\r\n    cell: ({ row }) => (\r\n      <Switch\r\n        checked={row.isActive !== false}\r\n        onCheckedChange={() => onToggleActive(row)}\r\n        aria-label=\"Bật/tắt hoạt động\"\r\n      />\r\n    ),\r\n    meta: { displayName: \"Hoạt động\" },\r\n    size: 100,\r\n  },\r\n  {\r\n    id: \"actions\",\r\n    header: () => <div className=\"text-right\">Thao tác</div>,\r\n    cell: ({ row }) => (\r\n      <div className=\"text-right\">\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\r\n              <span className=\"sr-only\">Mở menu</span>\r\n              <MoreHorizontal className=\"h-4 w-4\" />\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            <DropdownMenuLabel>Thao tác</DropdownMenuLabel>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem onSelect={() => onEdit(row)}>\r\n              <Pencil className=\"mr-2 h-4 w-4\" />\r\n              Chỉnh sửa\r\n            </DropdownMenuItem>\r\n            <DropdownMenuItem className=\"text-destructive\" onSelect={() => onDelete(row.systemId)}>\r\n              <Trash2 className=\"mr-2 h-4 w-4\" />\r\n              Xóa\r\n            </DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      </div>\r\n    ),\r\n    size: 100,\r\n    meta: { displayName: \"Thao tác\" },\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAQA;AAAA;AAAA;;;;;;AASO,MAAM,wBAAwB,CAAC,EACpC,MAAM,EACN,QAAQ,EACR,eAAe,EACf,cAAc,EACA,GAA+B;QAC7C;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,8OAAC;oBAAK,WAAU;8BAAe,IAAI,IAAI;;;;;;YAC1D,MAAM;gBAAE,aAAa;YAAW;QAClC;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC;oBAAK,WAAU;8BAAiC,IAAI,WAAW,IAAI;;;;;;YAEtE,MAAM;gBAAE,aAAa;YAAQ;QAC/B;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC,qIAAM;oBACL,SAAS,IAAI,SAAS,IAAI;oBAC1B,iBAAiB,IAAM,gBAAgB;oBACvC,cAAW;;;;;;YAGf,MAAM;gBAAE,aAAa;YAAW;YAChC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC,qIAAM;oBACL,SAAS,IAAI,QAAQ,KAAK;oBAC1B,iBAAiB,IAAM,eAAe;oBACtC,cAAW;;;;;;YAGf,MAAM;gBAAE,aAAa;YAAY;YACjC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ,kBAAM,8OAAC;oBAAI,WAAU;8BAAa;;;;;;YAC1C,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,qJAAY;;0CACX,8OAAC,4JAAmB;gCAAC,OAAO;0CAC1B,cAAA,8OAAC,qIAAM;oCAAC,SAAQ;oCAAQ,WAAU;;sDAChC,8OAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,8OAAC,kOAAc;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAG9B,8OAAC,4JAAmB;gCAAC,OAAM;;kDACzB,8OAAC,0JAAiB;kDAAC;;;;;;kDACnB,8OAAC,8JAAqB;;;;;kDACtB,8OAAC,yJAAgB;wCAAC,UAAU,IAAM,OAAO;;0DACvC,8OAAC,gNAAM;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;kDAGrC,8OAAC,yJAAgB;wCAAC,WAAU;wCAAmB,UAAU,IAAM,SAAS,IAAI,QAAQ;;0DAClF,8OAAC,oNAAM;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;;;;;;;;;;;;;;;;;;YAO7C,MAAM;YACN,MAAM;gBAAE,aAAa;YAAW;QAClC;KACD"}},
    {"offset": {"line": 4041, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/storage-location-columns.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport type { StorageLocation } from \"./storage-location-types\";\r\nimport type { ColumnDef } from \"../../../components/data-table/types\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { Switch } from \"../../../components/ui/switch\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"../../../components/ui/dropdown-menu\";\r\nimport { MoreHorizontal, Pencil, Trash2 } from \"lucide-react\";\r\n\r\ninterface ColumnOptions {\r\n  onEdit: (item: StorageLocation) => void;\r\n  onDelete: (systemId: StorageLocation[\"systemId\"]) => void;\r\n  onToggleDefault: (item: StorageLocation) => void;\r\n  onToggleActive: (item: StorageLocation) => void;\r\n}\r\n\r\nexport const getStorageLocationColumns = ({\r\n  onEdit,\r\n  onDelete,\r\n  onToggleDefault,\r\n  onToggleActive,\r\n}: ColumnOptions): ColumnDef<StorageLocation>[] => [\r\n  {\r\n    id: \"id\",\r\n    header: \"Mã\",\r\n    cell: ({ row }) => <span className=\"font-mono text-sm\">{row.id}</span>,\r\n    meta: { displayName: \"Mã\" },\r\n    size: 120,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    header: \"Tên điểm lưu kho\",\r\n    cell: ({ row }) => <span className=\"font-medium\">{row.name}</span>,\r\n    meta: { displayName: \"Tên điểm lưu kho\" },\r\n  },\r\n  {\r\n    id: \"description\",\r\n    header: \"Mô tả\",\r\n    cell: ({ row }) => (\r\n      <span className=\"text-sm text-muted-foreground\">{row.description || \"—\"}</span>\r\n    ),\r\n    meta: { displayName: \"Mô tả\" },\r\n  },\r\n  {\r\n    id: \"isDefault\",\r\n    header: \"Mặc định\",\r\n    cell: ({ row }) => (\r\n      <Switch\r\n        checked={row.isDefault ?? false}\r\n        onCheckedChange={() => onToggleDefault(row)}\r\n        aria-label=\"Đặt làm mặc định\"\r\n      />\r\n    ),\r\n    meta: { displayName: \"Mặc định\" },\r\n    size: 100,\r\n  },\r\n  {\r\n    id: \"isActive\",\r\n    header: \"Hoạt động\",\r\n    cell: ({ row }) => (\r\n      <Switch\r\n        checked={row.isActive !== false}\r\n        onCheckedChange={() => onToggleActive(row)}\r\n        aria-label=\"Bật/tắt hoạt động\"\r\n      />\r\n    ),\r\n    meta: { displayName: \"Hoạt động\" },\r\n    size: 100,\r\n  },\r\n  {\r\n    id: \"actions\",\r\n    header: () => <div className=\"text-right\">Thao tác</div>,\r\n    cell: ({ row }) => (\r\n      <div className=\"text-right\">\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\r\n              <span className=\"sr-only\">Mở menu</span>\r\n              <MoreHorizontal className=\"h-4 w-4\" />\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            <DropdownMenuLabel>Thao tác</DropdownMenuLabel>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem onSelect={() => onEdit(row)}>\r\n              <Pencil className=\"mr-2 h-4 w-4\" />\r\n              Chỉnh sửa\r\n            </DropdownMenuItem>\r\n            <DropdownMenuItem className=\"text-destructive\" onSelect={() => onDelete(row.systemId)}>\r\n              <Trash2 className=\"mr-2 h-4 w-4\" />\r\n              Xóa\r\n            </DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      </div>\r\n    ),\r\n    size: 100,\r\n    meta: { displayName: \"Thao tác\" },\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAQA;AAAA;AAAA;;;;;;AASO,MAAM,4BAA4B,CAAC,EACxC,MAAM,EACN,QAAQ,EACR,eAAe,EACf,cAAc,EACA,GAAmC;QACjD;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,8OAAC;oBAAK,WAAU;8BAAqB,IAAI,EAAE;;;;;;YAC9D,MAAM;gBAAE,aAAa;YAAK;YAC1B,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,8OAAC;oBAAK,WAAU;8BAAe,IAAI,IAAI;;;;;;YAC1D,MAAM;gBAAE,aAAa;YAAmB;QAC1C;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC;oBAAK,WAAU;8BAAiC,IAAI,WAAW,IAAI;;;;;;YAEtE,MAAM;gBAAE,aAAa;YAAQ;QAC/B;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC,qIAAM;oBACL,SAAS,IAAI,SAAS,IAAI;oBAC1B,iBAAiB,IAAM,gBAAgB;oBACvC,cAAW;;;;;;YAGf,MAAM;gBAAE,aAAa;YAAW;YAChC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC,qIAAM;oBACL,SAAS,IAAI,QAAQ,KAAK;oBAC1B,iBAAiB,IAAM,eAAe;oBACtC,cAAW;;;;;;YAGf,MAAM;gBAAE,aAAa;YAAY;YACjC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ,kBAAM,8OAAC;oBAAI,WAAU;8BAAa;;;;;;YAC1C,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,qJAAY;;0CACX,8OAAC,4JAAmB;gCAAC,OAAO;0CAC1B,cAAA,8OAAC,qIAAM;oCAAC,SAAQ;oCAAQ,WAAU;;sDAChC,8OAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,8OAAC,kOAAc;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAG9B,8OAAC,4JAAmB;gCAAC,OAAM;;kDACzB,8OAAC,0JAAiB;kDAAC;;;;;;kDACnB,8OAAC,8JAAqB;;;;;kDACtB,8OAAC,yJAAgB;wCAAC,UAAU,IAAM,OAAO;;0DACvC,8OAAC,gNAAM;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;kDAGrC,8OAAC,yJAAgB;wCAAC,WAAU;wCAAmB,UAAU,IAAM,SAAS,IAAI,QAAQ;;0DAClF,8OAAC,oNAAM;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;;;;;;;;;;;;;;;;;;YAO7C,MAAM;YACN,MAAM;gBAAE,aAAa;YAAW;QAClC;KACD"}},
    {"offset": {"line": 4261, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border border-border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-h3 font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,0EACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 4346, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { useModal } from \"../../contexts/modal-context\"\r\n\r\ntype BaseSelectProps = React.ComponentPropsWithoutRef<typeof SelectPrimitive.Root>\r\n\r\ntype SelectProps = Omit<BaseSelectProps, \"value\" | \"defaultValue\"> & {\r\n  value?: string | undefined\r\n  defaultValue?: string | undefined\r\n}\r\n\r\nconst Select = ({ value, defaultValue, ...props }: SelectProps) => {\r\n  const controlledProps: Partial<BaseSelectProps> = {}\r\n\r\n  if (value !== undefined) {\r\n    controlledProps.value = value\r\n  }\r\n\r\n  if (defaultValue !== undefined) {\r\n    controlledProps.defaultValue = defaultValue\r\n  }\r\n\r\n  return <SelectPrimitive.Root {...props} {...controlledProps} />\r\n}\r\nSelect.displayName = SelectPrimitive.Root.displayName\r\n\r\nconst SelectGroup = SelectPrimitive.Group\r\n\r\nconst SelectValue = SelectPrimitive.Value\r\n\r\nconst SelectTrigger = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <SelectPrimitive.Icon asChild>\r\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n    </SelectPrimitive.Icon>\r\n  </SelectPrimitive.Trigger>\r\n))\r\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\r\n\r\nconst SelectScrollUpButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollUpButton\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default items-center justify-center py-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ChevronUp className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollUpButton>\r\n))\r\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\r\n\r\nconst SelectScrollDownButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollDownButton\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default items-center justify-center py-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ChevronDown className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollDownButton>\r\n))\r\nSelectScrollDownButton.displayName =\r\n  SelectPrimitive.ScrollDownButton.displayName\r\n\r\nconst SelectContent = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\r\n>(({ className, children, position = \"popper\", ...props }, ref) => {\r\n  const modalId = React.useId();\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n  const { zIndex } = useModal(modalId, isOpen, 'select');\r\n\r\n  React.useEffect(() => {\r\n    const content = ref && 'current' in ref ? ref.current : null;\r\n    if (!content) return;\r\n\r\n    const observer = new MutationObserver((mutations) => {\r\n      mutations.forEach((mutation) => {\r\n        if (mutation.type === 'attributes' && mutation.attributeName === 'data-state') {\r\n          const target = mutation.target as HTMLElement;\r\n          const state = target.getAttribute('data-state');\r\n          setIsOpen(state === 'open');\r\n        }\r\n      });\r\n    });\r\n\r\n    observer.observe(content, { attributes: true, attributeFilter: ['data-state'] });\r\n\r\n    return () => observer.disconnect();\r\n  }, [ref]);\r\n\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        ref={ref}\r\n        className={cn(\r\n          \"relative max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\r\n          position === \"popper\" &&\r\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n          className\r\n        )}\r\n        style={{ zIndex }}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            \"p-1\",\r\n            position === \"popper\" &&\r\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  );\r\n})\r\nSelectContent.displayName = SelectPrimitive.Content.displayName\r\n\r\nconst SelectLabel = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSelectLabel.displayName = SelectPrimitive.Label.displayName\r\n\r\nconst SelectItem = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <SelectPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </SelectPrimitive.ItemIndicator>\r\n    </span>\r\n\r\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n  </SelectPrimitive.Item>\r\n))\r\nSelectItem.displayName = SelectPrimitive.Item.displayName\r\n\r\nconst SelectSeparator = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\r\n\r\nexport {\r\n  Select,\r\n  SelectGroup,\r\n  SelectValue,\r\n  SelectTrigger,\r\n  SelectContent,\r\n  SelectLabel,\r\n  SelectItem,\r\n  SelectSeparator,\r\n  SelectScrollUpButton,\r\n  SelectScrollDownButton,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;;;;;;;AASA,MAAM,SAAS,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,OAAoB;IAC5D,MAAM,kBAA4C,CAAC;IAEnD,IAAI,UAAU,WAAW;QACvB,gBAAgB,KAAK,GAAG;IAC1B;IAEA,IAAI,iBAAiB,WAAW;QAC9B,gBAAgB,YAAY,GAAG;IACjC;IAEA,qBAAO,8OAAC,0KAAoB;QAAE,GAAG,KAAK;QAAG,GAAG,eAAe;;;;;;AAC7D;AACA,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,yTACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6NAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE;IACzD,MAAM,UAAU,8MAAW;IAC3B,MAAM,CAAC,QAAQ,UAAU,GAAG,iNAAc,CAAC;IAC3C,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,yIAAQ,EAAC,SAAS,QAAQ;IAE7C,kNAAe,CAAC;QACd,MAAM,UAAU,OAAO,aAAa,MAAM,IAAI,OAAO,GAAG;QACxD,IAAI,CAAC,SAAS;QAEd,MAAM,WAAW,IAAI,iBAAiB,CAAC;YACrC,UAAU,OAAO,CAAC,CAAC;gBACjB,IAAI,SAAS,IAAI,KAAK,gBAAgB,SAAS,aAAa,KAAK,cAAc;oBAC7E,MAAM,SAAS,SAAS,MAAM;oBAC9B,MAAM,QAAQ,OAAO,YAAY,CAAC;oBAClC,UAAU,UAAU;gBACtB;YACF;QACF;QAEA,SAAS,OAAO,CAAC,SAAS;YAAE,YAAY;YAAM,iBAAiB;gBAAC;aAAa;QAAC;QAE9E,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG;QAAC;KAAI;IAER,qBACE,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,kHAAE,EACX,0jBACA,aAAa,YACX,mIACF;YAEF,OAAO;gBAAE;YAAO;YAChB,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIT;AACA,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW"}},
    {"offset": {"line": 4594, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/alert-dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { buttonVariants } from \"./button\"\r\n\r\nconst AlertDialog = AlertDialogPrimitive.Root\r\n\r\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\r\n\r\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\r\n\r\nconst AlertDialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80 transition-opacity duration-200 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:opacity-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\r\n\r\nconst AlertDialogContent = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPortal>\r\n    <AlertDialogOverlay />\r\n    <AlertDialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg transition-opacity duration-200 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:opacity-0 sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </AlertDialogPortal>\r\n))\r\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\r\n\r\nconst AlertDialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\r\n\r\nconst AlertDialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\r\n\r\nconst AlertDialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\r\n\r\nconst AlertDialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogDescription.displayName =\r\n  AlertDialogPrimitive.Description.displayName\r\n\r\nconst AlertDialogAction = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Action\r\n    ref={ref}\r\n    className={cn(buttonVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\r\n\r\nconst AlertDialogCancel = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Cancel\r\n    ref={ref}\r\n    className={cn(\r\n      buttonVariants({ variant: \"outline\" }),\r\n      \"mt-2 sm:mt-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\r\n\r\nexport {\r\n  AlertDialog,\r\n  AlertDialogPortal,\r\n  AlertDialogOverlay,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogFooter,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,cAAc,mLAAyB;AAE7C,MAAM,qBAAqB,sLAA4B;AAEvD,MAAM,oBAAoB,qLAA2B;AAErD,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAA4B;QAC3B,WAAW,IAAA,kHAAE,EACX,wIACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,yQACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,uBAAuB,WAAW,GAChC,0LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,IAAA,6IAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,IAAA,6IAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 4729, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Table = React.forwardRef<\r\n  HTMLTableElement,\r\n  React.HTMLAttributes<HTMLTableElement>\r\n>(({ className, ...props }, ref) => (\r\n    <table\r\n      ref={ref}\r\n      className={cn(\"w-full caption-bottom text-sm\", className)}\r\n      {...props}\r\n    />\r\n))\r\nTable.displayName = \"Table\"\r\n\r\nconst TableHeader = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <thead ref={ref} className={cn(\"[&_tr]:border-b [&_tr]:border-border\", className)} {...props} />\r\n))\r\nTableHeader.displayName = \"TableHeader\"\r\n\r\nconst TableBody = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tbody\r\n    ref={ref}\r\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableBody.displayName = \"TableBody\"\r\n\r\nconst TableFooter = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tfoot\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-t border-border bg-muted/50 font-medium [&>tr]:last:border-b-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableFooter.displayName = \"TableFooter\"\r\n\r\nconst TableRow = React.forwardRef<\r\n  HTMLTableRowElement,\r\n  React.HTMLAttributes<HTMLTableRowElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tr\r\n    ref={ref}\r\n    className={cn(\r\n      \"group border-b border-border transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableRow.displayName = \"TableRow\"\r\n\r\nconst TableHead = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.ThHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <th\r\n    ref={ref}\r\n    className={cn(\r\n      \"h-9 px-4 text-left align-middle font-medium text-foreground [&:has([role=checkbox])]:px-3 [&:has([role=checkbox])]:w-12 [&:has([role=checkbox])]:text-center whitespace-nowrap\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableHead.displayName = \"TableHead\"\r\n\r\nconst TableCell = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.TdHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <td\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-4 py-1 align-middle whitespace-nowrap [&:has([role=checkbox])]:px-3 [&:has([role=checkbox])]:w-12 [&:has([role=checkbox])]:text-center\", \r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableCell.displayName = \"TableCell\"\r\n\r\nconst TableCaption = React.forwardRef<\r\n  HTMLTableCaptionElement,\r\n  React.HTMLAttributes<HTMLTableCaptionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <caption\r\n    ref={ref}\r\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableCaption.displayName = \"TableCaption\"\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAM,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,wCAAwC;QAAa,GAAG,KAAK;;;;;;AAE9F,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,yEACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,mGACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,kLACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,6IACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 4838, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SimpleSettingsTable.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"../ui/table\";\r\nimport type { ColumnDef } from \"../data-table/types\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\ninterface SimpleSettingsTableProps<TData extends { systemId: string }> {\r\n  data: TData[];\r\n  columns: ColumnDef<TData>[];\r\n  emptyTitle: string;\r\n  emptyDescription?: string;\r\n  emptyAction?: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport function SimpleSettingsTable<TData extends { systemId: string }>(\r\n  props: SimpleSettingsTableProps<TData>\r\n) {\r\n  const { data, columns, emptyTitle, emptyDescription, emptyAction, className } = props;\r\n\r\n  const renderedColumns = React.useMemo(() => columns.filter(Boolean), [columns]);\r\n  const colSpan = Math.max(renderedColumns.length, 1);\r\n\r\n  const renderHeader = (column: ColumnDef<TData>) => {\r\n    if (typeof column.header === \"function\") {\r\n      return column.header({\r\n        isAllPageRowsSelected: false,\r\n        isSomePageRowsSelected: false,\r\n        onToggleAll: () => {},\r\n        setSorting: () => {},\r\n      });\r\n    }\r\n    return column.header;\r\n  };\r\n\r\n  const renderCell = (column: ColumnDef<TData>, row: TData) =>\r\n    column.cell({\r\n      row,\r\n      isSelected: false,\r\n      isExpanded: false,\r\n      onToggleSelect: () => {},\r\n      onToggleExpand: () => {},\r\n    });\r\n\r\n  return (\r\n    <div className={cn(\"overflow-x-auto\", className)}>\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            {renderedColumns.map((column) => (\r\n              <TableHead key={column.id} style={column.size ? { width: column.size } : undefined}>\r\n                {renderHeader(column)}\r\n              </TableHead>\r\n            ))}\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {data.length === 0 ? (\r\n            <TableRow>\r\n              <TableCell colSpan={colSpan} className=\"h-24 text-center\">\r\n                <div className=\"space-y-2\">\r\n                  <p className=\"font-medium text-muted-foreground\">{emptyTitle}</p>\r\n                  {emptyDescription ? (\r\n                    <p className=\"text-sm text-muted-foreground\">{emptyDescription}</p>\r\n                  ) : null}\r\n                  {emptyAction}\r\n                </div>\r\n              </TableCell>\r\n            </TableRow>\r\n          ) : (\r\n            data.map((item) => (\r\n              <TableRow key={item.systemId}>\r\n                {renderedColumns.map((column) => (\r\n                  <TableCell key={column.id}>{renderCell(column, item)}</TableCell>\r\n                ))}\r\n              </TableRow>\r\n            ))\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AASA;;;;;AAWO,SAAS,oBACd,KAAsC;IAEtC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,gBAAgB,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG;IAEhF,MAAM,kBAAkB,gNAAa,CAAC,IAAM,QAAQ,MAAM,CAAC,UAAU;QAAC;KAAQ;IAC9E,MAAM,UAAU,KAAK,GAAG,CAAC,gBAAgB,MAAM,EAAE;IAEjD,MAAM,eAAe,CAAC;QACpB,IAAI,OAAO,OAAO,MAAM,KAAK,YAAY;YACvC,OAAO,OAAO,MAAM,CAAC;gBACnB,uBAAuB;gBACvB,wBAAwB;gBACxB,aAAa,KAAO;gBACpB,YAAY,KAAO;YACrB;QACF;QACA,OAAO,OAAO,MAAM;IACtB;IAEA,MAAM,aAAa,CAAC,QAA0B,MAC5C,OAAO,IAAI,CAAC;YACV;YACA,YAAY;YACZ,YAAY;YACZ,gBAAgB,KAAO;YACvB,gBAAgB,KAAO;QACzB;IAEF,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,mBAAmB;kBACpC,cAAA,8OAAC,mIAAK;;8BACJ,8OAAC,yIAAW;8BACV,cAAA,8OAAC,sIAAQ;kCACN,gBAAgB,GAAG,CAAC,CAAC,uBACpB,8OAAC,uIAAS;gCAAiB,OAAO,OAAO,IAAI,GAAG;oCAAE,OAAO,OAAO,IAAI;gCAAC,IAAI;0CACtE,aAAa;+BADA,OAAO,EAAE;;;;;;;;;;;;;;;8BAM/B,8OAAC,uIAAS;8BACP,KAAK,MAAM,KAAK,kBACf,8OAAC,sIAAQ;kCACP,cAAA,8OAAC,uIAAS;4BAAC,SAAS;4BAAS,WAAU;sCACrC,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAqC;;;;;;oCACjD,iCACC,8OAAC;wCAAE,WAAU;kDAAiC;;;;;+CAC5C;oCACH;;;;;;;;;;;;;;;;+BAKP,KAAK,GAAG,CAAC,CAAC,qBACR,8OAAC,sIAAQ;sCACN,gBAAgB,GAAG,CAAC,CAAC,uBACpB,8OAAC,uIAAS;8CAAkB,WAAW,QAAQ;mCAA/B,OAAO,EAAE;;;;;2BAFd,KAAK,QAAQ;;;;;;;;;;;;;;;;;;;;;AAW1C"}},
    {"offset": {"line": 4974, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SettingsActionButton.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Button, type ButtonProps } from '../ui/button';\r\nimport { cn } from '../../lib/utils';\r\n\r\n/**\r\n * SettingsActionButton chuẩn hóa các nút hành động của module Cài đặt\r\n * để luôn tuân thủ chiều cao h-9 và padding đồng nhất.\r\n */\r\nexport const SettingsActionButton = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, size, children, ...props }, ref) => {\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size={size ?? 'sm'}\r\n        className={cn('h-9 px-4 font-medium gap-2', className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nSettingsActionButton.displayName = 'SettingsActionButton';\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAMO,MAAM,qCAAuB,mNAAgB,CAClD,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACxC,qBACE,8OAAC,qIAAM;QACL,KAAK;QACL,MAAM,QAAQ;QACd,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;kBAER;;;;;;AAGP;AAGF,qBAAqB,WAAW,GAAG"}},
    {"offset": {"line": 5004, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SettingsVerticalTabs.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Tabs, TabsList, TabsTrigger } from \"../ui/tabs\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\ntype SettingsVerticalTabsItem = {\r\n  value: string;\r\n  label: React.ReactNode;\r\n  disabled?: boolean;\r\n  className?: string;\r\n};\r\n\r\ntype SettingsVerticalTabsProps = {\r\n  value: string;\r\n  onValueChange: (value: string) => void;\r\n  tabs: SettingsVerticalTabsItem[];\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  listClassName?: string;\r\n  contentWrapperClassName?: string;\r\n};\r\n\r\n/**\r\n * Shared layout for Settings pages that need sticky vertical tabs.\r\n * Uses shadcn/ui Tabs component with custom styling for vertical layout on desktop.\r\n */\r\nexport function SettingsVerticalTabs({\r\n  value,\r\n  onValueChange,\r\n  tabs,\r\n  children,\r\n  className,\r\n  listClassName,\r\n  contentWrapperClassName,\r\n}: SettingsVerticalTabsProps) {\r\n  return (\r\n    <Tabs \r\n      value={value} \r\n      onValueChange={onValueChange} \r\n      className={cn(\"flex flex-col md:flex-row md:gap-8\", className)}\r\n    >\r\n      {/* Mobile: horizontal scrollable tabs, Desktop: vertical sidebar */}\r\n      <TabsList\r\n        className={cn(\r\n          // Base styles\r\n          \"h-auto w-full justify-start rounded-lg bg-muted p-1\",\r\n          // Mobile: horizontal with scroll\r\n          \"flex flex-row gap-1 overflow-x-auto\",\r\n          // Desktop: vertical sidebar\r\n          \"md:flex-col md:w-[200px] md:shrink-0 md:bg-transparent md:p-0\",\r\n          \"md:sticky md:top-6 md:self-start\",\r\n          listClassName,\r\n        )}\r\n      >\r\n        {tabs.map((tab) => (\r\n          <TabsTrigger\r\n            key={tab.value}\r\n            value={tab.value}\r\n            disabled={tab.disabled}\r\n            className={cn(\r\n              // Mobile: compact horizontal tabs\r\n              \"flex-shrink-0 px-3 py-1.5 text-sm text-foreground\",\r\n              // Desktop: full-width vertical tabs\r\n              \"md:w-full md:justify-start md:px-4 md:py-2\",\r\n              \"md:data-[state=active]:bg-muted md:data-[state=active]:shadow-none\",\r\n              tab.className\r\n            )}\r\n          >\r\n            {tab.label}\r\n          </TabsTrigger>\r\n        ))}\r\n      </TabsList>\r\n      \r\n      {/* Content area */}\r\n      <div className={cn(\r\n        \"flex-1 min-w-0 mt-4 md:mt-0\",\r\n        contentWrapperClassName\r\n      )}>\r\n        {children}\r\n      </div>\r\n    </Tabs>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAuBO,SAAS,qBAAqB,EACnC,KAAK,EACL,aAAa,EACb,IAAI,EACJ,QAAQ,EACR,SAAS,EACT,aAAa,EACb,uBAAuB,EACG;IAC1B,qBACE,8OAAC,iIAAI;QACH,OAAO;QACP,eAAe;QACf,WAAW,IAAA,kHAAE,EAAC,sCAAsC;;0BAGpD,8OAAC,qIAAQ;gBACP,WAAW,IAAA,kHAAE,EACX,cAAc;gBACd,uDACA,iCAAiC;gBACjC,uCACA,4BAA4B;gBAC5B,iEACA,oCACA;0BAGD,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC,wIAAW;wBAEV,OAAO,IAAI,KAAK;wBAChB,UAAU,IAAI,QAAQ;wBACtB,WAAW,IAAA,kHAAE,EACX,kCAAkC;wBAClC,qDACA,oCAAoC;wBACpC,8CACA,sEACA,IAAI,SAAS;kCAGd,IAAI,KAAK;uBAZL,IAAI,KAAK;;;;;;;;;;0BAkBpB,8OAAC;gBAAI,WAAW,IAAA,kHAAE,EAChB,+BACA;0BAEC;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 5061, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/use-tab-action-registry.ts"],"sourcesContent":["import * as React from 'react';\r\n\r\nexport type RegisterTabActions = (actions?: React.ReactNode[]) => void;\r\n\r\nexport type TabActionRegistry = {\r\n  headerActions: React.ReactNode[];\r\n  registerActions: (tabValue: string) => RegisterTabActions;\r\n  setHeaderActions: React.Dispatch<React.SetStateAction<React.ReactNode[]>>;\r\n};\r\n\r\nexport function useTabActionRegistry(activeTab: string): TabActionRegistry {\r\n  const [headerActions, setHeaderActions] = React.useState<React.ReactNode[]>([]);\r\n\r\n  const registerActions = React.useCallback(\r\n    (tabValue: string) => (actions?: React.ReactNode[]) => {\r\n      if (tabValue === activeTab) {\r\n        setHeaderActions(actions ?? []);\r\n      }\r\n    },\r\n    [activeTab],\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    setHeaderActions([]);\r\n  }, [activeTab]);\r\n\r\n  return {\r\n    headerActions,\r\n    registerActions,\r\n    setHeaderActions,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAUO,SAAS,qBAAqB,SAAiB;IACpD,MAAM,CAAC,eAAe,iBAAiB,GAAG,iNAAc,CAAoB,EAAE;IAE9E,MAAM,kBAAkB,oNAAiB,CACvC,CAAC,WAAqB,CAAC;YACrB,IAAI,aAAa,WAAW;gBAC1B,iBAAiB,WAAW,EAAE;YAChC;QACF,GACA;QAAC;KAAU;IAGb,kNAAe,CAAC;QACd,iBAAiB,EAAE;IACrB,GAAG;QAAC;KAAU;IAEd,OAAO;QACL;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 5097, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/importer-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { nanoid } from 'nanoid';\r\nimport { asSystemId, type SystemId } from '@/lib/id-types';\r\nimport type { Importer } from './types';\r\n\r\n// API sync helper\r\nasync function syncToAPI(action: 'create' | 'update' | 'delete', data: Partial<Importer>): Promise<boolean> {\r\n  try {\r\n    const endpoint = action === 'create' ? '/api/settings/importers' : `/api/settings/importers/${data.systemId}`;\r\n    const method = action === 'create' ? 'POST' : action === 'update' ? 'PATCH' : 'DELETE';\r\n    const response = await fetch(endpoint, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: action !== 'delete' ? JSON.stringify(data) : undefined,\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error(`[Importer API] ${action} error:`, error);\r\n    return false;\r\n  }\r\n}\r\n\r\ninterface ImporterState {\r\n  data: Importer[];\r\n  initialized: boolean;\r\n  add: (importer: Omit<Importer, 'systemId' | 'createdAt' | 'updatedAt'>) => void;\r\n  update: (systemId: SystemId, importer: Partial<Importer>) => void;\r\n  remove: (systemId: SystemId) => void;\r\n  setDefault: (systemId: SystemId) => void;\r\n  getActive: () => Importer[];\r\n  getDefault: () => Importer | undefined;\r\n  findById: (systemId: SystemId) => Importer | undefined;\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nexport const useImporterStore = create<ImporterState>()(\r\n  (set, get) => ({\r\n    data: [],\r\n    initialized: false,\r\n    \r\n    add: (importer) => {\r\n      // Nếu đây là item đầu tiên hoặc isDefault = true, set làm default\r\n      const isFirstItem = get().data.filter(d => !d.isDeleted).length === 0;\r\n      const shouldBeDefault = isFirstItem || importer.isDefault;\r\n      \r\n      // Nếu item mới là default, bỏ default của các item khác\r\n      const updatedData = shouldBeDefault\r\n        ? get().data.map(item => ({ ...item, isDefault: false }))\r\n        : get().data;\r\n      \r\n      const newItem: Importer = {\r\n        ...importer,\r\n        systemId: asSystemId(nanoid()),\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n        isActive: importer.isActive ?? true,\r\n        isDefault: shouldBeDefault,\r\n        isDeleted: false,\r\n      };\r\n      \r\n      set({ data: [...updatedData, newItem] });\r\n      syncToAPI('create', newItem).catch(console.error);\r\n    },\r\n    \r\n    update: (systemId, importer) => {\r\n      set((state) => ({\r\n        data: state.data.map((item) =>\r\n          item.systemId === systemId\r\n            ? { ...item, ...importer, updatedAt: new Date().toISOString() }\r\n            : item\r\n        ),\r\n      }));\r\n      const updated = get().data.find(i => i.systemId === systemId);\r\n      if (updated) syncToAPI('update', updated).catch(console.error);\r\n    },\r\n    \r\n    remove: (systemId) => {\r\n      set((state) => ({\r\n        data: state.data.map((item) =>\r\n          item.systemId === systemId\r\n            ? { ...item, isDeleted: true, updatedAt: new Date().toISOString() }\r\n            : item\r\n        ),\r\n      }));\r\n      syncToAPI('delete', { systemId }).catch(console.error);\r\n    },\r\n    \r\n    setDefault: (systemId) => {\r\n      set((state) => ({\r\n        data: state.data.map((item) => ({\r\n          ...item,\r\n          isDefault: item.systemId === systemId,\r\n          updatedAt: item.systemId === systemId ? new Date().toISOString() : item.updatedAt,\r\n        })),\r\n      }));\r\n      const updated = get().data.find(i => i.systemId === systemId);\r\n      if (updated) syncToAPI('update', updated).catch(console.error);\r\n    },\r\n    \r\n    getActive: () => get().data.filter((item) => !item.isDeleted && item.isActive),\r\n    \r\n    getDefault: () => get().data.find((item) => !item.isDeleted && item.isDefault),\r\n    \r\n    findById: (systemId) => get().data.find((item) => item.systemId === systemId),\r\n    \r\n    loadFromAPI: async () => {\r\n      if (get().initialized) return;\r\n      try {\r\n        // NOTE: Settings data is typically small, but using limit for consistency\r\n        const response = await fetch('/api/settings/importers?limit=100');\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const data = json.data || [];\r\n          set({ data: data.length > 0 ? data : [], initialized: true });\r\n        } else {\r\n          set({ initialized: true });\r\n        }\r\n      } catch (error) {\r\n        console.error('[Importer Store] loadFromAPI error:', error);\r\n      }\r\n    },\r\n  })\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAGA,kBAAkB;AAClB,eAAe,UAAU,MAAsC,EAAE,IAAuB;IACtF,IAAI;QACF,MAAM,WAAW,WAAW,WAAW,4BAA4B,CAAC,wBAAwB,EAAE,KAAK,QAAQ,EAAE;QAC7G,MAAM,SAAS,WAAW,WAAW,SAAS,WAAW,WAAW,UAAU;QAC9E,MAAM,WAAW,MAAM,MAAM,UAAU;YACrC;YACA,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,WAAW,WAAW,KAAK,SAAS,CAAC,QAAQ;QACrD;QACA,OAAO,SAAS,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,eAAe,EAAE,OAAO,OAAO,CAAC,EAAE;QACjD,OAAO;IACT;AACF;AAeO,MAAM,mBAAmB,IAAA,kJAAM,IACpC,CAAC,KAAK,MAAQ,CAAC;QACb,MAAM,EAAE;QACR,aAAa;QAEb,KAAK,CAAC;YACJ,kEAAkE;YAClE,MAAM,cAAc,MAAM,IAAI,CAAC,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,SAAS,EAAE,MAAM,KAAK;YACpE,MAAM,kBAAkB,eAAe,SAAS,SAAS;YAEzD,wDAAwD;YACxD,MAAM,cAAc,kBAChB,MAAM,IAAI,CAAC,GAAG,CAAC,CAAA,OAAQ,CAAC;oBAAE,GAAG,IAAI;oBAAE,WAAW;gBAAM,CAAC,KACrD,MAAM,IAAI;YAEd,MAAM,UAAoB;gBACxB,GAAG,QAAQ;gBACX,UAAU,IAAA,gIAAU,EAAC,IAAA,yJAAM;gBAC3B,WAAW,IAAI,OAAO,WAAW;gBACjC,WAAW,IAAI,OAAO,WAAW;gBACjC,UAAU,SAAS,QAAQ,IAAI;gBAC/B,WAAW;gBACX,WAAW;YACb;YAEA,IAAI;gBAAE,MAAM;uBAAI;oBAAa;iBAAQ;YAAC;YACtC,UAAU,UAAU,SAAS,KAAK,CAAC,QAAQ,KAAK;QAClD;QAEA,QAAQ,CAAC,UAAU;YACjB,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,OACpB,KAAK,QAAQ,KAAK,WACd;4BAAE,GAAG,IAAI;4BAAE,GAAG,QAAQ;4BAAE,WAAW,IAAI,OAAO,WAAW;wBAAG,IAC5D;gBAER,CAAC;YACD,MAAM,UAAU,MAAM,IAAI,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;YACpD,IAAI,SAAS,UAAU,UAAU,SAAS,KAAK,CAAC,QAAQ,KAAK;QAC/D;QAEA,QAAQ,CAAC;YACP,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,OACpB,KAAK,QAAQ,KAAK,WACd;4BAAE,GAAG,IAAI;4BAAE,WAAW;4BAAM,WAAW,IAAI,OAAO,WAAW;wBAAG,IAChE;gBAER,CAAC;YACD,UAAU,UAAU;gBAAE;YAAS,GAAG,KAAK,CAAC,QAAQ,KAAK;QACvD;QAEA,YAAY,CAAC;YACX,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,OAAS,CAAC;4BAC9B,GAAG,IAAI;4BACP,WAAW,KAAK,QAAQ,KAAK;4BAC7B,WAAW,KAAK,QAAQ,KAAK,WAAW,IAAI,OAAO,WAAW,KAAK,KAAK,SAAS;wBACnF,CAAC;gBACH,CAAC;YACD,MAAM,UAAU,MAAM,IAAI,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;YACpD,IAAI,SAAS,UAAU,UAAU,SAAS,KAAK,CAAC,QAAQ,KAAK;QAC/D;QAEA,WAAW,IAAM,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,OAAS,CAAC,KAAK,SAAS,IAAI,KAAK,QAAQ;QAE7E,YAAY,IAAM,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,OAAS,CAAC,KAAK,SAAS,IAAI,KAAK,SAAS;QAE7E,UAAU,CAAC,WAAa,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,QAAQ,KAAK;QAEpE,aAAa;YACX,IAAI,MAAM,WAAW,EAAE;YACvB,IAAI;gBACF,0EAA0E;gBAC1E,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,MAAM,OAAO,KAAK,IAAI,IAAI,EAAE;oBAC5B,IAAI;wBAAE,MAAM,KAAK,MAAM,GAAG,IAAI,OAAO,EAAE;wBAAE,aAAa;oBAAK;gBAC7D,OAAO;oBACL,IAAI;wBAAE,aAAa;oBAAK;gBAC1B;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,uCAAuC;YACvD;QACF;IACF,CAAC"}},
    {"offset": {"line": 5217, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/importer-form-dialog.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport type { Importer } from \"./types\";\r\n\r\nconst importerFormSchema = z.object({\r\n  id: z.string()\r\n    .min(1, \"Mã đơn vị là bắt buộc\")\r\n    .max(50, \"Mã đơn vị không được quá 50 ký tự\")\r\n    .regex(/^[A-Z0-9-_]+$/, \"Mã chỉ được chứa chữ in hoa, số, gạch ngang và gạch dưới\"),\r\n  name: z.string()\r\n    .min(1, \"Tên đơn vị là bắt buộc\")\r\n    .max(200, \"Tên đơn vị không được quá 200 ký tự\"),\r\n  address: z.string().max(500, \"Địa chỉ không được quá 500 ký tự\").optional(),\r\n  origin: z.string().max(100, \"Xuất xứ không được quá 100 ký tự\").optional(),\r\n  phone: z.string().max(20, \"Số điện thoại không được quá 20 ký tự\").optional(),\r\n  email: z.string().email(\"Email không hợp lệ\").optional().or(z.literal(\"\")),\r\n  taxCode: z.string().max(20, \"Mã số thuế không được quá 20 ký tự\").optional(),\r\n  usageGuide: z.string().max(500, \"Hướng dẫn sử dụng không được quá 500 ký tự\").optional(),\r\n  isDefault: z.boolean(),\r\n  isActive: z.boolean(),\r\n});\r\n\r\nexport type ImporterFormValues = z.infer<typeof importerFormSchema>;\r\n\r\ninterface ImporterFormDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  initialData: Importer | null;\r\n  onSubmit: (values: ImporterFormValues) => void;\r\n  existingIds: string[];\r\n}\r\n\r\nexport function ImporterFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: ImporterFormDialogProps) {\r\n  const form = useForm<ImporterFormValues>({\r\n    resolver: zodResolver(importerFormSchema),\r\n    defaultValues: {\r\n      id: \"\",\r\n      name: \"\",\r\n      address: \"\",\r\n      origin: \"\",\r\n      phone: \"\",\r\n      email: \"\",\r\n      taxCode: \"\",\r\n      usageGuide: \"\",\r\n      isDefault: false,\r\n      isActive: true,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      if (initialData) {\r\n        form.reset({\r\n          id: initialData.id,\r\n          name: initialData.name,\r\n          address: initialData.address || \"\",\r\n          origin: initialData.origin || \"\",\r\n          phone: initialData.phone || \"\",\r\n          email: initialData.email || \"\",\r\n          taxCode: initialData.taxCode || \"\",\r\n          usageGuide: initialData.usageGuide || \"\",\r\n          isDefault: initialData.isDefault ?? false,\r\n          isActive: initialData.isActive ?? true,\r\n        });\r\n      } else {\r\n        form.reset({\r\n          id: \"\",\r\n          name: \"\",\r\n          address: \"\",\r\n          origin: \"\",\r\n          phone: \"\",\r\n          email: \"\",\r\n          taxCode: \"\",\r\n          usageGuide: \"\",\r\n          isDefault: false,\r\n          isActive: true,\r\n        });\r\n      }\r\n    }\r\n  }, [open, initialData, form]);\r\n\r\n  const handleSubmit = (values: ImporterFormValues) => {\r\n    // Validate unique ID\r\n    if (!initialData && existingIds.includes(values.id)) {\r\n      form.setError(\"id\", {\r\n        type: \"manual\",\r\n        message: \"Mã đơn vị đã tồn tại\",\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (initialData && initialData.id !== values.id && existingIds.includes(values.id)) {\r\n      form.setError(\"id\", {\r\n        type: \"manual\",\r\n        message: \"Mã đơn vị đã tồn tại\",\r\n      });\r\n      return;\r\n    }\r\n    \r\n    onSubmit(values);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>\r\n            {initialData ? \"Chỉnh sửa đơn vị nhập khẩu\" : \"Thêm đơn vị nhập khẩu mới\"}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {initialData\r\n              ? \"Cập nhật thông tin đơn vị nhập khẩu\"\r\n              : \"Điền thông tin để thêm đơn vị nhập khẩu mới\"}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"id\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Mã đơn vị *</FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        placeholder=\"VD: NK001\"\r\n                        {...field}\r\n                        onChange={(e) => field.onChange(e.target.value.toUpperCase())}\r\n                        disabled={!!initialData}\r\n                      />\r\n                    </FormControl>\r\n                    <FormDescription>\r\n                      Chỉ chứa chữ in hoa, số, gạch ngang\r\n                    </FormDescription>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"taxCode\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Mã số thuế</FormLabel>\r\n                    <FormControl>\r\n                      <Input placeholder=\"VD: 0123456789\" {...field} />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên đơn vị *</FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: CÔNG TY TNHH XNK ABC\" {...field} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"address\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Địa chỉ</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea\r\n                      placeholder=\"Địa chỉ đầy đủ của đơn vị nhập khẩu\"\r\n                      className=\"resize-none\"\r\n                      rows={2}\r\n                      {...field}\r\n                    />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"origin\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Xuất xứ mặc định</FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: Trung Quốc, Việt Nam, ...\" {...field} />\r\n                  </FormControl>\r\n                  <FormDescription>\r\n                    Xuất xứ này sẽ được sử dụng mặc định khi in tem phụ sản phẩm\r\n                  </FormDescription>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"phone\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Số điện thoại</FormLabel>\r\n                    <FormControl>\r\n                      <Input placeholder=\"VD: 0912345678\" {...field} />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"email\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Email</FormLabel>\r\n                    <FormControl>\r\n                      <Input placeholder=\"VD: info@company.com\" {...field} />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"usageGuide\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Hướng dẫn sử dụng mặc định</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea\r\n                      placeholder=\"VD: Bên trong bao bì SP\"\r\n                      className=\"resize-none\"\r\n                      rows={2}\r\n                      {...field}\r\n                    />\r\n                  </FormControl>\r\n                  <FormDescription>\r\n                    Hướng dẫn này sẽ được sử dụng mặc định khi in tem phụ sản phẩm\r\n                  </FormDescription>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <div className=\"flex items-center gap-6\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"isDefault\"\r\n                render={({ field }) => (\r\n                  <FormItem className=\"flex flex-row items-center gap-2 space-y-0\">\r\n                    <FormControl>\r\n                      <Switch\r\n                        checked={field.value}\r\n                        onCheckedChange={field.onChange}\r\n                      />\r\n                    </FormControl>\r\n                    <FormLabel className=\"cursor-pointer\">Mặc định</FormLabel>\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"isActive\"\r\n                render={({ field }) => (\r\n                  <FormItem className=\"flex flex-row items-center gap-2 space-y-0\">\r\n                    <FormControl>\r\n                      <Switch\r\n                        checked={field.value}\r\n                        onCheckedChange={field.onChange}\r\n                      />\r\n                    </FormControl>\r\n                    <FormLabel className=\"cursor-pointer\">Hoạt động</FormLabel>\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\">\r\n                {initialData ? \"Cập nhật\" : \"Thêm mới\"}\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5879, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/importer-columns.tsx"],"sourcesContent":["import { ColumnDef } from \"@/components/data-table/types\";\r\nimport { MoreHorizontal, Pencil, Trash } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport type { Importer } from \"./types\";\r\nimport type { SystemId } from \"@/lib/id-types\";\r\n\r\ninterface GetImporterColumnsProps {\r\n  onEdit: (importer: Importer) => void;\r\n  onDelete: (systemId: SystemId) => void;\r\n  onToggleActive: (importer: Importer) => void;\r\n  onToggleDefault: (importer: Importer) => void;\r\n}\r\n\r\nexport const getImporterColumns = ({\r\n  onEdit,\r\n  onDelete,\r\n  onToggleActive,\r\n  onToggleDefault,\r\n}: GetImporterColumnsProps): ColumnDef<Importer>[] => [\r\n  {\r\n    id: \"name\",\r\n    accessorKey: \"name\",\r\n    header: \"Tên đơn vị\",\r\n    cell: ({ row }) => (\r\n      <div>\r\n        <div className=\"font-medium\">{row.name}</div>\r\n        {row.taxCode && (\r\n          <div className=\"text-xs text-muted-foreground\">MST: {row.taxCode}</div>\r\n        )}\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    id: \"address\",\r\n    accessorKey: \"address\",\r\n    header: \"Địa chỉ\",\r\n    cell: ({ row }) => {\r\n      const address = row.address;\r\n      return address ? (\r\n        <div className=\"max-w-[300px] truncate\" title={address}>\r\n          {address}\r\n        </div>\r\n      ) : (\r\n        <span className=\"text-muted-foreground\">-</span>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    id: \"usageGuide\",\r\n    accessorKey: \"usageGuide\",\r\n    header: \"Hướng dẫn sử dụng\",\r\n    cell: ({ row }) => {\r\n      const guide = row.usageGuide;\r\n      return guide ? (\r\n        <div className=\"max-w-[200px] truncate\" title={guide}>\r\n          {guide}\r\n        </div>\r\n      ) : (\r\n        <span className=\"text-muted-foreground\">-</span>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    id: \"isDefault\",\r\n    accessorKey: \"isDefault\",\r\n    header: \"Mặc định\",\r\n    cell: ({ row }) => {\r\n      return (\r\n        <Switch\r\n          checked={row.isDefault}\r\n          onCheckedChange={() => onToggleDefault(row)}\r\n        />\r\n      );\r\n    },\r\n  },\r\n  {\r\n    id: \"isActive\",\r\n    accessorKey: \"isActive\",\r\n    header: \"Hoạt động\",\r\n    cell: ({ row }) => {\r\n      return (\r\n        <Switch\r\n          checked={row.isActive}\r\n          onCheckedChange={() => onToggleActive(row)}\r\n        />\r\n      );\r\n    },\r\n  },\r\n  {\r\n    id: \"actions\",\r\n    header: \"Hành động\",\r\n    cell: ({ row }) => {\r\n      const importer = row;\r\n\r\n      return (\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\r\n              <span className=\"sr-only\">Mở menu</span>\r\n              <MoreHorizontal className=\"h-4 w-4\" />\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            <DropdownMenuLabel>Thao tác</DropdownMenuLabel>\r\n            <DropdownMenuItem onClick={() => onEdit(importer)}>\r\n              <Pencil className=\"mr-2 h-4 w-4\" />\r\n              Chỉnh sửa\r\n            </DropdownMenuItem>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem \r\n              onClick={() => onDelete(importer.systemId)}\r\n              className=\"text-red-600 focus:text-red-600\"\r\n            >\r\n              <Trash className=\"mr-2 h-4 w-4\" />\r\n              Xóa\r\n            </DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      );\r\n    },\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AACA;AACA;AAQA;;;;;;AAWO,MAAM,qBAAqB,CAAC,EACjC,MAAM,EACN,QAAQ,EACR,cAAc,EACd,eAAe,EACS,GAA4B;QACpD;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC;;sCACC,8OAAC;4BAAI,WAAU;sCAAe,IAAI,IAAI;;;;;;wBACrC,IAAI,OAAO,kBACV,8OAAC;4BAAI,WAAU;;gCAAgC;gCAAM,IAAI,OAAO;;;;;;;;;;;;;QAIxE;QACA;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE;gBACZ,MAAM,UAAU,IAAI,OAAO;gBAC3B,OAAO,wBACL,8OAAC;oBAAI,WAAU;oBAAyB,OAAO;8BAC5C;;;;;6EAGH,8OAAC;oBAAK,WAAU;8BAAwB;;;;;;YAE5C;QACF;QACA;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE;gBACZ,MAAM,QAAQ,IAAI,UAAU;gBAC5B,OAAO,sBACL,8OAAC;oBAAI,WAAU;oBAAyB,OAAO;8BAC5C;;;;;6EAGH,8OAAC;oBAAK,WAAU;8BAAwB;;;;;;YAE5C;QACF;QACA;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE;gBACZ,qBACE,8OAAC,qIAAM;oBACL,SAAS,IAAI,SAAS;oBACtB,iBAAiB,IAAM,gBAAgB;;;;;;YAG7C;QACF;QACA;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE;gBACZ,qBACE,8OAAC,qIAAM;oBACL,SAAS,IAAI,QAAQ;oBACrB,iBAAiB,IAAM,eAAe;;;;;;YAG5C;QACF;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE;gBACZ,MAAM,WAAW;gBAEjB,qBACE,8OAAC,qJAAY;;sCACX,8OAAC,4JAAmB;4BAAC,OAAO;sCAC1B,cAAA,8OAAC,qIAAM;gCAAC,SAAQ;gCAAQ,WAAU;;kDAChC,8OAAC;wCAAK,WAAU;kDAAU;;;;;;kDAC1B,8OAAC,kOAAc;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAG9B,8OAAC,4JAAmB;4BAAC,OAAM;;8CACzB,8OAAC,0JAAiB;8CAAC;;;;;;8CACnB,8OAAC,yJAAgB;oCAAC,SAAS,IAAM,OAAO;;sDACtC,8OAAC,gNAAM;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;8CAGrC,8OAAC,8JAAqB;;;;;8CACtB,8OAAC,yJAAgB;oCACf,SAAS,IAAM,SAAS,SAAS,QAAQ;oCACzC,WAAU;;sDAEV,8OAAC,6MAAK;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;YAM5C;QACF;KACD"}},
    {"offset": {"line": 6114, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/inventory/page.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Plus, Save } from \"lucide-react\";\r\nimport { asBusinessId, type SystemId } from \"@/lib/id-types\";\r\nimport { useSettingsPageHeader } from \"../use-settings-page-header\";\r\nimport { useUnitStore } from \"../units/store\";\r\nimport { useProductTypeStore } from \"./product-type-store\";\r\nimport { useStorageLocationStore } from \"./storage-location-store\";\r\nimport { useSlaSettingsStore } from \"./sla-settings-store\";\r\nimport { useProductLogisticsSettingsStore } from \"./logistics-settings-store\";\r\nimport { useWarrantySettingsStore, type WarrantySettings } from \"./warranty-settings-store\";\r\nimport type { Unit } from \"../units/types\";\r\nimport type { ProductType, ProductSlaSettings, ProductLogisticsSettings } from \"./types\";\r\nimport type { StorageLocation } from \"./storage-location-types\";\r\nimport { UnitForm, type UnitFormValues } from \"../units/form\";\r\nimport {\r\n  ProductTypeFormDialog,\r\n  type ProductTypeFormValues,\r\n} from \"./setting-form-dialogs\";\r\nimport { StorageLocationFormDialog, type StorageLocationFormValues } from \"./storage-location-form-dialog\";\r\nimport { getUnitColumns } from \"../units/columns\";\r\nimport { getProductTypeColumns } from \"./product-type-columns\";\r\nimport { getStorageLocationColumns } from \"./storage-location-columns\";\r\nimport { TabsContent } from \"../../../components/ui/tabs\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"../../../components/ui/card\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { Input } from \"../../../components/ui/input\";\r\nimport { Switch } from \"../../../components/ui/switch\";\r\nimport { Label } from \"../../../components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"../../../components/ui/select\";\r\nimport { Dialog, DialogContent, DialogFooter, DialogHeader, DialogTitle } from \"../../../components/ui/dialog\";\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"../../../components/ui/alert-dialog\";\r\nimport { toast } from \"sonner\";\r\nimport { SimpleSettingsTable } from \"../../../components/settings/SimpleSettingsTable\";\r\nimport { SettingsActionButton } from \"../../../components/settings/SettingsActionButton\";\r\nimport { SettingsVerticalTabs } from \"../../../components/settings/SettingsVerticalTabs\";\r\nimport { useTabActionRegistry, type RegisterTabActions } from \"../use-tab-action-registry\";\r\n\r\ntype TabContentProps = {\r\n  isActive: boolean;\r\n  onRegisterActions: RegisterTabActions;\r\n};\r\n\r\nimport type { Importer } from \"./types\";\r\n\r\n// Importer imports\r\nimport { useImporterStore } from \"./importer-store\";\r\nimport { ImporterFormDialog, type ImporterFormValues } from \"./importer-form-dialog\";\r\nimport { getImporterColumns } from \"./importer-columns\";\r\n\r\nfunction ImportersTabContent({ isActive, onRegisterActions }: TabContentProps) {\r\n  const { data, add, update, remove, setDefault } = useImporterStore();\r\n  const [dialogOpen, setDialogOpen] = React.useState(false);\r\n  const [editingItem, setEditingItem] = React.useState<Importer | null>(null);\r\n  const [isAlertOpen, setIsAlertOpen] = React.useState(false);\r\n  const [idToDelete, setIdToDelete] = React.useState<SystemId | null>(null);\r\n\r\n  const activeImporters = React.useMemo(() => data.filter(b => !b.isDeleted), [data]);\r\n  const existingIds = React.useMemo(() => activeImporters.map(b => b.id), [activeImporters]);\r\n\r\n  const handleAdd = React.useCallback(() => {\r\n    setEditingItem(null);\r\n    setDialogOpen(true);\r\n  }, []);\r\n\r\n  const handleEdit = React.useCallback((item: Importer) => {\r\n    setEditingItem(item);\r\n    setDialogOpen(true);\r\n  }, []);\r\n\r\n  const handleDeleteRequest = React.useCallback((systemId: SystemId) => {\r\n    setIdToDelete(systemId);\r\n    setIsAlertOpen(true);\r\n  }, []);\r\n\r\n  const handleToggleActive = React.useCallback((item: Importer) => {\r\n    const newActive = !item.isActive;\r\n    update(item.systemId, { ...item, isActive: newActive });\r\n    toast.success(newActive ? 'Đã kích hoạt' : 'Đã tắt');\r\n  }, [update]);\r\n\r\n  const handleToggleDefault = React.useCallback((item: Importer) => {\r\n    if (!item.isDefault) {\r\n      setDefault(item.systemId);\r\n      toast.success('Đã đặt làm mặc định');\r\n    }\r\n  }, [setDefault]);\r\n\r\n  const confirmDelete = () => {\r\n    if (idToDelete) {\r\n      remove(idToDelete);\r\n      toast.success('Đã xóa đơn vị nhập khẩu');\r\n    }\r\n    setIsAlertOpen(false);\r\n    setIdToDelete(null);\r\n  };\r\n\r\n  const handleSubmit = (values: ImporterFormValues) => {\r\n    const payload = { ...values, id: asBusinessId(values.id) };\r\n    if (editingItem) {\r\n      update(editingItem.systemId, payload);\r\n      toast.success('Đã cập nhật đơn vị nhập khẩu');\r\n    } else {\r\n      add(payload);\r\n      toast.success('Đã thêm đơn vị nhập khẩu mới');\r\n    }\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  const columns = React.useMemo(\r\n    () => getImporterColumns({ \r\n      onEdit: handleEdit, \r\n      onDelete: handleDeleteRequest,\r\n      onToggleActive: handleToggleActive,\r\n      onToggleDefault: handleToggleDefault,\r\n    }),\r\n    [handleDeleteRequest, handleEdit, handleToggleActive, handleToggleDefault],\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (!isActive) {\r\n      return;\r\n    }\r\n\r\n    onRegisterActions([\r\n      <SettingsActionButton key=\"add-importer\" onClick={handleAdd}>\r\n        <Plus className=\"mr-2 h-4 w-4\" /> Thêm đơn vị nhập khẩu\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [handleAdd, isActive, onRegisterActions]);\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <CardTitle>Đơn vị nhập khẩu</CardTitle>\r\n              <CardDescription>\r\n                Quản lý các đơn vị nhập khẩu để in tem phụ sản phẩm\r\n              </CardDescription>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <SimpleSettingsTable\r\n            data={activeImporters}\r\n            columns={columns}\r\n            emptyTitle=\"Chưa có đơn vị nhập khẩu\"\r\n            emptyDescription=\"Thêm đơn vị nhập khẩu đầu tiên để in tem phụ sản phẩm\"\r\n            emptyAction={\r\n              <Button size=\"sm\" onClick={handleAdd}>\r\n                Thêm đơn vị nhập khẩu\r\n              </Button>\r\n            }\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <ImporterFormDialog\r\n        open={dialogOpen}\r\n        onOpenChange={setDialogOpen}\r\n        initialData={editingItem}\r\n        onSubmit={handleSubmit}\r\n        existingIds={existingIds}\r\n      />\r\n\r\n      <AlertDialog open={isAlertOpen} onOpenChange={setIsAlertOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Bạn có chắc chắn muốn xóa?</AlertDialogTitle>\r\n            <AlertDialogDescription>Hành động này không thể được hoàn tác.</AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Hủy</AlertDialogCancel>\r\n            <AlertDialogAction onClick={confirmDelete}>Xóa</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction UnitsTabContent({ isActive, onRegisterActions }: TabContentProps) {\r\n  const { data, add, update, remove } = useUnitStore();\r\n\r\n  const [isFormOpen, setIsFormOpen] = React.useState(false);\r\n  const [editingUnit, setEditingUnit] = React.useState<Unit | null>(null);\r\n  const [isAlertOpen, setIsAlertOpen] = React.useState(false);\r\n  const [idToDelete, setIdToDelete] = React.useState<SystemId | null>(null);\r\n\r\n  const handleAddNew = React.useCallback(() => {\r\n    setEditingUnit(null);\r\n    setIsFormOpen(true);\r\n  }, []);\r\n  const handleEdit = React.useCallback((unit: Unit) => {\r\n    setEditingUnit(unit);\r\n    setIsFormOpen(true);\r\n  }, []);\r\n  const handleDeleteRequest = React.useCallback((systemId: SystemId) => {\r\n    setIdToDelete(systemId);\r\n    setIsAlertOpen(true);\r\n  }, []);\r\n  \r\n  const handleToggleDefault = React.useCallback((unit: Unit, checked: boolean) => {\r\n    if (checked) {\r\n      // Clear default from all others, then set this one\r\n      data.forEach(u => {\r\n        if (u.isDefault && u.systemId !== unit.systemId) {\r\n          update(u.systemId, { ...u, isDefault: false });\r\n        }\r\n      });\r\n      update(unit.systemId, { ...unit, isDefault: true });\r\n      toast.success(`Đã đặt \"${unit.name}\" làm mặc định`);\r\n    } else {\r\n      // Find another unit to set as default\r\n      const otherUnits = data.filter(u => u.systemId !== unit.systemId && u.isActive !== false);\r\n      if (otherUnits.length > 0) {\r\n        const newDefault = otherUnits[0];\r\n        update(unit.systemId, { ...unit, isDefault: false });\r\n        update(newDefault.systemId, { ...newDefault, isDefault: true });\r\n        toast.success(`Đã chuyển mặc định sang \"${newDefault.name}\"`);\r\n      } else {\r\n        toast.error('Phải có ít nhất một đơn vị tính mặc định');\r\n      }\r\n    }\r\n  }, [data, update]);\r\n\r\n  const handleToggleActive = React.useCallback((unit: Unit) => {\r\n    const newActive = unit.isActive === false ? true : false;\r\n    update(unit.systemId, { ...unit, isActive: newActive });\r\n    toast.success(newActive ? 'Đã kích hoạt' : 'Đã tắt');\r\n  }, [update]);\r\n  \r\n  const confirmDelete = () => { \r\n    if (idToDelete) {\r\n      remove(idToDelete);\r\n      toast.success('Đã xóa đơn vị tính');\r\n    }\r\n    setIsAlertOpen(false);\r\n    setIdToDelete(null);\r\n  };\r\n  \r\n  const handleFormSubmit = (values: UnitFormValues) => {\r\n    const payload: UnitFormValues = { ...values, id: asBusinessId(values.id) };\r\n    if (editingUnit) {\r\n      update(editingUnit.systemId, { ...editingUnit, ...payload });\r\n      toast.success('Đã cập nhật đơn vị tính');\r\n    } else {\r\n      add(payload);\r\n      toast.success('Đã thêm đơn vị tính mới');\r\n    }\r\n    setIsFormOpen(false);\r\n  };\r\n\r\n  const columns = React.useMemo(() => getUnitColumns({\r\n    onEdit: handleEdit, \r\n    onDelete: handleDeleteRequest,\r\n    onToggleDefault: handleToggleDefault,\r\n    onToggleActive: handleToggleActive,\r\n  }), [handleDeleteRequest, handleEdit, handleToggleDefault, handleToggleActive]);\r\n  \r\n  const sortedData = React.useMemo(() => {\r\n    return [...data].sort((a, b) => a.name.localeCompare(b.name));\r\n  }, [data]);\r\n  \r\n  React.useEffect(() => {\r\n    if (!isActive) {\r\n      return;\r\n    }\r\n\r\n    onRegisterActions([\r\n      <SettingsActionButton key=\"add-unit\" onClick={handleAddNew}>\r\n        <Plus className=\"mr-2 h-4 w-4\" /> Thêm đơn vị tính\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [handleAddNew, isActive, onRegisterActions]);\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <CardTitle>Danh sách Đơn vị tính</CardTitle>\r\n              <CardDescription>Quản lý các đơn vị tính được sử dụng cho sản phẩm.</CardDescription>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <SimpleSettingsTable\r\n            data={sortedData}\r\n            columns={columns}\r\n            emptyTitle=\"Chưa có đơn vị tính\"\r\n            emptyDescription=\"Thêm đơn vị đầu tiên để chuẩn hóa quy đổi sản phẩm\"\r\n            emptyAction={\r\n              <Button size=\"sm\" onClick={handleAddNew}>\r\n                Thêm đơn vị tính\r\n              </Button>\r\n            }\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Dialog open={isFormOpen} onOpenChange={setIsFormOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>{editingUnit ? 'Chỉnh sửa Đơn vị tính' : 'Thêm Đơn vị tính'}</DialogTitle>\r\n          </DialogHeader>\r\n          <UnitForm initialData={editingUnit} onSubmit={handleFormSubmit} />\r\n          <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setIsFormOpen(false)}>Hủy</Button>\r\n              <Button type=\"submit\" form=\"unit-form\">Lưu</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <AlertDialog open={isAlertOpen} onOpenChange={setIsAlertOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Bạn có chắc chắn muốn xóa?</AlertDialogTitle>\r\n            <AlertDialogDescription>Hành động này không thể được hoàn tác.</AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Hủy</AlertDialogCancel>\r\n            <AlertDialogAction onClick={confirmDelete}>Xóa</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ProductTypesTabContent({ isActive, onRegisterActions }: TabContentProps) {\r\n  const { data, add, update, remove } = useProductTypeStore();\r\n  const [dialogOpen, setDialogOpen] = React.useState(false);\r\n  const [editingItem, setEditingItem] = React.useState<ProductType | null>(null);\r\n  const [isAlertOpen, setIsAlertOpen] = React.useState(false);\r\n  const [idToDelete, setIdToDelete] = React.useState<SystemId | null>(null);\r\n\r\n  const activeProductTypes = React.useMemo(() => data.filter(t => !t.isDeleted), [data]);\r\n  const existingIds = React.useMemo(() => activeProductTypes.map(t => t.id), [activeProductTypes]);\r\n\r\n  const handleAdd = React.useCallback(() => {\r\n    setEditingItem(null);\r\n    setDialogOpen(true);\r\n  }, []);\r\n\r\n  const handleEdit = React.useCallback((item: ProductType) => {\r\n    setEditingItem(item);\r\n    setDialogOpen(true);\r\n  }, []);\r\n\r\n  const handleDeleteRequest = React.useCallback((systemId: SystemId) => {\r\n    setIdToDelete(systemId);\r\n    setIsAlertOpen(true);\r\n  }, []);\r\n\r\n  const handleToggleDefault = React.useCallback((item: ProductType) => {\r\n    // Clear default from all others, then set this one\r\n    data.forEach(t => {\r\n      if (t.isDefault && t.systemId !== item.systemId && !t.isDeleted) {\r\n        update(t.systemId, { ...t, isDefault: false });\r\n      }\r\n    });\r\n    update(item.systemId, { ...item, isDefault: !item.isDefault });\r\n    toast.success(item.isDefault ? 'Đã bỏ mặc định' : 'Đã đặt làm mặc định');\r\n  }, [data, update]);\r\n\r\n  const handleToggleActive = React.useCallback((item: ProductType) => {\r\n    const newActive = item.isActive === false ? true : false;\r\n    update(item.systemId, { ...item, isActive: newActive });\r\n    toast.success(newActive ? 'Đã kích hoạt' : 'Đã tắt');\r\n  }, [update]);\r\n\r\n  const confirmDelete = () => {\r\n    if (idToDelete) {\r\n      remove(idToDelete);\r\n      toast.success('Đã xóa loại sản phẩm');\r\n    }\r\n    setIsAlertOpen(false);\r\n    setIdToDelete(null);\r\n  };\r\n\r\n  const handleSubmit = (values: ProductTypeFormValues) => {\r\n    const payload = { ...values, id: asBusinessId(values.id) };\r\n    if (editingItem) {\r\n      update(editingItem.systemId, payload);\r\n      toast.success('Đã cập nhật loại sản phẩm');\r\n    } else {\r\n      add(payload);\r\n      toast.success('Đã thêm loại sản phẩm mới');\r\n    }\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  const columns = React.useMemo(\r\n    () => getProductTypeColumns({ \r\n      onEdit: handleEdit, \r\n      onDelete: handleDeleteRequest,\r\n      onToggleDefault: handleToggleDefault,\r\n      onToggleActive: handleToggleActive,\r\n    }),\r\n    [handleDeleteRequest, handleEdit, handleToggleDefault, handleToggleActive],\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (!isActive) {\r\n      return;\r\n    }\r\n\r\n    onRegisterActions([\r\n      <SettingsActionButton key=\"add-product-type\" onClick={handleAdd}>\r\n        <Plus className=\"mr-2 h-4 w-4\" /> Thêm loại sản phẩm\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [handleAdd, isActive, onRegisterActions]);\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <CardTitle>Loại sản phẩm</CardTitle>\r\n              <CardDescription>\r\n                Quản lý các loại sản phẩm: Hàng hóa, Dịch vụ, Digital\r\n              </CardDescription>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <SimpleSettingsTable\r\n            data={activeProductTypes}\r\n            columns={columns}\r\n            emptyTitle=\"Chưa có loại sản phẩm\"\r\n            emptyDescription=\"Thêm loại sản phẩm đầu tiên để cấu hình tồn kho\"\r\n            emptyAction={\r\n              <Button size=\"sm\" onClick={handleAdd}>\r\n                Thêm loại sản phẩm\r\n              </Button>\r\n            }\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <ProductTypeFormDialog\r\n        open={dialogOpen}\r\n        onOpenChange={setDialogOpen}\r\n        initialData={editingItem}\r\n        onSubmit={handleSubmit}\r\n        existingIds={existingIds}\r\n      />\r\n\r\n      <AlertDialog open={isAlertOpen} onOpenChange={setIsAlertOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Bạn có chắc chắn muốn xóa?</AlertDialogTitle>\r\n            <AlertDialogDescription>Hành động này không thể được hoàn tác.</AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Hủy</AlertDialogCancel>\r\n            <AlertDialogAction onClick={confirmDelete}>Xóa</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction StorageLocationsTabContent({ isActive, onRegisterActions }: TabContentProps) {\r\n  const { data, add, update, remove } = useStorageLocationStore();\r\n  const [isFormOpen, setIsFormOpen] = React.useState(false);\r\n  const [editingLocation, setEditingLocation] = React.useState<StorageLocation | null>(null);\r\n  const [isAlertOpen, setIsAlertOpen] = React.useState(false);\r\n  const [idToDelete, setIdToDelete] = React.useState<SystemId | null>(null);\r\n\r\n  const activeLocations = React.useMemo(() => data.filter(loc => !loc.isDeleted), [data]);\r\n  const existingIds = React.useMemo(() => activeLocations.map(loc => loc.id), [activeLocations]);\r\n\r\n  const handleAddNew = React.useCallback(() => {\r\n    setEditingLocation(null);\r\n    setIsFormOpen(true);\r\n  }, []);\r\n  const handleEdit = React.useCallback((location: StorageLocation) => {\r\n    setEditingLocation(location);\r\n    setIsFormOpen(true);\r\n  }, []);\r\n  const handleDeleteRequest = React.useCallback((systemId: SystemId) => {\r\n    setIdToDelete(systemId);\r\n    setIsAlertOpen(true);\r\n  }, []);\r\n\r\n  const handleToggleDefault = React.useCallback((location: StorageLocation) => {\r\n    // Clear default from all others, then set this one\r\n    data.forEach(loc => {\r\n      if (loc.isDefault && loc.systemId !== location.systemId && !loc.isDeleted) {\r\n        update(loc.systemId, { ...loc, isDefault: false });\r\n      }\r\n    });\r\n    update(location.systemId, { ...location, isDefault: !location.isDefault });\r\n    toast.success(location.isDefault ? 'Đã bỏ mặc định' : 'Đã đặt làm mặc định');\r\n  }, [data, update]);\r\n\r\n  const handleToggleActive = React.useCallback((location: StorageLocation) => {\r\n    const newActive = !location.isActive;\r\n    update(location.systemId, { ...location, isActive: newActive });\r\n    toast.success(newActive ? 'Đã kích hoạt' : 'Đã tắt');\r\n  }, [update]);\r\n\r\n  const confirmDelete = () => {\r\n    if (idToDelete) {\r\n      remove(idToDelete);\r\n      toast.success('Đã xóa điểm lưu kho');\r\n    }\r\n    setIsAlertOpen(false);\r\n    setIdToDelete(null);\r\n  };\r\n\r\n  const handleFormSubmit = (values: StorageLocationFormValues) => {\r\n    const payload = {\r\n      ...values,\r\n      id: asBusinessId(values.id),\r\n      isActive: values.isActive ?? true,\r\n    };\r\n    if (editingLocation) {\r\n      update(editingLocation.systemId, payload);\r\n      toast.success('Đã cập nhật điểm lưu kho');\r\n    } else {\r\n      add({\r\n        ...payload,\r\n        isActive: values.isActive ?? true,\r\n        isDeleted: false,\r\n      });\r\n      toast.success('Đã thêm điểm lưu kho mới');\r\n    }\r\n    setIsFormOpen(false);\r\n  };\r\n\r\n  const columns = React.useMemo(\r\n    () => getStorageLocationColumns({\r\n      onEdit: handleEdit,\r\n      onDelete: handleDeleteRequest,\r\n      onToggleDefault: handleToggleDefault,\r\n      onToggleActive: handleToggleActive,\r\n    }),\r\n    [handleDeleteRequest, handleEdit, handleToggleDefault, handleToggleActive],\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (!isActive) {\r\n      return;\r\n    }\r\n\r\n    onRegisterActions([\r\n      <SettingsActionButton key=\"add-storage-location\" onClick={handleAddNew}>\r\n        <Plus className=\"mr-2 h-4 w-4\" /> Thêm điểm lưu kho\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [handleAddNew, isActive, onRegisterActions]);\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardHeader className=\"flex flex-row items-center justify-between\">\r\n          <div>\r\n            <CardTitle>Điểm lưu kho</CardTitle>\r\n            <CardDescription>Quản lý các điểm lưu kho trong kho hàng</CardDescription>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <SimpleSettingsTable\r\n            data={activeLocations}\r\n            columns={columns}\r\n            emptyTitle=\"Chưa có điểm lưu kho\"\r\n            emptyDescription=\"Thêm điểm lưu kho đầu tiên để quản lý vị trí hàng hóa\"\r\n            emptyAction={\r\n              <Button size=\"sm\" onClick={handleAddNew}>\r\n                Thêm điểm lưu kho\r\n              </Button>\r\n            }\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <StorageLocationFormDialog\r\n        open={isFormOpen}\r\n        onOpenChange={setIsFormOpen}\r\n        initialData={editingLocation}\r\n        onSubmit={handleFormSubmit}\r\n        existingIds={existingIds}\r\n      />\r\n\r\n      <AlertDialog open={isAlertOpen} onOpenChange={setIsAlertOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Xác nhận xóa</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Bạn có chắc chắn muốn xóa điểm lưu kho này?\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel onClick={() => setIsAlertOpen(false)}>Hủy</AlertDialogCancel>\r\n            <AlertDialogAction onClick={confirmDelete}>Xóa</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction LogisticsSettingsTabContent({ isActive, onRegisterActions }: TabContentProps) {\r\n  const { settings, save } = useProductLogisticsSettingsStore();\r\n  const [localSettings, setLocalSettings] = React.useState<ProductLogisticsSettings>(settings);\r\n  const [isSaving, setIsSaving] = React.useState(false);\r\n\r\n  // Use ref to keep handleSave stable while accessing latest state\r\n  const localSettingsRef = React.useRef(localSettings);\r\n  React.useEffect(() => {\r\n    localSettingsRef.current = localSettings;\r\n  }, [localSettings]);\r\n\r\n  React.useEffect(() => {\r\n    setLocalSettings(settings);\r\n  }, [settings]);\r\n\r\n  const hasChanges = React.useMemo(() => {\r\n    return JSON.stringify(localSettings) !== JSON.stringify(settings);\r\n  }, [localSettings, settings]);\r\n\r\n  const updatePreset = (presetKey: keyof ProductLogisticsSettings, field: 'weight' | 'weightUnit' | 'length' | 'width' | 'height', value: number | string | undefined) => {\r\n    setLocalSettings((prev) => ({\r\n      ...prev,\r\n      [presetKey]: {\r\n        ...prev[presetKey],\r\n        [field]: value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleSave = React.useCallback(() => {\r\n    setIsSaving(true);\r\n    try {\r\n      save(localSettingsRef.current);\r\n      toast.success('Đã lưu cài đặt khối lượng & kích thước');\r\n    } catch (error) {\r\n      toast.error('Không thể lưu cài đặt khối lượng');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  }, [save]);\r\n\r\n  React.useEffect(() => {\r\n    if (!isActive) return;\r\n\r\n    onRegisterActions([\r\n      <SettingsActionButton \r\n        key=\"save-logistics\"\r\n        onClick={handleSave}\r\n        disabled={!hasChanges || isSaving}\r\n      >\r\n        <Save className=\"mr-2 h-4 w-4\" />\r\n        {isSaving ? 'Đang lưu...' : 'Lưu cài đặt'}\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [isActive, hasChanges, isSaving, handleSave, onRegisterActions]);\r\n\r\n  const renderPreset = (title: string, presetKey: keyof ProductLogisticsSettings, description: string) => (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle>{title}</CardTitle>\r\n        <CardDescription>{description}</CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label>Khối lượng mặc định</Label>\r\n            <Input\r\n              type=\"number\"\r\n              value={localSettings[presetKey]?.weight ?? ''}\r\n              onChange={(e) => updatePreset(presetKey, 'weight', e.target.value === '' ? undefined : Number(e.target.value))}\r\n              placeholder=\"0\"\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">Áp dụng khi tạo sản phẩm mới</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label>Đơn vị khối lượng</Label>\r\n            <Select\r\n              value={localSettings[presetKey]?.weightUnit ?? 'g'}\r\n              onValueChange={(value) => updatePreset(presetKey, 'weightUnit', value)}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"g\">g (gram)</SelectItem>\r\n                <SelectItem value=\"kg\">kg (kilogram)</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label>Kích thước (cm)</Label>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div className=\"space-y-1\">\r\n              <Input\r\n                type=\"number\"\r\n                value={localSettings[presetKey]?.length ?? ''}\r\n                onChange={(e) => updatePreset(presetKey, 'length', e.target.value === '' ? undefined : Number(e.target.value))}\r\n                placeholder=\"Dài\"\r\n              />\r\n            </div>\r\n            <div className=\"space-y-1\">\r\n              <Input\r\n                type=\"number\"\r\n                value={localSettings[presetKey]?.width ?? ''}\r\n                onChange={(e) => updatePreset(presetKey, 'width', e.target.value === '' ? undefined : Number(e.target.value))}\r\n                placeholder=\"Rộng\"\r\n              />\r\n            </div>\r\n            <div className=\"space-y-1\">\r\n              <Input\r\n                type=\"number\"\r\n                value={localSettings[presetKey]?.height ?? ''}\r\n                onChange={(e) => updatePreset(presetKey, 'height', e.target.value === '' ? undefined : Number(e.target.value))}\r\n                placeholder=\"Cao\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <p className=\"text-xs text-muted-foreground\">Dùng để ước tính phí vận chuyển</p>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {renderPreset('Sản phẩm thông thường', 'physicalDefaults', 'Áp dụng cho hàng hóa vật lý, dịch vụ đóng gói sẵn')}\r\n      {renderPreset('Combo sản phẩm', 'comboDefaults', 'Áp dụng khi tạo sản phẩm combo mới')}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SlaSettingsTabContent({ isActive, onRegisterActions }: TabContentProps) {\r\n  const { settings, update } = useSlaSettingsStore();\r\n  const [localSettings, setLocalSettings] = React.useState<ProductSlaSettings>(settings);\r\n  const [isSaving, setIsSaving] = React.useState(false);\r\n  \r\n  // Use ref to keep handleSave stable while accessing latest state\r\n  const localSettingsRef = React.useRef(localSettings);\r\n  React.useEffect(() => {\r\n    localSettingsRef.current = localSettings;\r\n  }, [localSettings]);\r\n\r\n  // Check if there are unsaved changes by comparing with store\r\n  const hasChanges = React.useMemo(() => {\r\n    return JSON.stringify(localSettings) !== JSON.stringify(settings);\r\n  }, [localSettings, settings]);\r\n\r\n  // Sync local state when store changes (e.g., from reset or external update)\r\n  React.useEffect(() => {\r\n    setLocalSettings(settings);\r\n  }, [settings]);\r\n\r\n  const handleChange = <K extends keyof ProductSlaSettings>(key: K, value: ProductSlaSettings[K]) => {\r\n    setLocalSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleSave = React.useCallback(() => {\r\n    setIsSaving(true);\r\n    try {\r\n      update(localSettingsRef.current);\r\n      toast.success('Đã lưu cài đặt cảnh báo tồn kho');\r\n    } catch (error) {\r\n      toast.error('Có lỗi xảy ra khi lưu cài đặt');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  }, [update]);\r\n\r\n  // Register header actions\r\n  React.useEffect(() => {\r\n    if (!isActive) return;\r\n\r\n    onRegisterActions([\r\n      <SettingsActionButton \r\n        key=\"save-sla\"\r\n        onClick={handleSave} \r\n        disabled={!hasChanges || isSaving}\r\n      >\r\n        <Save className=\"mr-2 h-4 w-4\" /> \r\n        {isSaving ? 'Đang lưu...' : 'Lưu cài đặt'}\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [isActive, hasChanges, isSaving, handleSave, onRegisterActions]);\r\n\r\n  const alertTypeOptions = [\r\n    { value: 'out_of_stock', label: 'Hết hàng' },\r\n    { value: 'low_stock', label: 'Sắp hết hàng' },\r\n    { value: 'below_safety', label: 'Dưới tồn kho an toàn' },\r\n    { value: 'over_stock', label: 'Vượt tồn kho tối đa' },\r\n    { value: 'dead_stock', label: 'Hàng tồn lâu' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Ngưỡng cảnh báo mặc định */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Ngưỡng cảnh báo mặc định</CardTitle>\r\n          <CardDescription>\r\n            Áp dụng cho các sản phẩm không có cấu hình riêng\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"defaultReorderLevel\">Mức đặt hàng lại</Label>\r\n              <Input\r\n                id=\"defaultReorderLevel\"\r\n                type=\"number\"\r\n                min={0}\r\n                value={localSettings.defaultReorderLevel ?? 10}\r\n                onChange={(e) => handleChange('defaultReorderLevel', parseInt(e.target.value) || 0)}\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Cảnh báo khi tồn kho ≤ giá trị này\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"defaultSafetyStock\">Tồn kho an toàn</Label>\r\n              <Input\r\n                id=\"defaultSafetyStock\"\r\n                type=\"number\"\r\n                min={0}\r\n                value={localSettings.defaultSafetyStock ?? 5}\r\n                onChange={(e) => handleChange('defaultSafetyStock', parseInt(e.target.value) || 0)}\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Mức tối thiểu để tránh hết hàng\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"defaultMaxStock\">Tồn kho tối đa</Label>\r\n              <Input\r\n                id=\"defaultMaxStock\"\r\n                type=\"number\"\r\n                min={0}\r\n                value={localSettings.defaultMaxStock ?? 100}\r\n                onChange={(e) => handleChange('defaultMaxStock', parseInt(e.target.value) || 0)}\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Cảnh báo tồn kho vượt quá\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Cảnh báo hàng tồn lâu */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Cảnh báo hàng tồn kho lâu</CardTitle>\r\n          <CardDescription>\r\n            Phát hiện hàng chậm bán hoặc hàng chết\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"slowMovingDays\">Hàng chậm bán (ngày)</Label>\r\n              <Input\r\n                id=\"slowMovingDays\"\r\n                type=\"number\"\r\n                min={1}\r\n                value={localSettings.slowMovingDays ?? 30}\r\n                onChange={(e) => handleChange('slowMovingDays', parseInt(e.target.value) || 30)}\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Không bán trong X ngày → Hàng chậm\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"deadStockDays\">Hàng chết (ngày)</Label>\r\n              <Input\r\n                id=\"deadStockDays\"\r\n                type=\"number\"\r\n                min={1}\r\n                value={localSettings.deadStockDays ?? 90}\r\n                onChange={(e) => handleChange('deadStockDays', parseInt(e.target.value) || 90)}\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Không bán trong X ngày → Hàng chết\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Thông báo email */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Thông báo email</CardTitle>\r\n          <CardDescription>\r\n            Gửi cảnh báo tự động qua email\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <Label>Bật thông báo email</Label>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Gửi email khi có cảnh báo tồn kho\r\n              </p>\r\n            </div>\r\n            <Switch\r\n              checked={localSettings.enableEmailAlerts ?? false}\r\n              onCheckedChange={(checked) => handleChange('enableEmailAlerts', checked)}\r\n            />\r\n          </div>\r\n          \r\n          {localSettings.enableEmailAlerts && (\r\n            <>\r\n              <div className=\"space-y-2\">\r\n                <Label>Tần suất gửi</Label>\r\n                <Select\r\n                  value={localSettings.alertFrequency ?? 'daily'}\r\n                  onValueChange={(value) => handleChange('alertFrequency', value as ProductSlaSettings['alertFrequency'])}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"realtime\">Thời gian thực</SelectItem>\r\n                    <SelectItem value=\"daily\">Hàng ngày</SelectItem>\r\n                    <SelectItem value=\"weekly\">Hàng tuần</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              \r\n              <div className=\"space-y-2\">\r\n                <Label>Email nhận thông báo</Label>\r\n                <Input\r\n                  placeholder=\"email1@example.com, email2@example.com\"\r\n                  value={(localSettings.alertEmailRecipients ?? []).join(', ')}\r\n                  onChange={(e) => handleChange('alertEmailRecipients', \r\n                    e.target.value.split(',').map(s => s.trim()).filter(Boolean)\r\n                  )}\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Phân cách nhiều email bằng dấu phẩy\r\n                </p>\r\n              </div>\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Dashboard */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Hiển thị Dashboard</CardTitle>\r\n          <CardDescription>\r\n            Cấu hình widget cảnh báo tồn kho trên Dashboard\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <Label>Hiện trên Dashboard</Label>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Hiển thị widget cảnh báo trên trang chủ\r\n              </p>\r\n            </div>\r\n            <Switch\r\n              checked={localSettings.showOnDashboard ?? true}\r\n              onCheckedChange={(checked) => handleChange('showOnDashboard', checked)}\r\n            />\r\n          </div>\r\n          \r\n          {localSettings.showOnDashboard && (\r\n            <div className=\"space-y-2\">\r\n              <Label>Loại cảnh báo hiển thị</Label>\r\n              <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                {alertTypeOptions.map((option) => {\r\n                  const isSelected = (localSettings.dashboardAlertTypes ?? []).includes(option.value as any);\r\n                  return (\r\n                    <Button\r\n                      key={option.value}\r\n                      type=\"button\"\r\n                      variant={isSelected ? 'default' : 'outline'}\r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        const current = localSettings.dashboardAlertTypes ?? [];\r\n                        const newValue = isSelected\r\n                          ? current.filter(t => t !== option.value)\r\n                          : [...current, option.value as any];\r\n                        handleChange('dashboardAlertTypes', newValue);\r\n                      }}\r\n                    >\r\n                      {option.label}\r\n                    </Button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction WarrantySettingsTabContent({ isActive, onRegisterActions }: TabContentProps) {\r\n  const { settings, update } = useWarrantySettingsStore();\r\n  const [localSettings, setLocalSettings] = React.useState<WarrantySettings>(settings);\r\n  const [isSaving, setIsSaving] = React.useState(false);\r\n  \r\n  // Use ref to keep handleSave stable while accessing latest state\r\n  const localSettingsRef = React.useRef(localSettings);\r\n  React.useEffect(() => {\r\n    localSettingsRef.current = localSettings;\r\n  }, [localSettings]);\r\n\r\n  // Check if there are unsaved changes by comparing with store\r\n  const hasChanges = React.useMemo(() => {\r\n    return JSON.stringify(localSettings) !== JSON.stringify(settings);\r\n  }, [localSettings, settings]);\r\n\r\n  // Sync local state when store changes\r\n  React.useEffect(() => {\r\n    setLocalSettings(settings);\r\n  }, [settings]);\r\n\r\n  const handleChange = <K extends keyof WarrantySettings>(key: K, value: WarrantySettings[K]) => {\r\n    setLocalSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleSave = React.useCallback(() => {\r\n    setIsSaving(true);\r\n    try {\r\n      update(localSettingsRef.current);\r\n      toast.success('Đã lưu cài đặt bảo hành');\r\n    } catch (error) {\r\n      toast.error('Có lỗi xảy ra khi lưu cài đặt');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  }, [update]);\r\n\r\n  // Register header actions\r\n  React.useEffect(() => {\r\n    if (!isActive) return;\r\n\r\n    onRegisterActions([\r\n      <SettingsActionButton \r\n        key=\"save-warranty\"\r\n        onClick={handleSave} \r\n        disabled={!hasChanges || isSaving}\r\n      >\r\n        <Save className=\"mr-2 h-4 w-4\" /> \r\n        {isSaving ? 'Đang lưu...' : 'Lưu cài đặt'}\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [isActive, hasChanges, isSaving, handleSave, onRegisterActions]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Cài đặt bảo hành mặc định</CardTitle>\r\n          <CardDescription>\r\n            Thời hạn bảo hành sẽ được áp dụng khi sản phẩm không có cấu hình riêng\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"space-y-2 max-w-xs\">\r\n            <Label htmlFor=\"defaultWarrantyMonths\">Thời hạn bảo hành mặc định (tháng)</Label>\r\n            <Input\r\n              id=\"defaultWarrantyMonths\"\r\n              type=\"number\"\r\n              min={0}\r\n              max={120}\r\n              value={localSettings.defaultWarrantyMonths ?? 12}\r\n              onChange={(e) => handleChange('defaultWarrantyMonths', parseInt(e.target.value) || 0)}\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Áp dụng cho các sản phẩm không được cài đặt thời hạn bảo hành riêng\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function InventorySettingsPage() {\r\n  const [activeTab, setActiveTab] = React.useState('units');\r\n  const { headerActions, registerActions } = useTabActionRegistry(activeTab);\r\n  const registerUnitActions = React.useMemo(() => registerActions('units'), [registerActions]);\r\n  const registerTypeActions = React.useMemo(() => registerActions('types'), [registerActions]);\r\n  const registerImporterActions = React.useMemo(() => registerActions('importers'), [registerActions]);\r\n  const registerStorageActions = React.useMemo(() => registerActions('storage-locations'), [registerActions]);\r\n  const registerSlaActions = React.useMemo(() => registerActions('sla-settings'), [registerActions]);\r\n  const registerLogisticsActions = React.useMemo(() => registerActions('logistics-settings'), [registerActions]);\r\n  const registerWarrantyActions = React.useMemo(() => registerActions('warranty-settings'), [registerActions]);\r\n\r\n  useSettingsPageHeader({\r\n    title: 'Cài đặt kho hàng',\r\n    actions: headerActions,\r\n  });\r\n  \r\n  const tabs = React.useMemo(\r\n    () => [\r\n      { value: 'units', label: 'Đơn vị tính' },\r\n      { value: 'types', label: 'Loại sản phẩm' },\r\n      { value: 'importers', label: 'Đơn vị nhập khẩu' },\r\n      { value: 'storage-locations', label: 'Điểm lưu kho' },\r\n      { value: 'logistics-settings', label: 'Khối lượng & kích thước' },\r\n      { value: 'warranty-settings', label: 'Bảo hành' },\r\n      { value: 'sla-settings', label: 'Cảnh báo tồn kho' },\r\n    ],\r\n    [],\r\n  );\r\n\r\n  return (\r\n    <SettingsVerticalTabs value={activeTab} onValueChange={setActiveTab} tabs={tabs}>\r\n      <TabsContent value=\"units\" className=\"mt-0\">\r\n        <UnitsTabContent isActive={activeTab === 'units'} onRegisterActions={registerUnitActions} />\r\n      </TabsContent>\r\n\r\n      <TabsContent value=\"types\" className=\"mt-0\">\r\n        <ProductTypesTabContent isActive={activeTab === 'types'} onRegisterActions={registerTypeActions} />\r\n      </TabsContent>\r\n\r\n      <TabsContent value=\"importers\" className=\"mt-0\">\r\n        <ImportersTabContent isActive={activeTab === 'importers'} onRegisterActions={registerImporterActions} />\r\n      </TabsContent>\r\n\r\n      <TabsContent value=\"storage-locations\" className=\"mt-0\">\r\n        <StorageLocationsTabContent\r\n          isActive={activeTab === 'storage-locations'}\r\n          onRegisterActions={registerStorageActions}\r\n        />\r\n      </TabsContent>\r\n\r\n      <TabsContent value=\"logistics-settings\" className=\"mt-0\">\r\n        <LogisticsSettingsTabContent\r\n          isActive={activeTab === 'logistics-settings'}\r\n          onRegisterActions={registerLogisticsActions}\r\n        />\r\n      </TabsContent>\r\n\r\n      <TabsContent value=\"warranty-settings\" className=\"mt-0\">\r\n        <WarrantySettingsTabContent\r\n          isActive={activeTab === 'warranty-settings'}\r\n          onRegisterActions={registerWarrantyActions}\r\n        />\r\n      </TabsContent>\r\n\r\n      <TabsContent value=\"sla-settings\" className=\"mt-0\">\r\n        <SlaSettingsTabContent\r\n          isActive={activeTab === 'sla-settings'}\r\n          onRegisterActions={registerSlaActions}\r\n        />\r\n      </TabsContent>\r\n    </SettingsVerticalTabs>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8627, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/app/%28authenticated%29/settings/inventory/page.tsx"],"sourcesContent":["'use client';\r\nimport { InventorySettingsPage } from '@/features/settings/inventory/page';\r\nexport default InventorySettingsPage;\r\n"],"names":[],"mappings":";;;;AACA;AADA;;uCAEe,mKAAqB"}}]
}