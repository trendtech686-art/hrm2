{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/receipt-types/store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\n// REMOVED: import { data as initialData } from './data'; // Mock data no longer used - database is source of truth\r\nimport type { ReceiptType } from './types';\r\nimport { toISODate, getCurrentDate } from '../../../lib/date-utils';\r\n\r\nconst baseStore = createCrudStore<ReceiptType>([], 'receipt-types', {\r\n  businessIdField: 'id',\r\n  apiEndpoint: '/api/settings/data?type=receipt-type',\r\n});\r\n\r\nconst originalAdd = baseStore.getState().add;\r\n\r\nbaseStore.setState((state) => ({\r\n  ...state,\r\n  add: (item) => {\r\n    const newItem = {\r\n      ...item,\r\n      createdAt: item.createdAt ?? toISODate(getCurrentDate()),\r\n    } satisfies Omit<ReceiptType, 'systemId'>;\r\n    return originalAdd(newItem);\r\n  },\r\n}));\r\n\r\nexport const useReceiptTypeStore = baseStore;\r\n"],"names":[],"mappings":";;;;AAAA;AAGA;;;AAEA,MAAM,YAAY,IAAA,0IAAe,EAAc,EAAE,EAAE,iBAAiB;IAClE,iBAAiB;IACjB,aAAa;AACf;AAEA,MAAM,cAAc,UAAU,QAAQ,GAAG,GAAG;AAE5C,UAAU,QAAQ,CAAC,CAAC,QAAU,CAAC;QAC7B,GAAG,KAAK;QACR,KAAK,CAAC;YACJ,MAAM,UAAU;gBACd,GAAG,IAAI;gBACP,WAAW,KAAK,SAAS,IAAI,IAAA,iIAAS,EAAC,IAAA,sIAAc;YACvD;YACA,OAAO,YAAY;QACrB;IACF,CAAC;AAEM,MAAM,sBAAsB"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/target-groups/store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\n// REMOVED: import { data as initialData } from './data'; // Mock data no longer used - database is source of truth\r\nimport type { TargetGroup } from './types';\r\n\r\nexport const useTargetGroupStore = createCrudStore<TargetGroup>([], 'target-groups', {\r\n  apiEndpoint: '/api/settings/data?type=target-group',\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAIO,MAAM,sBAAsB,IAAA,0IAAe,EAAc,EAAE,EAAE,iBAAiB;IACnF,aAAa;AACf"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/payments/methods/store.ts"],"sourcesContent":["import { create } from 'zustand';\r\n// REMOVED: import { data as initialData } from './data'; // Mock data no longer used - database is source of truth\r\nimport type { PaymentMethod } from './types';\r\nimport { asSystemId, type SystemId } from '@/lib/id-types';\r\n\r\n// API sync helper\r\nasync function syncToAPI(\r\n  action: 'create' | 'update' | 'delete',\r\n  data: Partial<PaymentMethod>\r\n): Promise<boolean> {\r\n  try {\r\n    const endpoint = action === 'create'\r\n      ? '/api/settings/payment-methods'\r\n      : `/api/settings/payment-methods/${data.systemId}`;\r\n    const method = action === 'create' ? 'POST' : action === 'update' ? 'PATCH' : 'DELETE';\r\n    \r\n    const response = await fetch(endpoint, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: action !== 'delete' ? JSON.stringify(data) : undefined,\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error(`[Payment Methods API] ${action} error:`, error);\r\n    return false;\r\n  }\r\n}\r\n\r\ninterface PaymentMethodState {\r\n  data: PaymentMethod[];\r\n  initialized: boolean;\r\n  add: (item: Omit<PaymentMethod, 'systemId' | 'isDefault'>) => void;\r\n  update: (systemId: SystemId, updatedPolicy: Omit<PaymentMethod, 'isDefault' | 'systemId'>) => void;\r\n  remove: (systemId: SystemId) => void;\r\n  setDefault: (systemId: SystemId) => void;\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nexport const usePaymentMethodStore = create<PaymentMethodState>()(\r\n  (set, get) => ({\r\n      data: [],\r\n      initialized: false,\r\n      add: (item) => {\r\n        const newItem: PaymentMethod = { \r\n          ...item, \r\n          systemId: asSystemId(`PM_${Date.now()}`),\r\n          isDefault: get().data.length === 0,\r\n        };\r\n        set((state) => ({ data: [...state.data, newItem] }));\r\n        \r\n        // Sync to API\r\n        syncToAPI('create', newItem).catch(console.error);\r\n      },\r\n      update: (systemId, updatedFields) => {\r\n        set((state) => ({\r\n          data: state.data.map(p => p.systemId === systemId ? { ...p, ...updatedFields } : p),\r\n        }));\r\n        \r\n        // Sync to API\r\n        const updated = get().data.find(p => p.systemId === systemId);\r\n        if (updated) {\r\n          syncToAPI('update', updated).catch(console.error);\r\n        }\r\n      },\r\n      remove: (systemId) => {\r\n        syncToAPI('delete', { systemId }).catch(console.error);\r\n        set((state) => ({\r\n          data: state.data.filter((p) => p.systemId !== systemId),\r\n        }));\r\n      },\r\n      setDefault: (systemId) => {\r\n        set((state) => ({\r\n          data: state.data.map(p => ({ ...p, isDefault: p.systemId === systemId })),\r\n        }));\r\n        \r\n        // Sync all to API (update default status)\r\n        const data = get().data;\r\n        for (const item of data) {\r\n          syncToAPI('update', item).catch(console.error);\r\n        }\r\n      },\r\n      \r\n      loadFromAPI: async () => {\r\n        if (get().initialized) return;\r\n        \r\n        try {\r\n          // NOTE: Settings data is typically small, but using limit for consistency\r\n          const response = await fetch('/api/settings/payment-methods?limit=30');\r\n          if (response.ok) {\r\n            const json = await response.json();\r\n            const data = json.data || json.methods || [];\r\n            if (data.length > 0) {\r\n              set({ data, initialized: true });\r\n            } else {\r\n              set({ initialized: true });\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('[Payment Methods Store] loadFromAPI error:', error);\r\n        }\r\n      },\r\n    })\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAGA;;;AAEA,kBAAkB;AAClB,eAAe,UACb,MAAsC,EACtC,IAA4B;IAE5B,IAAI;QACF,MAAM,WAAW,WAAW,WACxB,kCACA,CAAC,8BAA8B,EAAE,KAAK,QAAQ,EAAE;QACpD,MAAM,SAAS,WAAW,WAAW,SAAS,WAAW,WAAW,UAAU;QAE9E,MAAM,WAAW,MAAM,MAAM,UAAU;YACrC;YACA,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,WAAW,WAAW,KAAK,SAAS,CAAC,QAAQ;QACrD;QACA,OAAO,SAAS,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,sBAAsB,EAAE,OAAO,OAAO,CAAC,EAAE;QACxD,OAAO;IACT;AACF;AAYO,MAAM,wBAAwB,IAAA,kJAAM,IACzC,CAAC,KAAK,MAAQ,CAAC;QACX,MAAM,EAAE;QACR,aAAa;QACb,KAAK,CAAC;YACJ,MAAM,UAAyB;gBAC7B,GAAG,IAAI;gBACP,UAAU,IAAA,gIAAU,EAAC,CAAC,GAAG,EAAE,KAAK,GAAG,IAAI;gBACvC,WAAW,MAAM,IAAI,CAAC,MAAM,KAAK;YACnC;YACA,IAAI,CAAC,QAAU,CAAC;oBAAE,MAAM;2BAAI,MAAM,IAAI;wBAAE;qBAAQ;gBAAC,CAAC;YAElD,cAAc;YACd,UAAU,UAAU,SAAS,KAAK,CAAC,QAAQ,KAAK;QAClD;QACA,QAAQ,CAAC,UAAU;YACjB,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,WAAW;4BAAE,GAAG,CAAC;4BAAE,GAAG,aAAa;wBAAC,IAAI;gBACnF,CAAC;YAED,cAAc;YACd,MAAM,UAAU,MAAM,IAAI,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;YACpD,IAAI,SAAS;gBACX,UAAU,UAAU,SAAS,KAAK,CAAC,QAAQ,KAAK;YAClD;QACF;QACA,QAAQ,CAAC;YACP,UAAU,UAAU;gBAAE;YAAS,GAAG,KAAK,CAAC,QAAQ,KAAK;YACrD,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;gBAChD,CAAC;QACH;QACA,YAAY,CAAC;YACX,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAA,IAAK,CAAC;4BAAE,GAAG,CAAC;4BAAE,WAAW,EAAE,QAAQ,KAAK;wBAAS,CAAC;gBACzE,CAAC;YAED,0CAA0C;YAC1C,MAAM,OAAO,MAAM,IAAI;YACvB,KAAK,MAAM,QAAQ,KAAM;gBACvB,UAAU,UAAU,MAAM,KAAK,CAAC,QAAQ,KAAK;YAC/C;QACF;QAEA,aAAa;YACX,IAAI,MAAM,WAAW,EAAE;YAEvB,IAAI;gBACF,0EAA0E;gBAC1E,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,MAAM,OAAO,KAAK,IAAI,IAAI,KAAK,OAAO,IAAI,EAAE;oBAC5C,IAAI,KAAK,MAAM,GAAG,GAAG;wBACnB,IAAI;4BAAE;4BAAM,aAAa;wBAAK;oBAChC,OAAO;wBACL,IAAI;4BAAE,aAAa;wBAAK;oBAC1B;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8CAA8C;YAC9D;QACF;IACF,CAAC"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/payments/types/store.ts"],"sourcesContent":["import { createCrudStore } from '../../../../lib/store-factory';\r\n// REMOVED: import { data as initialData } from './data'; // Mock data no longer used - database is source of truth\r\nimport type { PaymentType } from './types';\r\nimport { toISODate, getCurrentDate } from '../../../../lib/date-utils';\r\n\r\nconst baseStore = createCrudStore<PaymentType>([], 'payment-types', {\r\n  businessIdField: 'id',\r\n  apiEndpoint: '/api/settings/data?type=payment-type',\r\n});\r\n\r\nconst originalAdd = baseStore.getState().add;\r\n\r\nbaseStore.setState((state) => ({\r\n  ...state,\r\n  add: (item) => {\r\n    const newItem = {\r\n      ...item,\r\n      createdAt: item.createdAt ?? toISODate(getCurrentDate()),\r\n    } satisfies Omit<PaymentType, 'systemId'>;\r\n    return originalAdd(newItem);\r\n  },\r\n}));\r\n\r\nexport const usePaymentTypeStore = baseStore;\r\n"],"names":[],"mappings":";;;;AAAA;AAGA;;;AAEA,MAAM,YAAY,IAAA,0IAAe,EAAc,EAAE,EAAE,iBAAiB;IAClE,iBAAiB;IACjB,aAAa;AACf;AAEA,MAAM,cAAc,UAAU,QAAQ,GAAG,GAAG;AAE5C,UAAU,QAAQ,CAAC,CAAC,QAAU,CAAC;QAC7B,GAAG,KAAK;QACR,KAAK,CAAC;YACJ,MAAM,UAAU;gBACd,GAAG,IAAI;gBACP,WAAW,KAAK,SAAS,IAAI,IAAA,iIAAS,EAAC,IAAA,sIAAc;YACvD;YACA,OAAO,YAAY;QACrB;IACF,CAAC;AAEM,MAAM,sBAAsB"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/shipping/store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\n// REMOVED: import { data as initialData } from './data'; // Mock data no longer used - database is source of truth\r\nimport type { ShippingPartner } from './types';\r\nimport Fuse from 'fuse.js';\r\nimport type { SystemId } from '@/lib/id-types';\r\n\r\n// FIX: Replaced import from a non-existent module and replaced it with a mock function.\r\nconst connectPartner = async (partnerId: string, credentials: any): Promise<{ success: boolean; message: string }> => {\r\n    console.log(`Connecting to ${partnerId} with`, credentials);\r\n    // Simulate success for known partners if they have credentials.\r\n    if (credentials && Object.values(credentials).every(v => v)) {\r\n        return { success: true, message: 'Kết nối thành công.' };\r\n    }\r\n    return { success: false, message: 'Thông tin kết nối không hợp lệ.' };\r\n};\r\n\r\ntype ShippingPartnerStoreExtension = {\r\n    searchShippingPartners: (query: string, page: number, limit?: number | undefined) => Promise<{ items: { value: string; label: string }[], hasNextPage: boolean }>;\r\n    connect: (systemId: SystemId, credentials: Record<string, any>) => Promise<{ success: boolean; message: string }>;\r\n    disconnect: (systemId: SystemId) => void;\r\n};\r\n\r\nconst baseStore = createCrudStore<ShippingPartner>([], 'shipping-partners', {\r\n  // ⚠️ DEPRECATED: Store này không còn dùng để lưu credentials nữa\r\n  // Credentials giờ được lưu trong database\r\n  apiEndpoint: '/api/settings/data?type=shipping-partner',\r\n});\r\n\r\nconst fuse = new Fuse(baseStore.getState().data, {\r\n    keys: ['name', 'id', 'phone'],\r\n    threshold: 0.3,\r\n});\r\n\r\nconst storeExtension: ShippingPartnerStoreExtension = {\r\n    searchShippingPartners: async (query: string, page: number, limit: number = 20) => {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                const allPartners = baseStore.getState().data;\r\n                const results = query ? fuse.search(query).map(r => r.item) : allPartners;\r\n                \r\n                const start = (page - 1) * limit;\r\n                const end = start + limit;\r\n                const paginatedItems = results.slice(start, end);\r\n\r\n                resolve({\r\n                    items: paginatedItems.map(p => ({ value: p.systemId, label: p.name })),\r\n                    hasNextPage: end < results.length,\r\n                });\r\n            }, 300);\r\n        });\r\n    },\r\n    connect: async (systemId: SystemId, credentials: Record<string, any>) => {\r\n        // ⚠️ DEPRECATED: Không nên dùng hàm này nữa\r\n        // Vui lòng cấu hình trong Settings → Đối tác vận chuyển\r\n        // Credentials sẽ được lưu vào shipping_partners_config\r\n        console.warn('[ShippingPartnerStore] connect() is deprecated. Use shipping_partners_config instead.');\r\n        \r\n        const partner = baseStore.getState().findById(systemId);\r\n        if (!partner) return { success: false, message: 'Không tìm thấy đối tác vận chuyển.' };\r\n        \r\n        console.log('[ShippingPartnerStore] Connecting partner:', { systemId, credentials });\r\n        \r\n        const result = { success: true, message: 'Kết nối thành công.' };\r\n        \r\n        if (result.success) {\r\n            baseStore.setState(state => {\r\n                const newData = state.data.map(p => \r\n                    p.systemId === systemId \r\n                    ? { ...p, isConnected: true, status: 'Đang hợp tác' as const, credentials } \r\n                    : p\r\n                );\r\n                \r\n                console.log('[ShippingPartnerStore] Updated partner:', newData.find(p => p.systemId === systemId));\r\n                \r\n                return { data: newData };\r\n            });\r\n        }\r\n        return result;\r\n    },\r\n    disconnect: (systemId: SystemId) => {\r\n        // ⚠️ DEPRECATED: Không nên dùng hàm này nữa\r\n        console.warn('[ShippingPartnerStore] disconnect() is deprecated. Use shipping_partners_config instead.');\r\n        \r\n        baseStore.setState(state => ({\r\n            data: state.data.map(p => \r\n                p.systemId === systemId \r\n                ? { ...p, isConnected: false, status: 'Ngừng hợp tác', credentials: {}, configuration: {} } \r\n                : p\r\n            )\r\n        }));\r\n    },\r\n};\r\n\r\nbaseStore.setState(storeExtension as any);\r\n\r\ntype ShippingPartnerStoreState = ReturnType<typeof baseStore.getState> & ShippingPartnerStoreExtension;\r\n\r\n// Export with proper Zustand hook typing\r\nexport const useShippingPartnerStore: {\r\n  (): ShippingPartnerStoreState;\r\n  <U>(selector: (state: ShippingPartnerStoreState) => U): U;\r\n  getState: () => ShippingPartnerStoreState;\r\n  setState: typeof baseStore.setState;\r\n  subscribe: typeof baseStore.subscribe;\r\n} = baseStore as any;\r\n"],"names":[],"mappings":";;;;AAAA;AAGA;;;AAGA,wFAAwF;AACxF,MAAM,iBAAiB,OAAO,WAAmB;IAC7C,QAAQ,GAAG,CAAC,CAAC,cAAc,EAAE,UAAU,KAAK,CAAC,EAAE;IAC/C,gEAAgE;IAChE,IAAI,eAAe,OAAO,MAAM,CAAC,aAAa,KAAK,CAAC,CAAA,IAAK,IAAI;QACzD,OAAO;YAAE,SAAS;YAAM,SAAS;QAAsB;IAC3D;IACA,OAAO;QAAE,SAAS;QAAO,SAAS;IAAkC;AACxE;AAQA,MAAM,YAAY,IAAA,0IAAe,EAAkB,EAAE,EAAE,qBAAqB;IAC1E,iEAAiE;IACjE,0CAA0C;IAC1C,aAAa;AACf;AAEA,MAAM,OAAO,IAAI,sJAAI,CAAC,UAAU,QAAQ,GAAG,IAAI,EAAE;IAC7C,MAAM;QAAC;QAAQ;QAAM;KAAQ;IAC7B,WAAW;AACf;AAEA,MAAM,iBAAgD;IAClD,wBAAwB,OAAO,OAAe,MAAc,QAAgB,EAAE;QAC1E,OAAO,IAAI,QAAQ,CAAA;YACf,WAAW;gBACP,MAAM,cAAc,UAAU,QAAQ,GAAG,IAAI;gBAC7C,MAAM,UAAU,QAAQ,KAAK,MAAM,CAAC,OAAO,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,IAAI;gBAE9D,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI;gBAC3B,MAAM,MAAM,QAAQ;gBACpB,MAAM,iBAAiB,QAAQ,KAAK,CAAC,OAAO;gBAE5C,QAAQ;oBACJ,OAAO,eAAe,GAAG,CAAC,CAAA,IAAK,CAAC;4BAAE,OAAO,EAAE,QAAQ;4BAAE,OAAO,EAAE,IAAI;wBAAC,CAAC;oBACpE,aAAa,MAAM,QAAQ,MAAM;gBACrC;YACJ,GAAG;QACP;IACJ;IACA,SAAS,OAAO,UAAoB;QAChC,4CAA4C;QAC5C,wDAAwD;QACxD,uDAAuD;QACvD,QAAQ,IAAI,CAAC;QAEb,MAAM,UAAU,UAAU,QAAQ,GAAG,QAAQ,CAAC;QAC9C,IAAI,CAAC,SAAS,OAAO;YAAE,SAAS;YAAO,SAAS;QAAqC;QAErF,QAAQ,GAAG,CAAC,8CAA8C;YAAE;YAAU;QAAY;QAElF,MAAM,SAAS;YAAE,SAAS;YAAM,SAAS;QAAsB;QAE/D,IAAI,OAAO,OAAO,EAAE;YAChB,UAAU,QAAQ,CAAC,CAAA;gBACf,MAAM,UAAU,MAAM,IAAI,CAAC,GAAG,CAAC,CAAA,IAC3B,EAAE,QAAQ,KAAK,WACb;wBAAE,GAAG,CAAC;wBAAE,aAAa;wBAAM,QAAQ;wBAAyB;oBAAY,IACxE;gBAGN,QAAQ,GAAG,CAAC,2CAA2C,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;gBAExF,OAAO;oBAAE,MAAM;gBAAQ;YAC3B;QACJ;QACA,OAAO;IACX;IACA,YAAY,CAAC;QACT,4CAA4C;QAC5C,QAAQ,IAAI,CAAC;QAEb,UAAU,QAAQ,CAAC,CAAA,QAAS,CAAC;gBACzB,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAA,IACjB,EAAE,QAAQ,KAAK,WACb;wBAAE,GAAG,CAAC;wBAAE,aAAa;wBAAO,QAAQ;wBAAiB,aAAa,CAAC;wBAAG,eAAe,CAAC;oBAAE,IACxF;YAEV,CAAC;IACL;AACJ;AAEA,UAAU,QAAQ,CAAC;AAKZ,MAAM,0BAMT"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/sales/sales-management-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\n\r\nexport type PrintCopiesOption = '1' | '2' | '3';\r\n\r\nexport type SalesManagementSettingsValues = {\r\n  allowCancelAfterExport: boolean;\r\n  allowNegativeOrder: boolean;\r\n  allowNegativeApproval: boolean;\r\n  allowNegativePacking: boolean;\r\n  allowNegativeStockOut: boolean;\r\n  printCopies: PrintCopiesOption;\r\n};\r\n\r\ninterface SalesManagementSettingsState extends SalesManagementSettingsValues {\r\n  initialized: boolean;\r\n  updateSetting: <K extends keyof SalesManagementSettingsValues>(key: K, value: SalesManagementSettingsValues[K]) => void;\r\n  reset: () => void;\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nconst defaultSettings: SalesManagementSettingsValues = {\r\n  allowCancelAfterExport: true,\r\n  allowNegativeOrder: true,\r\n  allowNegativeApproval: true,\r\n  allowNegativePacking: true,\r\n  allowNegativeStockOut: true,\r\n  printCopies: '1',\r\n};\r\n\r\n// API sync helper\r\nasync function syncToAPI(settings: Partial<SalesManagementSettingsValues>): Promise<boolean> {\r\n  try {\r\n    const response = await fetch('/api/settings/sales', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(settings),\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error('[Sales Management Settings API] sync error:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const useSalesManagementSettingsStore = create<SalesManagementSettingsState>()(\r\n  (set, get) => ({\r\n    ...defaultSettings,\r\n    initialized: false,\r\n    updateSetting: (key, value) => {\r\n      set((state) => ({ ...state, [key]: value }));\r\n      syncToAPI({ [key]: value }).catch(console.error);\r\n    },\r\n    reset: () => {\r\n      set(() => ({ ...defaultSettings }));\r\n      syncToAPI(defaultSettings).catch(console.error);\r\n    },\r\n    loadFromAPI: async () => {\r\n      if (get().initialized) return;\r\n      try {\r\n        const response = await fetch('/api/settings/sales');\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const data = json.data || json;\r\n          if (data) {\r\n            set({ ...defaultSettings, ...data, initialized: true });\r\n          } else {\r\n            set({ initialized: true });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('[Sales Management Settings Store] loadFromAPI error:', error);\r\n      }\r\n    },\r\n  })\r\n);\r\n\r\nexport const salesManagementDefaultSettings = defaultSettings;\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAoBA,MAAM,kBAAiD;IACrD,wBAAwB;IACxB,oBAAoB;IACpB,uBAAuB;IACvB,sBAAsB;IACtB,uBAAuB;IACvB,aAAa;AACf;AAEA,kBAAkB;AAClB,eAAe,UAAU,QAAgD;IACvE,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,uBAAuB;YAClD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,OAAO,SAAS,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+CAA+C;QAC7D,OAAO;IACT;AACF;AAEO,MAAM,kCAAkC,IAAA,kJAAM,IACnD,CAAC,KAAK,MAAQ,CAAC;QACb,GAAG,eAAe;QAClB,aAAa;QACb,eAAe,CAAC,KAAK;YACnB,IAAI,CAAC,QAAU,CAAC;oBAAE,GAAG,KAAK;oBAAE,CAAC,IAAI,EAAE;gBAAM,CAAC;YAC1C,UAAU;gBAAE,CAAC,IAAI,EAAE;YAAM,GAAG,KAAK,CAAC,QAAQ,KAAK;QACjD;QACA,OAAO;YACL,IAAI,IAAM,CAAC;oBAAE,GAAG,eAAe;gBAAC,CAAC;YACjC,UAAU,iBAAiB,KAAK,CAAC,QAAQ,KAAK;QAChD;QACA,aAAa;YACX,IAAI,MAAM,WAAW,EAAE;YACvB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,MAAM,OAAO,KAAK,IAAI,IAAI;oBAC1B,IAAI,MAAM;wBACR,IAAI;4BAAE,GAAG,eAAe;4BAAE,GAAG,IAAI;4BAAE,aAAa;wBAAK;oBACvD,OAAO;wBACL,IAAI;4BAAE,aAAa;wBAAK;oBAC1B;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wDAAwD;YACxE;QACF;IACF,CAAC;AAGI,MAAM,iCAAiC"}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/use-settings-page-header.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Settings2 } from 'lucide-react';\r\nimport { usePageHeader, type PageHeaderState, type PageHeaderDocLink } from '../../contexts/page-header-context';\r\nimport type { BreadcrumbItem } from '../../lib/breadcrumb-system';\r\n\r\nexport type SettingsPageHeaderOptions = Omit<PageHeaderState, 'title' | 'docLink'> & {\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  docLink?: string | PageHeaderDocLink;\r\n};\r\n\r\nconst defaultDocLabel = 'Xem hướng dẫn';\r\nconst baseBreadcrumb: BreadcrumbItem[] = [\r\n  { label: 'Trang chủ', href: '/', isCurrent: false },\r\n  { label: 'Cài đặt', href: '/settings', isCurrent: false },\r\n];\r\n\r\nconst normalizeLabel = (label?: string) => label?.trim().toLocaleLowerCase('vi');\r\nconst isHomeCrumb = (item: BreadcrumbItem) => item.href === '/' || normalizeLabel(item.label) === 'trang chủ';\r\nconst isSettingsCrumb = (item: BreadcrumbItem) => item.href === '/settings' || normalizeLabel(item.label) === 'cài đặt';\r\n\r\nexport function useSettingsPageHeader(options: SettingsPageHeaderOptions) {\r\n  const pathname = usePathname();\r\n  const { title, icon, docLink, breadcrumb, ...rest } = options;\r\n\r\n  const normalizedDocLink = React.useMemo<PageHeaderDocLink | undefined>(() => {\r\n    if (!docLink) return undefined;\r\n    if (typeof docLink === 'string') {\r\n      return { href: docLink, label: defaultDocLabel };\r\n    }\r\n    return {\r\n      href: docLink.href,\r\n      label: docLink.label ?? defaultDocLabel,\r\n    };\r\n  }, [docLink]);\r\n\r\n  const decoratedTitle = React.useMemo(() => (\r\n    <span className=\"inline-flex items-center gap-2\">\r\n      {(icon ?? <Settings2 className=\"h-5 w-5 text-muted-foreground\" aria-hidden=\"true\" />)}\r\n      <span>{title}</span>\r\n    </span>\r\n  ), [icon, title]);\r\n\r\n  const normalizedBreadcrumb = React.useMemo(() => {\r\n    const custom = (breadcrumb ?? []).map((item) => ({\r\n      ...item,\r\n      href: item.href || pathname,\r\n    }));\r\n\r\n    let merged: BreadcrumbItem[] = custom.length\r\n      ? [...custom]\r\n      : [{ label: title, href: pathname, isCurrent: true }];\r\n\r\n    if (!merged.some(isHomeCrumb)) {\r\n      merged = [{ ...baseBreadcrumb[0] }, ...merged];\r\n    }\r\n\r\n    if (!merged.some(isSettingsCrumb)) {\r\n      const homeIndex = merged.findIndex(isHomeCrumb);\r\n      const insertionIndex = homeIndex >= 0 ? homeIndex + 1 : 0;\r\n      merged = [\r\n        ...merged.slice(0, insertionIndex),\r\n        { ...baseBreadcrumb[1] },\r\n        ...merged.slice(insertionIndex),\r\n      ];\r\n    }\r\n\r\n    return merged.map((item, index) => ({\r\n      ...item,\r\n      isCurrent: index === merged.length - 1,\r\n    }));\r\n  }, [breadcrumb, pathname, title]);\r\n\r\n  return usePageHeader({\r\n    ...rest,\r\n    breadcrumb: normalizedBreadcrumb,\r\n    title: decoratedTitle,\r\n    docLink: normalizedDocLink,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AASA,MAAM,kBAAkB;AACxB,MAAM,iBAAmC;IACvC;QAAE,OAAO;QAAa,MAAM;QAAK,WAAW;IAAM;IAClD;QAAE,OAAO;QAAW,MAAM;QAAa,WAAW;IAAM;CACzD;AAED,MAAM,iBAAiB,CAAC,QAAmB,OAAO,OAAO,kBAAkB;AAC3E,MAAM,cAAc,CAAC,OAAyB,KAAK,IAAI,KAAK,OAAO,eAAe,KAAK,KAAK,MAAM;AAClG,MAAM,kBAAkB,CAAC,OAAyB,KAAK,IAAI,KAAK,eAAe,eAAe,KAAK,KAAK,MAAM;AAEvG,SAAS,sBAAsB,OAAkC;IACtE,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,MAAM,GAAG;IAEtD,MAAM,oBAAoB,gNAAa,CAAgC;QACrE,IAAI,CAAC,SAAS,OAAO;QACrB,IAAI,OAAO,YAAY,UAAU;YAC/B,OAAO;gBAAE,MAAM;gBAAS,OAAO;YAAgB;QACjD;QACA,OAAO;YACL,MAAM,QAAQ,IAAI;YAClB,OAAO,QAAQ,KAAK,IAAI;QAC1B;IACF,GAAG;QAAC;KAAQ;IAEZ,MAAM,iBAAiB,gNAAa,CAAC,kBACnC,8OAAC;YAAK,WAAU;;gBACZ,sBAAQ,8OAAC,6NAAS;oBAAC,WAAU;oBAAgC,eAAY;;;;;;8BAC3E,8OAAC;8BAAM;;;;;;;;;;;kBAER;QAAC;QAAM;KAAM;IAEhB,MAAM,uBAAuB,gNAAa,CAAC;QACzC,MAAM,SAAS,CAAC,cAAc,EAAE,EAAE,GAAG,CAAC,CAAC,OAAS,CAAC;gBAC/C,GAAG,IAAI;gBACP,MAAM,KAAK,IAAI,IAAI;YACrB,CAAC;QAED,IAAI,SAA2B,OAAO,MAAM,GACxC;eAAI;SAAO,GACX;YAAC;gBAAE,OAAO;gBAAO,MAAM;gBAAU,WAAW;YAAK;SAAE;QAEvD,IAAI,CAAC,OAAO,IAAI,CAAC,cAAc;YAC7B,SAAS;gBAAC;oBAAE,GAAG,cAAc,CAAC,EAAE;gBAAC;mBAAM;aAAO;QAChD;QAEA,IAAI,CAAC,OAAO,IAAI,CAAC,kBAAkB;YACjC,MAAM,YAAY,OAAO,SAAS,CAAC;YACnC,MAAM,iBAAiB,aAAa,IAAI,YAAY,IAAI;YACxD,SAAS;mBACJ,OAAO,KAAK,CAAC,GAAG;gBACnB;oBAAE,GAAG,cAAc,CAAC,EAAE;gBAAC;mBACpB,OAAO,KAAK,CAAC;aACjB;QACH;QAEA,OAAO,OAAO,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;gBAClC,GAAG,IAAI;gBACP,WAAW,UAAU,OAAO,MAAM,GAAG;YACvC,CAAC;IACH,GAAG;QAAC;QAAY;QAAU;KAAM;IAEhC,OAAO,IAAA,uJAAa,EAAC;QACnB,GAAG,IAAI;QACP,YAAY;QACZ,OAAO;QACP,SAAS;IACX;AACF"}},
    {"offset": {"line": 495, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/printer/workflow-templates-page.tsx"],"sourcesContent":["/**\r\n * Workflow Templates Settings Page - UPGRADED\r\n * \r\n * Quản lý templates quy trình xử lý cho các chức năng\r\n * - Full CRUD: Create, Read, Update, Delete templates\r\n * - Mỗi chức năng có thể có NHIỀU quy trình\r\n * - Có switch \"Mặc định\" để chọn quy trình mặc định cho mỗi chức năng\r\n * - UI: VirtualizedDataTable với select all + Dialog editor\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { useSettingsPageHeader } from '../use-settings-page-header';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '../../../components/ui/card';\r\nimport { Button } from '../../../components/ui/button';\r\nimport { SubtaskList, type Subtask } from '../../../components/shared/subtask-list';\r\nimport { toast } from 'sonner';\r\nimport { nanoid } from 'nanoid';\r\nimport { \r\n  Plus, \r\n  Save, \r\n  X, \r\n  MoreHorizontal,\r\n} from 'lucide-react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../../../components/ui/dialog';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '../../../components/ui/dropdown-menu';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '../../../components/ui/select';\r\nimport { Input } from '../../../components/ui/input';\r\nimport { Label } from '../../../components/ui/label';\r\nimport { Textarea } from '../../../components/ui/textarea';\r\nimport { Badge } from '../../../components/ui/badge';\r\nimport { Switch } from '../../../components/ui/switch';\r\nimport { Checkbox } from '../../../components/ui/checkbox';\r\nimport { VirtualizedDataTable } from '../../../components/data-table/virtualized-data-table';\r\nimport type { ColumnDef } from '../../../components/data-table/types';\r\nimport { ConfirmDialog } from '../../../components/ui/confirm-dialog';\r\nimport { Separator } from '../../../components/ui/separator';\r\nimport { \r\n  useWorkflowTemplates, \r\n  getWorkflowTemplateSync as getWorkflowTemplate,\r\n  getWorkflowTemplatesSync as getWorkflowTemplates,\r\n  type WorkflowTemplate \r\n} from '../../../hooks/use-workflow-templates';\r\n\r\n// ============================================================================\r\n// Types & Constants\r\n// ============================================================================\r\n\r\n// Re-export WorkflowTemplate from hook for backward compatibility\r\nexport type { WorkflowTemplate } from '../../../hooks/use-workflow-templates';\r\n\r\n// Available workflow types - Các chức năng có thể cần quy trình xử lý\r\nconst WORKFLOW_TYPES = [\r\n  { value: 'complaints', label: 'Khiếu nại' },\r\n  { value: 'warranty', label: 'Bảo hành' },\r\n  { value: 'orders', label: 'Đơn hàng' },\r\n  { value: 'sales-returns', label: 'Đổi trả hàng' },\r\n  { value: 'purchase-returns', label: 'Trả hàng NCC' },\r\n  { value: 'stock-transfers', label: 'Chuyển kho' },\r\n  { value: 'inventory-checks', label: 'Kiểm kho' },\r\n] as const;\r\n\r\n// ============================================================================\r\n// Table Columns\r\n// ============================================================================\r\n\r\nfunction createColumns(\r\n  onEdit: (template: WorkflowTemplate) => void,\r\n  onDelete: (templateId: string) => void,\r\n  onToggleDefault: (template: WorkflowTemplate, checked: boolean) => void,\r\n): ColumnDef<WorkflowTemplate>[] {\r\n  return [\r\n    {\r\n      id: 'select',\r\n      size: 40,\r\n      meta: { displayName: 'Chọn', sticky: 'left' },\r\n      header: ({ isAllPageRowsSelected, isSomePageRowsSelected, onToggleAll }) => (\r\n        <Checkbox\r\n          checked={isSomePageRowsSelected ? 'indeterminate' : isAllPageRowsSelected}\r\n          onCheckedChange={(checked) => onToggleAll?.(checked === true)}\r\n          aria-label=\"Chọn tất cả\"\r\n        />\r\n      ),\r\n      cell: ({ isSelected, onToggleSelect }) => (\r\n        <Checkbox\r\n          checked={isSelected}\r\n          onCheckedChange={(checked) => onToggleSelect?.(checked === true)}\r\n          aria-label=\"Chọn dòng\"\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      id: 'label',\r\n      header: 'Tên quy trình',\r\n      size: 250,\r\n      cell: ({ row }) => (\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"font-medium\">{row.label}</span>\r\n          {row.isDefault && (\r\n            <Badge variant=\"outline\" className=\"text-xs\">\r\n              Mặc định\r\n            </Badge>\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      id: 'name',\r\n      header: 'Chức năng',\r\n      size: 120,\r\n      cell: ({ row }) => {\r\n        const wt = WORKFLOW_TYPES.find(w => w.value === row.name);\r\n        return (\r\n          <Badge variant=\"secondary\">\r\n            {wt?.label || row.name}\r\n          </Badge>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      id: 'description',\r\n      header: 'Mô tả',\r\n      size: 250,\r\n      cell: ({ row }) => (\r\n        <span className=\"text-sm text-muted-foreground truncate block max-w-[230px]\">\r\n          {row.description || '-'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      id: 'subtasks',\r\n      header: 'Số bước',\r\n      size: 80,\r\n      cell: ({ row }) => (\r\n        <span className=\"text-center block\">{row.subtasks.length}</span>\r\n      ),\r\n    },\r\n    {\r\n      id: 'isDefault',\r\n      header: 'Mặc định',\r\n      size: 100,\r\n      cell: ({ row }) => (\r\n        <div className=\"flex justify-center\">\r\n          <Switch\r\n            checked={row.isDefault}\r\n            onCheckedChange={(checked) => onToggleDefault(row, checked)}\r\n            aria-label=\"Đặt làm mặc định\"\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      id: 'actions',\r\n      header: 'Thao tác',\r\n      size: 80,\r\n      meta: { displayName: 'Thao tác', sticky: 'right' },\r\n      cell: ({ row }) => (\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\r\n              <MoreHorizontal className=\"h-4 w-4\" />\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            <DropdownMenuItem onClick={() => onEdit(row)}>\r\n              Sửa\r\n            </DropdownMenuItem>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem \r\n              onClick={() => onDelete(row.systemId)}\r\n              className=\"text-destructive focus:text-destructive\"\r\n            >\r\n              Xóa\r\n            </DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      ),\r\n    },\r\n  ];\r\n}\r\n\r\n// ============================================================================\r\n// Main Component\r\n// ============================================================================\r\n\r\nexport function WorkflowTemplatesPage() {\r\n  const { templates, setTemplates, isLoading } = useWorkflowTemplates();\r\n  \r\n  // Table states\r\n  const [rowSelection, setRowSelection] = React.useState<Record<string, boolean>>({});\r\n  const [expanded, setExpanded] = React.useState<Record<string, boolean>>({});\r\n  const [sorting, setSorting] = React.useState<{ id: string; desc: boolean }>({ id: 'createdAt', desc: true });\r\n  const [columnVisibility, setColumnVisibility] = React.useState<Record<string, boolean>>({});\r\n  const [columnOrder, setColumnOrder] = React.useState<string[]>([]);\r\n  const [pinnedColumns, setPinnedColumns] = React.useState<string[]>(['select', 'actions']);\r\n  \r\n  // Dialog states\r\n  const [isDialogOpen, setIsDialogOpen] = React.useState(false);\r\n  const [editingTemplate, setEditingTemplate] = React.useState<WorkflowTemplate | null>(null);\r\n  const [deleteTargetId, setDeleteTargetId] = React.useState<string | null>(null);\r\n  const [showBulkDeleteDialog, setShowBulkDeleteDialog] = React.useState(false);\r\n  \r\n  // Form states\r\n  const [formName, setFormName] = React.useState('');\r\n  const [formLabel, setFormLabel] = React.useState('');\r\n  const [formDescription, setFormDescription] = React.useState('');\r\n  const [formSubtasks, setFormSubtasks] = React.useState<Subtask[]>([]);\r\n\r\n  const selectedRows = React.useMemo(() => {\r\n    return templates.filter(t => rowSelection[t.systemId]);\r\n  }, [templates, rowSelection]);\r\n\r\n  const handleCreate = () => {\r\n    setEditingTemplate(null);\r\n    setFormName('');\r\n    setFormLabel('');\r\n    setFormDescription('');\r\n    setFormSubtasks([]);\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  // Tính số quy trình theo chức năng\r\n  const workflowCounts = React.useMemo(() => {\r\n    const counts: Record<string, number> = {};\r\n    WORKFLOW_TYPES.forEach(wt => {\r\n      counts[wt.value] = templates.filter(t => t.name === wt.value).length;\r\n    });\r\n    return counts;\r\n  }, [templates]);\r\n\r\n  // Lấy các chức năng đã có quy trình\r\n  const activeWorkflows = React.useMemo(() => {\r\n    return WORKFLOW_TYPES.filter(wt => workflowCounts[wt.value] > 0);\r\n  }, [workflowCounts]);\r\n\r\n  useSettingsPageHeader({\r\n    title: 'Quy trình',\r\n    actions: [\r\n      // Hiển thị badges cho các chức năng đã có quy trình\r\n      ...activeWorkflows.map(wt => (\r\n        <Badge key={wt.value} variant=\"secondary\" className=\"text-xs\">\r\n          {wt.label}: {workflowCounts[wt.value]}\r\n        </Badge>\r\n      )),\r\n      <Button key=\"add\" onClick={handleCreate}>\r\n        <Plus className=\"h-4 w-4\" />\r\n        Tạo quy trình\r\n      </Button>\r\n    ],\r\n  });\r\n\r\n  const handleEdit = React.useCallback((template: WorkflowTemplate) => {\r\n    setEditingTemplate(template);\r\n    setFormName(template.name);\r\n    setFormLabel(template.label);\r\n    setFormDescription(template.description);\r\n    setFormSubtasks([...template.subtasks]);\r\n    setIsDialogOpen(true);\r\n  }, []);\r\n\r\n  const handleSave = () => {\r\n    // Validation\r\n    if (!formName || !formLabel || formSubtasks.length === 0) {\r\n      toast.error('Vui lòng điền đầy đủ thông tin');\r\n      return;\r\n    }\r\n\r\n    const now = new Date();\r\n\r\n    if (editingTemplate) {\r\n      // Update existing\r\n      const updatedTemplates = templates.map(t =>\r\n        t.systemId === editingTemplate.systemId\r\n          ? {\r\n              ...t,\r\n              name: formName,\r\n              label: formLabel,\r\n              description: formDescription,\r\n              subtasks: formSubtasks,\r\n              updatedAt: now,\r\n            }\r\n          : t\r\n      );\r\n      setTemplates(updatedTemplates);\r\n      toast.success('Đã cập nhật quy trình');\r\n    } else {\r\n      // Create new - check if this is the first template for this function\r\n      const existingForFunction = templates.filter(t => t.name === formName);\r\n      const isFirstForFunction = existingForFunction.length === 0;\r\n      \r\n      const newTemplate: WorkflowTemplate = {\r\n        systemId: nanoid(),\r\n        id: nanoid(),\r\n        name: formName,\r\n        label: formLabel,\r\n        description: formDescription,\r\n        subtasks: formSubtasks,\r\n        isDefault: isFirstForFunction, // Auto set as default if first\r\n        createdAt: now,\r\n        updatedAt: now,\r\n      };\r\n      setTemplates([...templates, newTemplate]);\r\n      toast.success('Đã tạo quy trình mới');\r\n    }\r\n\r\n    setIsDialogOpen(false);\r\n  };\r\n\r\n  const handleDeleteClick = React.useCallback((templateId: string) => {\r\n    setDeleteTargetId(templateId);\r\n  }, []);\r\n\r\n  const handleDeleteConfirm = () => {\r\n    if (!deleteTargetId) return;\r\n\r\n    const templateToDelete = templates.find(t => t.systemId === deleteTargetId);\r\n    \r\n    let newTemplates = templates.filter(t => t.systemId !== deleteTargetId);\r\n    \r\n    // If deleted template was default, set another one as default\r\n    if (templateToDelete?.isDefault) {\r\n      const sameFunction = newTemplates.filter(t => t.name === templateToDelete.name);\r\n      if (sameFunction.length > 0 && !sameFunction.some(t => t.isDefault)) {\r\n        newTemplates = newTemplates.map(t => \r\n          t.systemId === sameFunction[0].systemId ? { ...t, isDefault: true } : t\r\n        );\r\n      }\r\n    }\r\n    \r\n    setTemplates(newTemplates);\r\n    \r\n    toast.success('Đã xóa quy trình');\r\n    setDeleteTargetId(null);\r\n  };\r\n\r\n  const handleBulkDelete = () => {\r\n    setShowBulkDeleteDialog(true);\r\n  };\r\n\r\n  const handleBulkDeleteConfirm = () => {\r\n    const idsToDelete = Object.keys(rowSelection);\r\n    \r\n    let newTemplates = templates.filter(t => !idsToDelete.includes(t.systemId));\r\n    \r\n    // Ensure each function has a default\r\n    WORKFLOW_TYPES.forEach(wt => {\r\n      const forFunction = newTemplates.filter(t => t.name === wt.value);\r\n      if (forFunction.length > 0 && !forFunction.some(t => t.isDefault)) {\r\n        newTemplates = newTemplates.map(t => \r\n          t.systemId === forFunction[0].systemId ? { ...t, isDefault: true } : t\r\n        );\r\n      }\r\n    });\r\n    \r\n    setTemplates(newTemplates);\r\n    \r\n    setRowSelection({});\r\n    setShowBulkDeleteDialog(false);\r\n    toast.success(`Đã xóa ${idsToDelete.length} quy trình`);\r\n  };\r\n\r\n  const handleToggleDefault = React.useCallback((template: WorkflowTemplate, checked: boolean) => {\r\n    if (checked) {\r\n      // Bật mặc định cho template này\r\n      const updatedTemplates = templates.map(t => {\r\n        if (t.name === template.name) {\r\n          return {\r\n            ...t,\r\n            isDefault: t.systemId === template.systemId,\r\n            updatedAt: new Date(),\r\n          };\r\n        }\r\n        return t;\r\n      });\r\n      setTemplates(updatedTemplates);\r\n    } else {\r\n      // Tắt mặc định - tìm template khác cùng function để set mặc định\r\n      const otherTemplates = templates.filter(t => t.name === template.name && t.systemId !== template.systemId);\r\n      if (otherTemplates.length > 0) {\r\n        const newDefault = otherTemplates[0];\r\n        const updatedTemplates = templates.map(t => {\r\n          if (t.name === template.name) {\r\n            return {\r\n              ...t,\r\n              isDefault: t.systemId === newDefault.systemId,\r\n              updatedAt: new Date(),\r\n            };\r\n          }\r\n          return t;\r\n        });\r\n        setTemplates(updatedTemplates);\r\n      } else {\r\n        // Không có template khác, giữ nguyên\r\n        toast.error('Phải có ít nhất một quy trình mặc định cho chức năng này');\r\n      }\r\n    }\r\n  }, [templates, setTemplates]);\r\n\r\n  const columns = React.useMemo(\r\n    () => createColumns(handleEdit, handleDeleteClick, handleToggleDefault),\r\n    [handleEdit, handleDeleteClick, handleToggleDefault]\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Templates Table */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Danh sách quy trình</CardTitle>\r\n          <CardDescription>\r\n            Quản lý các quy trình xử lý cho từng chức năng. Mỗi chức năng có thể có nhiều quy trình, chọn 1 làm mặc định.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {templates.length === 0 ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              Chưa có quy trình nào. Nhấn \"Tạo quy trình\" để bắt đầu.\r\n            </div>\r\n          ) : (\r\n            <VirtualizedDataTable\r\n              columns={columns}\r\n              data={templates}\r\n              rowSelection={rowSelection}\r\n              setRowSelection={setRowSelection}\r\n              onBulkDelete={handleBulkDelete}\r\n              showBulkDeleteButton={true}\r\n              allSelectedRows={selectedRows}\r\n              expanded={expanded}\r\n              setExpanded={setExpanded}\r\n              sorting={sorting}\r\n              setSorting={setSorting}\r\n              columnVisibility={columnVisibility}\r\n              setColumnVisibility={setColumnVisibility}\r\n              columnOrder={columnOrder}\r\n              setColumnOrder={setColumnOrder}\r\n              pinnedColumns={pinnedColumns}\r\n              setPinnedColumns={setPinnedColumns}\r\n            />\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Info Card */}\r\n      <Card className=\"bg-muted/50\">\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"space-y-3 text-sm\">\r\n            <p className=\"font-medium\">Hướng dẫn sử dụng:</p>\r\n            <ul className=\"list-disc list-inside space-y-1 text-muted-foreground\">\r\n              <li>Mỗi chức năng (Khiếu nại, Bảo hành, ...) có thể có nhiều quy trình</li>\r\n              <li>Bật switch \"Mặc định\" để chọn quy trình áp dụng khi tạo phiếu mới</li>\r\n              <li>Mỗi chức năng chỉ có 1 quy trình mặc định</li>\r\n              <li>Khi hoàn thành 100% checklist → Tự động chuyển trạng thái cuối</li>\r\n            </ul>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Create/Edit Dialog */}\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {editingTemplate ? 'Chỉnh sửa quy trình' : 'Tạo quy trình mới'}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {editingTemplate \r\n                ? 'Cập nhật thông tin và các bước trong quy trình'\r\n                : 'Chọn chức năng và tạo danh sách các bước xử lý'\r\n              }\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-6 py-4\">\r\n            {/* Basic Info */}\r\n            <div className=\"space-y-4\">\r\n              {/* Workflow Type Select */}\r\n              <div className=\"space-y-2\">\r\n                <Label>Chức năng *</Label>\r\n                <Select value={formName} onValueChange={setFormName}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Chọn chức năng\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {WORKFLOW_TYPES.map(wt => {\r\n                      const count = templates.filter(t => t.name === wt.value).length;\r\n                      return (\r\n                        <SelectItem key={wt.value} value={wt.value}>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span>{wt.label}</span>\r\n                            {count > 0 && (\r\n                              <Badge variant=\"secondary\" className=\"ml-2 text-xs\">\r\n                                {count} quy trình\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                        </SelectItem>\r\n                      );\r\n                    })}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* Label */}\r\n              <div className=\"space-y-2\">\r\n                <Label>Tên quy trình *</Label>\r\n                <Input\r\n                  value={formLabel}\r\n                  onChange={(e) => setFormLabel(e.target.value)}\r\n                  placeholder=\"VD: Quy trình xử lý khiếu nại VIP\"\r\n                />\r\n              </div>\r\n\r\n              {/* Description */}\r\n              <div className=\"space-y-2\">\r\n                <Label>Mô tả</Label>\r\n                <Textarea\r\n                  value={formDescription}\r\n                  onChange={(e) => setFormDescription(e.target.value)}\r\n                  placeholder=\"Mô tả ngắn gọn về quy trình này\"\r\n                  rows={2}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <Separator />\r\n\r\n            {/* Subtasks Editor */}\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-base\">Các bước xử lý *</Label>\r\n                <Badge variant=\"secondary\">\r\n                  {formSubtasks.length} bước\r\n                </Badge>\r\n              </div>\r\n\r\n              <SubtaskList\r\n                subtasks={formSubtasks}\r\n                onAdd={(title, parentId) => {\r\n                  const newSubtask: Subtask = {\r\n                    id: nanoid(),\r\n                    title,\r\n                    completed: false,\r\n                    order: formSubtasks.length,\r\n                    createdAt: new Date(),\r\n                    parentId,\r\n                  };\r\n                  setFormSubtasks(prev => [...prev, newSubtask]);\r\n                }}\r\n                onUpdate={(id, updates) => {\r\n                  setFormSubtasks(prev =>\r\n                    prev.map(s => (s.id === id ? { ...s, ...updates } : s))\r\n                  );\r\n                }}\r\n                onDelete={(id) => {\r\n                  setFormSubtasks(prev =>\r\n                    prev.filter(s => s.id !== id && s.parentId !== id)\r\n                  );\r\n                }}\r\n                onReorder={(reordered) => {\r\n                  setFormSubtasks(reordered);\r\n                }}\r\n                onToggleComplete={(id, completed) => {\r\n                  // Keep completed false in template mode\r\n                  setFormSubtasks(prev =>\r\n                    prev.map(s => (s.id === id ? { ...s, completed: false } : s))\r\n                  );\r\n                }}\r\n                allowNested={true}\r\n                showProgress={false}\r\n                readonly={false}\r\n                emptyMessage=\"Chưa có bước nào. Click 'Thêm subtask' để tạo.\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\r\n              <X className=\"h-4 w-4\" />\r\n              Hủy\r\n            </Button>\r\n            <Button onClick={handleSave}>\r\n              <Save className=\"h-4 w-4\" />\r\n              {editingTemplate ? 'Cập nhật' : 'Tạo mới'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <ConfirmDialog\r\n        open={!!deleteTargetId}\r\n        onOpenChange={(open) => !open && setDeleteTargetId(null)}\r\n        title=\"Xác nhận xóa\"\r\n        description={`Bạn có chắc muốn xóa quy trình \"${templates.find(t => t.systemId === deleteTargetId)?.label || ''}\"? Hành động này không thể hoàn tác.`}\r\n        confirmText=\"Xóa\"\r\n        cancelText=\"Hủy\"\r\n        variant=\"destructive\"\r\n        onConfirm={handleDeleteConfirm}\r\n      />\r\n\r\n      {/* Bulk Delete Confirmation Dialog */}\r\n      <ConfirmDialog\r\n        open={showBulkDeleteDialog}\r\n        onOpenChange={setShowBulkDeleteDialog}\r\n        title=\"Xác nhận xóa nhiều\"\r\n        description={`Bạn có chắc muốn xóa ${selectedRows.length} quy trình đã chọn? Hành động này không thể hoàn tác.`}\r\n        confirmText=\"Xóa tất cả\"\r\n        cancelText=\"Hủy\"\r\n        variant=\"destructive\"\r\n        onConfirm={handleBulkDeleteConfirm}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n// ============================================================================\r\n// Re-export functions from hook for backward compatibility\r\n// ============================================================================\r\n\r\nexport { getWorkflowTemplate, getWorkflowTemplates };\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1509, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-types-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { CustomerType } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultCustomerTypes: CustomerType[] = [\r\n  {\r\n    systemId: asSystemId('CTYPE00000001'),\r\n    id: asBusinessId('CANHAN'),\r\n    name: 'Cá nhân',\r\n    description: 'Khách hàng cá nhân, mua lẻ',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-05T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CTYPE00000002'),\r\n    id: asBusinessId('DOANHNGHIEP'),\r\n    name: 'Doanh nghiệp',\r\n    description: 'Khách hàng là công ty, doanh nghiệp',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-06T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,uBAAuC;IAClD;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD"}},
    {"offset": {"line": 1543, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-types-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CustomerType } from './types';\r\nimport { defaultCustomerTypes } from './customer-types-data';\r\n\r\nexport const useCustomerTypeStore = createCrudStore<CustomerType>(\r\n  defaultCustomerTypes, 'customer-types',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=customer-type',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,uBAAuB,IAAA,0IAAe,EACjD,sLAAoB,EAAE,kBACtB;IACE,aAAa;AACf"}},
    {"offset": {"line": 1558, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-groups-data.ts"],"sourcesContent":["import type { CustomerGroup } from './types';\r\nimport { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultCustomerGroups: CustomerGroup[] = [\r\n  {\r\n    systemId: asSystemId('CGROUP00000001'),\r\n    id: asBusinessId('VIP'),\r\n    name: 'VIP',\r\n    description: 'Khách hàng VIP, mua nhiều, giá trị cao',\r\n    color: '#FFD700',\r\n    defaultCreditLimit: 50000000,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-01T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CGROUP00000002'),\r\n    id: asBusinessId('THUONGXUYEN'),\r\n    name: 'Thường xuyên',\r\n    description: 'Khách hàng mua thường xuyên',\r\n    color: '#4CAF50',\r\n    defaultCreditLimit: 20000000,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-02T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CGROUP00000003'),\r\n    id: asBusinessId('MOI'),\r\n    name: 'Mới',\r\n    description: 'Khách hàng mới, lần đầu mua',\r\n    color: '#2196F3',\r\n    defaultCreditLimit: 5000000,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-03T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CGROUP00000004'),\r\n    id: asBusinessId('TIEMNANG'),\r\n    name: 'Tiềm năng',\r\n    description: 'Khách hàng tiềm năng, đang tìm hiểu',\r\n    color: '#FF9800',\r\n    defaultCreditLimit: 0,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-04T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAEO,MAAM,wBAAyC;IACpD;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,oBAAoB;QACpB,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,oBAAoB;QACpB,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,oBAAoB;QACpB,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,oBAAoB;QACpB,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD"}},
    {"offset": {"line": 1620, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-groups-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CustomerGroup } from './types';\r\nimport { defaultCustomerGroups } from './customer-groups-data';\r\n\r\nexport const useCustomerGroupStore = createCrudStore<CustomerGroup>(\r\n  defaultCustomerGroups, 'customer-groups',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=customer-group',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,wBAAwB,IAAA,0IAAe,EAClD,wLAAqB,EAAE,mBACvB;IACE,aAAa;AACf"}},
    {"offset": {"line": 1635, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-sources-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { CustomerSource } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultCustomerSources: CustomerSource[] = [\r\n  {\r\n    systemId: asSystemId('CSOURCE00000001'),\r\n    id: asBusinessId('WEBSITE'),\r\n    name: 'Website',\r\n    description: 'Khách hàng đến từ website công ty',\r\n    type: 'Online',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-07T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000002'),\r\n    id: asBusinessId('FACEBOOK'),\r\n    name: 'Facebook',\r\n    description: 'Khách hàng từ quảng cáo Facebook',\r\n    type: 'Online',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-08T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000003'),\r\n    id: asBusinessId('ZALO'),\r\n    name: 'Zalo',\r\n    description: 'Khách hàng từ Zalo',\r\n    type: 'Online',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-09T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000004'),\r\n    id: asBusinessId('GIOITHIEU'),\r\n    name: 'Giới thiệu',\r\n    description: 'Khách hàng được giới thiệu bởi khách cũ',\r\n    type: 'Referral',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-10T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000005'),\r\n    id: asBusinessId('CUAHANG'),\r\n    name: 'Cửa hàng',\r\n    description: 'Khách hàng đến trực tiếp cửa hàng',\r\n    type: 'Offline',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-11T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000006'),\r\n    id: asBusinessId('DOITAC'),\r\n    name: 'Đối tác',\r\n    description: 'Khách hàng từ đối tác liên kết',\r\n    type: 'Other',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-12T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,yBAA2C;IACtD;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD"}},
    {"offset": {"line": 1715, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-sources-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CustomerSource } from './types';\r\nimport { defaultCustomerSources } from './customer-sources-data';\r\n\r\nexport const useCustomerSourceStore = createCrudStore<CustomerSource>(\r\n  defaultCustomerSources, 'customer-sources',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=customer-source',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,yBAAyB,IAAA,0IAAe,EACnD,0LAAsB,EAAE,oBACxB;IACE,aAAa;AACf"}},
    {"offset": {"line": 1730, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/payment-terms-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { PaymentTerm } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultPaymentTerms: PaymentTerm[] = [\r\n  {\r\n    systemId: asSystemId('PTERM00000001'),\r\n    id: asBusinessId('COD'),\r\n    name: 'Thanh toán ngay (COD)',\r\n    description: 'Thanh toán khi nhận hàng',\r\n    days: 0,\r\n    isDefault: true,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-19T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000002'),\r\n    id: asBusinessId('NET7'),\r\n    name: 'Thanh toán trong 7 ngày',\r\n    description: 'Thanh toán trong vòng 7 ngày kể từ ngày nhận hàng',\r\n    days: 7,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-20T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000003'),\r\n    id: asBusinessId('NET15'),\r\n    name: 'Thanh toán trong 15 ngày',\r\n    description: 'Thanh toán trong vòng 15 ngày kể từ ngày nhận hàng',\r\n    days: 15,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-21T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000004'),\r\n    id: asBusinessId('NET30'),\r\n    name: 'Thanh toán trong 30 ngày',\r\n    description: 'Thanh toán trong vòng 30 ngày kể từ ngày nhận hàng',\r\n    days: 30,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-22T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000005'),\r\n    id: asBusinessId('NET60'),\r\n    name: 'Thanh toán trong 60 ngày',\r\n    description: 'Thanh toán trong vòng 60 ngày kể từ ngày nhận hàng',\r\n    days: 60,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-23T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000006'),\r\n    id: asBusinessId('NET90'),\r\n    name: 'Thanh toán trong 90 ngày',\r\n    description: 'Thanh toán trong vòng 90 ngày kể từ ngày nhận hàng',\r\n    days: 90,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-24T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,sBAAqC;IAChD;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;CACD"}},
    {"offset": {"line": 1816, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/payment-terms-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { PaymentTerm } from './types';\r\nimport { defaultPaymentTerms } from './payment-terms-data';\r\n\r\nexport const usePaymentTermStore = createCrudStore<PaymentTerm>(\r\n  defaultPaymentTerms, 'payment-terms',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=payment-term',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,sBAAsB,IAAA,0IAAe,EAChD,oLAAmB,EAAE,iBACrB;IACE,aAAa;AACf"}},
    {"offset": {"line": 1831, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/credit-ratings-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { CreditRating } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultCreditRatings: CreditRating[] = [\r\n  {\r\n    systemId: asSystemId('CRATING00000001'),\r\n      id: asBusinessId('AAA'),\r\n    name: 'AAA - Xuất sắc',\r\n    description: 'Khách hàng có lịch sử thanh toán hoàn hảo, tín dụng cao',\r\n    level: 1,\r\n    maxCreditLimit: 1000000000, // 1 tỷ\r\n    color: '#4CAF50',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-13T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000002'),\r\n      id: asBusinessId('AA'),\r\n    name: 'AA - Rất tốt',\r\n    description: 'Khách hàng có lịch sử thanh toán rất tốt',\r\n    level: 2,\r\n    maxCreditLimit: 500000000, // 500 triệu\r\n    color: '#8BC34A',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-14T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000003'),\r\n      id: asBusinessId('A'),\r\n    name: 'A - Tốt',\r\n    description: 'Khách hàng có lịch sử thanh toán tốt',\r\n    level: 3,\r\n    maxCreditLimit: 200000000, // 200 triệu\r\n    color: '#CDDC39',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-15T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000004'),\r\n      id: asBusinessId('B'),\r\n    name: 'B - Trung bình',\r\n    description: 'Khách hàng có lịch sử thanh toán trung bình',\r\n    level: 4,\r\n    maxCreditLimit: 50000000, // 50 triệu\r\n    color: '#FF9800',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-16T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000005'),\r\n      id: asBusinessId('C'),\r\n    name: 'C - Yếu',\r\n    description: 'Khách hàng có lịch sử thanh toán chậm trễ',\r\n    level: 5,\r\n    maxCreditLimit: 10000000, // 10 triệu\r\n    color: '#FF5722',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-17T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000006'),\r\n      id: asBusinessId('D'),\r\n    name: 'D - Rủi ro cao',\r\n    description: 'Khách hàng có lịch sử thanh toán kém, rủi ro cao',\r\n    level: 6,\r\n    maxCreditLimit: 0,\r\n    color: '#F44336',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-18T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,uBAAuC;IAClD;QACE,UAAU,IAAA,gIAAU,EAAC;QACnB,IAAI,IAAA,kIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACnB,IAAI,IAAA,kIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACnB,IAAI,IAAA,kIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACnB,IAAI,IAAA,kIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACnB,IAAI,IAAA,kIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,gIAAU,EAAC;QACnB,IAAI,IAAA,kIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;CACD"}},
    {"offset": {"line": 1923, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/credit-ratings-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CreditRating } from './types';\r\nimport { defaultCreditRatings } from './credit-ratings-data';\r\n\r\nexport const useCreditRatingStore = createCrudStore<CreditRating>(\r\n  defaultCreditRatings, 'credit-ratings',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=credit-rating',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,uBAAuB,IAAA,0IAAe,EACjD,sLAAoB,EAAE,kBACtB;IACE,aAAa;AACf"}},
    {"offset": {"line": 1938, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/sla-settings-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { CustomerSlaSetting } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\n// Đơn giản hóa: Mỗi loại SLA chỉ có 1 record, user edit trực tiếp số ngày\r\nexport const defaultCustomerSlaSettings: CustomerSlaSetting[] = [\r\n  // Follow-up SLA - Nhắc liên hệ định kỳ\r\n  {\r\n    systemId: asSystemId('CUSTSLA0000001'),\r\n    id: asBusinessId('SLA-FOLLOWUP'),\r\n    name: 'Liên hệ định kỳ',\r\n    description: 'Nhắc nhở liên hệ khách hàng sau một thời gian không tương tác',\r\n    slaType: 'follow-up',\r\n    targetDays: 14,      // Mục tiêu: liên hệ trong vòng 14 ngày\r\n    warningDays: 3,      // Cảnh báo khi còn 3 ngày\r\n    criticalDays: 7,     // Nghiêm trọng khi quá hạn 7 ngày\r\n    color: '#2196F3',    // Blue\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-01T08:00:00Z' }),\r\n  },\r\n\r\n  // Re-engagement SLA - Kích hoạt lại khách hàng không hoạt động\r\n  {\r\n    systemId: asSystemId('CUSTSLA0000002'),\r\n    id: asBusinessId('SLA-REENGAGEMENT'),\r\n    name: 'Kích hoạt lại',\r\n    description: 'Khách hàng không mua hàng cần được kích hoạt lại',\r\n    slaType: 're-engagement',\r\n    targetDays: 60,      // Mục tiêu: kích hoạt trong vòng 60 ngày\r\n    warningDays: 10,     // Cảnh báo khi còn 10 ngày\r\n    criticalDays: 14,    // Nghiêm trọng khi quá hạn 14 ngày\r\n    color: '#FF9800',    // Orange\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-02T08:00:00Z' }),\r\n  },\r\n\r\n  // Debt Payment SLA - Nhắc thanh toán công nợ\r\n  {\r\n    systemId: asSystemId('CUSTSLA0000003'),\r\n    id: asBusinessId('SLA-DEBT'),\r\n    name: 'Nhắc công nợ',\r\n    description: 'Nhắc thanh toán công nợ quá hạn',\r\n    slaType: 'debt-payment',\r\n    targetDays: 7,       // Mục tiêu: thanh toán trong vòng 7 ngày sau hạn\r\n    warningDays: 2,      // Cảnh báo khi còn 2 ngày\r\n    criticalDays: 7,     // Nghiêm trọng khi quá hạn 7 ngày\r\n    color: '#E91E63',    // Pink\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-03T08:00:00Z' }),\r\n  },\r\n];\r\n\r\n// Helper to get SLA labels\r\nexport const SLA_TYPE_LABELS: Record<string, string> = {\r\n  'follow-up': 'Liên hệ định kỳ',\r\n  're-engagement': 'Kích hoạt lại',\r\n  'debt-payment': 'Nhắc công nợ',\r\n};\r\n\r\n// Helper to get SLA descriptions\r\nexport const SLA_TYPE_DESCRIPTIONS: Record<string, string> = {\r\n  'follow-up': 'Nhắc nhở liên hệ khách hàng theo chu kỳ định kỳ',\r\n  're-engagement': 'Kích hoạt khách hàng không hoạt động trong thời gian dài',\r\n  'debt-payment': 'Nhắc thanh toán công nợ quá hạn',\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAEA;;;AAGO,MAAM,6BAAmD;IAC9D,uCAAuC;IACvC;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,aAAa;QACb,cAAc;QACd,OAAO;QACP,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IAEA,+DAA+D;IAC/D;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,aAAa;QACb,cAAc;QACd,OAAO;QACP,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IAEA,6CAA6C;IAC7C;QACE,UAAU,IAAA,gIAAU,EAAC;QACrB,IAAI,IAAA,kIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,aAAa;QACb,cAAc;QACd,OAAO;QACP,UAAU;QACV,GAAG,IAAA,4IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD;AAGM,MAAM,kBAA0C;IACrD,aAAa;IACb,iBAAiB;IACjB,gBAAgB;AAClB;AAGO,MAAM,wBAAgD;IAC3D,aAAa;IACb,iBAAiB;IACjB,gBAAgB;AAClB"}},
    {"offset": {"line": 2014, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/sla-settings-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CustomerSlaSetting, CustomerSlaType } from './types';\r\nimport { defaultCustomerSlaSettings } from './sla-settings-data';\r\n\r\nexport const useCustomerSlaStore = createCrudStore<CustomerSlaSetting>(\r\n  defaultCustomerSlaSettings, 'sla-settings',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=sla-setting',\r\n  }\r\n);\r\n\r\n// Helper function to get SLA by type (simplified - only 1 per type)\r\nexport function getSlaBySlaType(slaType: CustomerSlaType): CustomerSlaSetting | undefined {\r\n  return useCustomerSlaStore.getState().data.find(\r\n    (sla) => sla.slaType === slaType && sla.isActive\r\n  );\r\n}\r\n\r\n// Helper to load all active SLA settings\r\nexport function loadCustomerSlaSettings() {\r\n  return useCustomerSlaStore.getState().data.filter((sla) => sla.isActive);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAEA;;;AAEO,MAAM,sBAAsB,IAAA,0IAAe,EAChD,0LAA0B,EAAE,gBAC5B;IACE,aAAa;AACf;AAIK,SAAS,gBAAgB,OAAwB;IACtD,OAAO,oBAAoB,QAAQ,GAAG,IAAI,CAAC,IAAI,CAC7C,CAAC,MAAQ,IAAI,OAAO,KAAK,WAAW,IAAI,QAAQ;AAEpD;AAGO,SAAS;IACd,OAAO,oBAAoB,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,MAAQ,IAAI,QAAQ;AACzE"}},
    {"offset": {"line": 2039, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/global-settings-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport * as React from 'react';\r\nimport { bulkSaveSettingsToAPI, initializeSettingsFromAPI } from '@/lib/settings-sync-helper';\r\n\r\nexport interface GlobalSettings {\r\n  /** Số dòng mỗi trang mặc định cho tất cả data tables */\r\n  defaultPageSize: number;\r\n  /** Các option page size cho dropdown */\r\n  pageSizeOptions: number[];\r\n}\r\n\r\nconst DEFAULT_SETTINGS: GlobalSettings = {\r\n  defaultPageSize: 20,\r\n  pageSizeOptions: [5, 10, 20, 50, 100],\r\n};\r\n\r\nconst SETTINGS_GROUP = 'global';\r\n\r\ninterface GlobalSettingsStore {\r\n  settings: GlobalSettings;\r\n  initialized: boolean;\r\n  setDefaultPageSize: (size: number) => void;\r\n  setPageSizeOptions: (options: number[]) => void;\r\n  resetSettings: () => void;\r\n  initFromAPI: () => Promise<void>;\r\n  loadFromAPI: () => Promise<void>;\r\n}\r\n\r\nexport const useGlobalSettingsStore = create<GlobalSettingsStore>()(\r\n  (set, get) => ({\r\n    settings: DEFAULT_SETTINGS,\r\n    initialized: false,\r\n      \r\n      setDefaultPageSize: (size) => {\r\n        set((state) => ({\r\n          settings: { ...state.settings, defaultPageSize: size },\r\n        }));\r\n        // Sync to API in background\r\n        bulkSaveSettingsToAPI(SETTINGS_GROUP, { defaultPageSize: size }).catch(console.error);\r\n      },\r\n      \r\n      setPageSizeOptions: (options) => {\r\n        set((state) => ({\r\n          settings: { ...state.settings, pageSizeOptions: options },\r\n        }));\r\n        // Sync to API in background\r\n        bulkSaveSettingsToAPI(SETTINGS_GROUP, { pageSizeOptions: options }).catch(console.error);\r\n      },\r\n      \r\n      resetSettings: () => {\r\n        set({ settings: DEFAULT_SETTINGS });\r\n        // Sync reset to API\r\n        bulkSaveSettingsToAPI(SETTINGS_GROUP, DEFAULT_SETTINGS).catch(console.error);\r\n      },\r\n      \r\n      initFromAPI: async () => {\r\n        if (get().initialized) return;\r\n        await initializeSettingsFromAPI<GlobalSettings>(\r\n          SETTINGS_GROUP,\r\n          (apiSettings) => set({ settings: apiSettings }),\r\n          DEFAULT_SETTINGS\r\n        );\r\n        set({ initialized: true });\r\n      },\r\n\r\n      loadFromAPI: async () => {\r\n        // Alias for initFromAPI for consistency with other stores\r\n        await get().initFromAPI();\r\n      },\r\n    })\r\n);\r\n\r\n/** Hook để lấy default page size */\r\nexport function useDefaultPageSize() {\r\n  return useGlobalSettingsStore((state) => state.settings.defaultPageSize);\r\n}\r\n\r\n/** Hook để lấy page size options */\r\nexport function usePageSizeOptions() {\r\n  return useGlobalSettingsStore((state) => state.settings.pageSizeOptions);\r\n}\r\n\r\n/** \r\n * Hook để quản lý pagination state với default page size từ global settings\r\n * @returns [pagination, setPagination]\r\n */\r\nexport function usePaginationWithGlobalDefault() {\r\n  const defaultPageSize = useDefaultPageSize();\r\n  return React.useState({ pageIndex: 0, pageSize: defaultPageSize });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;;;;AASA,MAAM,mBAAmC;IACvC,iBAAiB;IACjB,iBAAiB;QAAC;QAAG;QAAI;QAAI;QAAI;KAAI;AACvC;AAEA,MAAM,iBAAiB;AAYhB,MAAM,yBAAyB,IAAA,kJAAM,IAC1C,CAAC,KAAK,MAAQ,CAAC;QACb,UAAU;QACV,aAAa;QAEX,oBAAoB,CAAC;YACnB,IAAI,CAAC,QAAU,CAAC;oBACd,UAAU;wBAAE,GAAG,MAAM,QAAQ;wBAAE,iBAAiB;oBAAK;gBACvD,CAAC;YACD,4BAA4B;YAC5B,IAAA,0JAAqB,EAAC,gBAAgB;gBAAE,iBAAiB;YAAK,GAAG,KAAK,CAAC,QAAQ,KAAK;QACtF;QAEA,oBAAoB,CAAC;YACnB,IAAI,CAAC,QAAU,CAAC;oBACd,UAAU;wBAAE,GAAG,MAAM,QAAQ;wBAAE,iBAAiB;oBAAQ;gBAC1D,CAAC;YACD,4BAA4B;YAC5B,IAAA,0JAAqB,EAAC,gBAAgB;gBAAE,iBAAiB;YAAQ,GAAG,KAAK,CAAC,QAAQ,KAAK;QACzF;QAEA,eAAe;YACb,IAAI;gBAAE,UAAU;YAAiB;YACjC,oBAAoB;YACpB,IAAA,0JAAqB,EAAC,gBAAgB,kBAAkB,KAAK,CAAC,QAAQ,KAAK;QAC7E;QAEA,aAAa;YACX,IAAI,MAAM,WAAW,EAAE;YACvB,MAAM,IAAA,8JAAyB,EAC7B,gBACA,CAAC,cAAgB,IAAI;oBAAE,UAAU;gBAAY,IAC7C;YAEF,IAAI;gBAAE,aAAa;YAAK;QAC1B;QAEA,aAAa;YACX,0DAA0D;YAC1D,MAAM,MAAM,WAAW;QACzB;IACF,CAAC;AAIE,SAAS;IACd,OAAO,uBAAuB,CAAC,QAAU,MAAM,QAAQ,CAAC,eAAe;AACzE;AAGO,SAAS;IACd,OAAO,uBAAuB,CAAC,QAAU,MAAM,QAAQ,CAAC,eAAe;AACzE;AAMO,SAAS;IACd,MAAM,kBAAkB;IACxB,OAAO,iNAAc,CAAC;QAAE,WAAW;QAAG,UAAU;IAAgB;AAClE"}}]
}