{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/appearance/store.ts"],"sourcesContent":["import { create } from 'zustand'\r\n\r\nexport type Theme = \"slate\" | \"blue\" | \"green\" | \"amber\" | \"rose\" | \"purple\" | \"orange\" | \"teal\" | \"custom\"\r\nexport type Font = \"inter\" | \"poppins\" | \"roboto\" | \"source-sans-3\"\r\nexport type FontSize = \"sm\" | \"base\" | \"lg\"\r\nexport type ColorMode = \"light\" | \"dark\"\r\n\r\nexport type CustomThemeConfig = {\r\n    '--background': string;\r\n    '--foreground': string;\r\n    '--card': string;\r\n    '--card-foreground': string;\r\n    '--popover': string;\r\n    '--popover-foreground': string;\r\n    '--primary': string;\r\n    '--primary-foreground': string;\r\n    '--secondary': string;\r\n    '--secondary-foreground': string;\r\n    '--muted': string;\r\n    '--muted-foreground': string;\r\n    '--accent': string;\r\n    '--accent-foreground': string;\r\n    '--destructive': string;\r\n    '--destructive-foreground': string;\r\n    '--border': string;\r\n    '--input': string;\r\n    '--ring': string;\r\n    '--radius': string;\r\n    '--font-sans': string;\r\n    '--font-serif': string;\r\n    '--font-mono': string;\r\n    '--shadow-x': string;\r\n    '--shadow-y': string;\r\n    '--shadow-blur': string;\r\n    '--shadow-spread': string;\r\n    '--shadow-color': string;\r\n    '--chart-1': string;\r\n    '--chart-2': string;\r\n    '--chart-3': string;\r\n    '--chart-4': string;\r\n    '--chart-5': string;\r\n    '--sidebar': string;\r\n    '--sidebar-foreground': string;\r\n    '--sidebar-primary': string;\r\n    '--sidebar-primary-foreground': string;\r\n    '--sidebar-accent': string;\r\n    '--sidebar-accent-foreground': string;\r\n    '--sidebar-border': string;\r\n    '--sidebar-ring': string;\r\n    // Heading sizes\r\n    '--font-size-h1': string;\r\n    '--font-size-h2': string;\r\n    '--font-size-h3': string;\r\n    '--font-size-h4': string;\r\n    '--font-size-h5': string;\r\n    '--font-size-h6': string;\r\n};\r\n\r\nconst defaultCustomTheme: CustomThemeConfig = {\r\n    '--background': 'oklch(1 0 0)',\r\n    '--foreground': 'oklch(0.129 0.042 264.695)',\r\n    '--card': 'oklch(1 0 0)',\r\n    '--card-foreground': 'oklch(0.129 0.042 264.695)',\r\n    '--popover': 'oklch(1 0 0)',\r\n    '--popover-foreground': 'oklch(0.129 0.042 264.695)',\r\n    '--primary': 'oklch(0.208 0.042 265.755)',\r\n    '--primary-foreground': 'oklch(0.984 0.003 247.858)',\r\n    '--secondary': 'oklch(0.968 0.007 247.896)',\r\n    '--secondary-foreground': 'oklch(0.208 0.042 265.755)',\r\n    '--muted': 'oklch(0.968 0.007 247.896)',\r\n    '--muted-foreground': 'oklch(0.554 0.046 257.417)',\r\n    '--accent': 'oklch(0.968 0.007 247.896)',\r\n    '--accent-foreground': 'oklch(0.208 0.042 265.755)',\r\n    '--destructive': 'oklch(0.577 0.245 27.325)',\r\n    '--destructive-foreground': 'oklch(0.985 0 0)',\r\n    '--border': 'oklch(0.929 0.013 255.508)',\r\n    '--input': 'oklch(0.929 0.013 255.508)',\r\n    '--ring': 'oklch(0.704 0.04 256.788)',\r\n    '--radius': '0.625rem',\r\n    '--font-sans': 'Inter',\r\n    '--font-serif': 'Source Serif 4',\r\n    '--font-mono': 'Geist Mono',\r\n    '--shadow-x': '0px',\r\n    '--shadow-y': '1px',\r\n    '--shadow-blur': '2px',\r\n    '--shadow-spread': '0px',\r\n    '--shadow-color': 'hsl(0 0% 0% / 0.05)',\r\n    '--chart-1': 'oklch(0.646 0.222 41.116)',\r\n    '--chart-2': 'oklch(0.6 0.118 184.704)',\r\n    '--chart-3': 'oklch(0.398 0.07 227.392)',\r\n    '--chart-4': 'oklch(0.828 0.189 84.429)',\r\n    '--chart-5': 'oklch(0.769 0.188 70.08)',\r\n    '--sidebar': 'oklch(0.984 0.003 247.858)',\r\n    '--sidebar-foreground': 'oklch(0.129 0.042 264.695)',\r\n    '--sidebar-primary': 'oklch(0.208 0.042 265.755)',\r\n    '--sidebar-primary-foreground': 'oklch(0.984 0.003 247.858)',\r\n    '--sidebar-accent': 'oklch(0.968 0.007 247.896)',\r\n    '--sidebar-accent-foreground': 'oklch(0.208 0.042 265.755)',\r\n    '--sidebar-border': 'oklch(0.929 0.013 255.508)',\r\n    '--sidebar-ring': 'oklch(0.704 0.04 256.788)',\r\n    // Default heading sizes\r\n    '--font-size-h1': '2.25rem', // 36px\r\n    '--font-size-h2': '1.875rem', // 30px\r\n    '--font-size-h3': '1.5rem', // 24px\r\n    '--font-size-h4': '1.25rem', // 20px\r\n    '--font-size-h5': '1.125rem', // 18px\r\n    '--font-size-h6': '1rem', // 16px\r\n};\r\n\r\n\r\ntype AppearanceState = {\r\n  theme: Theme\r\n  colorMode: ColorMode\r\n  font: Font\r\n  fontSize: FontSize\r\n  customThemeConfig: CustomThemeConfig\r\n  initialized: boolean\r\n  setTheme: (theme: Theme) => void\r\n  setColorMode: (mode: ColorMode) => void\r\n  setFont: (font: Font) => void\r\n  setFontSize: (size: FontSize) => void\r\n  setCustomThemeConfig: (config: CustomThemeConfig) => void\r\n  updateAppearance: (settings: Partial<Omit<AppearanceState, 'setTheme' | 'setColorMode' | 'setFont' | 'setFontSize' | 'setCustomThemeConfig' | 'updateAppearance' | 'loadFromAPI' | 'initialized'>>) => void\r\n  loadFromAPI: () => Promise<void>\r\n}\r\n\r\n// API sync helper\r\nasync function syncAppearanceToAPI(settings: Partial<AppearanceState>): Promise<boolean> {\r\n  try {\r\n    const response = await fetch('/api/user-preferences/appearance', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include',\r\n      body: JSON.stringify(settings),\r\n    });\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error('[Appearance API] sync error:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const useAppearanceStore = create<AppearanceState>()(\r\n  (set, get) => ({\r\n      theme: 'slate',\r\n      colorMode: 'light',\r\n      font: 'inter',\r\n      fontSize: 'base',\r\n      customThemeConfig: defaultCustomTheme,\r\n      initialized: false,\r\n      setTheme: (theme) => {\r\n        set({ theme });\r\n        syncAppearanceToAPI({ theme }).catch(console.error);\r\n      },\r\n      setColorMode: (colorMode) => {\r\n        set({ colorMode });\r\n        syncAppearanceToAPI({ colorMode }).catch(console.error);\r\n      },\r\n      setFont: (font) => {\r\n        set({ font });\r\n        syncAppearanceToAPI({ font }).catch(console.error);\r\n      },\r\n      setFontSize: (size) => {\r\n        set({ fontSize: size });\r\n        syncAppearanceToAPI({ fontSize: size }).catch(console.error);\r\n      },\r\n      setCustomThemeConfig: (config) => {\r\n        set({ customThemeConfig: { ...config } });\r\n        syncAppearanceToAPI({ customThemeConfig: config }).catch(console.error);\r\n      },\r\n      updateAppearance: (settings) => {\r\n        set((state) => ({ ...state, ...settings }));\r\n        syncAppearanceToAPI(settings).catch(console.error);\r\n      },\r\n      loadFromAPI: async () => {\r\n        if (get().initialized) return;\r\n        \r\n        try {\r\n          const response = await fetch('/api/user-preferences/appearance', {\r\n            credentials: 'include',\r\n          });\r\n          if (response.ok) {\r\n            const json = await response.json();\r\n            const data = json.data || json;\r\n            if (data && Object.keys(data).length > 0) {\r\n              set({ \r\n                ...data, \r\n                initialized: true,\r\n                customThemeConfig: data.customThemeConfig || defaultCustomTheme,\r\n              });\r\n            } else {\r\n              set({ initialized: true });\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('[Appearance Store] loadFromAPI error:', error);\r\n        }\r\n      },\r\n    })\r\n)\r\n\r\n// Helper to get initial state from localStorage synchronously\r\nexport function getInitialAppearanceState() {\r\n  try {\r\n    const stored = localStorage.getItem('hrm-appearance-storage');\r\n    if (stored) {\r\n      const parsed = JSON.parse(stored);\r\n      return parsed.state as Pick<AppearanceState, 'theme' | 'colorMode' | 'font' | 'fontSize' | 'customThemeConfig'>;\r\n    }\r\n  } catch {\r\n    // ignore\r\n  }\r\n  return null;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/theme-provider.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { useAppearanceStore } from '../features/settings/appearance/store'\r\nimport type { CustomThemeConfig } from '../features/settings/appearance/store'\r\n\r\nfunction applyTheme(customThemeConfig: CustomThemeConfig, colorMode: string, fontSize: string) {\r\n  const root = window.document.documentElement;\r\n  \r\n  console.log('[ThemeProvider] Applying theme:', { colorMode, fontSize, primary: customThemeConfig['--primary'] });\r\n\r\n  // Color Mode\r\n  root.classList.remove('light', 'dark');\r\n  root.classList.add(colorMode);\r\n\r\n  // Font Size\r\n  root.classList.remove('font-size-sm', 'font-size-base', 'font-size-lg');\r\n  root.classList.add(`font-size-${fontSize}`);\r\n\r\n  // Apply CSS variables directly to root element for highest specificity\r\n  const cssVars = [\r\n    '--background', '--foreground', '--card', '--card-foreground',\r\n    '--popover', '--popover-foreground', '--primary', '--primary-foreground',\r\n    '--secondary', '--secondary-foreground', '--muted', '--muted-foreground',\r\n    '--accent', '--accent-foreground', '--destructive', '--destructive-foreground',\r\n    '--border', '--input', '--ring',\r\n    '--chart-1', '--chart-2', '--chart-3', '--chart-4', '--chart-5',\r\n    '--sidebar', '--sidebar-foreground', '--sidebar-primary', '--sidebar-primary-foreground',\r\n    '--sidebar-accent', '--sidebar-accent-foreground', '--sidebar-border', '--sidebar-ring',\r\n    '--radius', '--font-sans', '--font-serif', '--font-mono',\r\n    '--font-size-h1', '--font-size-h2', '--font-size-h3', '--font-size-h4', '--font-size-h5', '--font-size-h6'\r\n  ] as const;\r\n  \r\n  cssVars.forEach(varName => {\r\n    const value = customThemeConfig[varName];\r\n    if (value) root.style.setProperty(varName, value);\r\n  });\r\n\r\n  // Shadow\r\n  const shadow = `${customThemeConfig['--shadow-x'] || '0px'} ${customThemeConfig['--shadow-y'] || '1px'} ${customThemeConfig['--shadow-blur'] || '2px'} ${customThemeConfig['--shadow-spread'] || '0px'} ${customThemeConfig['--shadow-color'] || 'hsl(0 0% 0% / 0.05)'}`;\r\n  root.style.setProperty('--shadow', shadow);\r\n  \r\n  // Force browser to recalculate styles by triggering a reflow\r\n  root.style.display = 'none';\r\n  void root.offsetHeight; // Force reflow\r\n  root.style.display = '';\r\n}\r\n\r\nexport function ThemeProvider({ children }: React.PropsWithChildren) {\r\n  const customThemeConfig = useAppearanceStore(s => s.customThemeConfig);\r\n  const colorMode = useAppearanceStore(s => s.colorMode);\r\n  const fontSize = useAppearanceStore(s => s.fontSize);\r\n\r\n  // Apply theme whenever store values change\r\n  React.useEffect(() => {\r\n    if (!customThemeConfig) return;\r\n    applyTheme(customThemeConfig, colorMode, fontSize);\r\n  }, [customThemeConfig, colorMode, fontSize]);\r\n\r\n  // Subscribe to store rehydration and apply theme\r\n  React.useEffect(() => {\r\n    // Apply immediately with current store values\r\n    const state = useAppearanceStore.getState();\r\n    if (state.customThemeConfig) {\r\n      applyTheme(state.customThemeConfig, state.colorMode, state.fontSize);\r\n    }\r\n\r\n    // Also subscribe to any changes (including rehydration)\r\n    const unsubscribe = useAppearanceStore.subscribe((state) => {\r\n      if (state.customThemeConfig) {\r\n        applyTheme(state.customThemeConfig, state.colorMode, state.fontSize);\r\n      }\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  return <>{children}</>\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAGA,SAAS,WAAW,iBAAoC,EAAE,SAAiB,EAAE,QAAgB;IAC3F,MAAM,OAAO,OAAO,QAAQ,CAAC,eAAe;IAE5C,QAAQ,GAAG,CAAC,mCAAmC;QAAE;QAAW;QAAU,SAAS,iBAAiB,CAAC,YAAY;IAAC;IAE9G,aAAa;IACb,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;IAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;IAEnB,YAAY;IACZ,KAAK,SAAS,CAAC,MAAM,CAAC,gBAAgB,kBAAkB;IACxD,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,UAAU;IAE1C,uEAAuE;IACvE,MAAM,UAAU;QACd;QAAgB;QAAgB;QAAU;QAC1C;QAAa;QAAwB;QAAa;QAClD;QAAe;QAA0B;QAAW;QACpD;QAAY;QAAuB;QAAiB;QACpD;QAAY;QAAW;QACvB;QAAa;QAAa;QAAa;QAAa;QACpD;QAAa;QAAwB;QAAqB;QAC1D;QAAoB;QAA+B;QAAoB;QACvE;QAAY;QAAe;QAAgB;QAC3C;QAAkB;QAAkB;QAAkB;QAAkB;QAAkB;KAC3F;IAED,QAAQ,OAAO,CAAC,CAAA;QACd,MAAM,QAAQ,iBAAiB,CAAC,QAAQ;QACxC,IAAI,OAAO,KAAK,KAAK,CAAC,WAAW,CAAC,SAAS;IAC7C;IAEA,SAAS;IACT,MAAM,SAAS,GAAG,iBAAiB,CAAC,aAAa,IAAI,MAAM,CAAC,EAAE,iBAAiB,CAAC,aAAa,IAAI,MAAM,CAAC,EAAE,iBAAiB,CAAC,gBAAgB,IAAI,MAAM,CAAC,EAAE,iBAAiB,CAAC,kBAAkB,IAAI,MAAM,CAAC,EAAE,iBAAiB,CAAC,iBAAiB,IAAI,uBAAuB;IACxQ,KAAK,KAAK,CAAC,WAAW,CAAC,YAAY;IAEnC,6DAA6D;IAC7D,KAAK,KAAK,CAAC,OAAO,GAAG;IACrB,KAAK,KAAK,YAAY,EAAE,eAAe;IACvC,KAAK,KAAK,CAAC,OAAO,GAAG;AACvB;AAEO,SAAS,cAAc,EAAE,QAAQ,EAA2B;IACjE,MAAM,oBAAoB,IAAA,iKAAkB,EAAC,CAAA,IAAK,EAAE,iBAAiB;IACrE,MAAM,YAAY,IAAA,iKAAkB,EAAC,CAAA,IAAK,EAAE,SAAS;IACrD,MAAM,WAAW,IAAA,iKAAkB,EAAC,CAAA,IAAK,EAAE,QAAQ;IAEnD,2CAA2C;IAC3C,kNAAe,CAAC;QACd,IAAI,CAAC,mBAAmB;QACxB,WAAW,mBAAmB,WAAW;IAC3C,GAAG;QAAC;QAAmB;QAAW;KAAS;IAE3C,iDAAiD;IACjD,kNAAe,CAAC;QACd,8CAA8C;QAC9C,MAAM,QAAQ,iKAAkB,CAAC,QAAQ;QACzC,IAAI,MAAM,iBAAiB,EAAE;YAC3B,WAAW,MAAM,iBAAiB,EAAE,MAAM,SAAS,EAAE,MAAM,QAAQ;QACrE;QAEA,wDAAwD;QACxD,MAAM,cAAc,iKAAkB,CAAC,SAAS,CAAC,CAAC;YAChD,IAAI,MAAM,iBAAiB,EAAE;gBAC3B,WAAW,MAAM,iBAAiB,EAAE,MAAM,SAAS,EAAE,MAAM,QAAQ;YACrE;QACF;QAEA,OAAO;IACT,GAAG,EAAE;IAEL,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/contexts/breakpoint-context.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\ntype Breakpoint = \"mobile\" | \"tablet\" | \"desktop\" | \"wide\";\r\n\r\ninterface BreakpointContextValue {\r\n  breakpoint: Breakpoint;\r\n  isMobile: boolean;\r\n  isTablet: boolean;\r\n  isDesktop: boolean;\r\n  isWide: boolean;\r\n  width: number;\r\n}\r\n\r\nconst BreakpointContext = React.createContext<BreakpointContextValue | undefined>(undefined);\r\n\r\nfunction getBreakpoint(width: number): Breakpoint {\r\n  if (width < 768) return \"mobile\";\r\n  if (width < 1024) return \"tablet\";\r\n  if (width < 1536) return \"desktop\";\r\n  return \"wide\";\r\n}\r\n\r\nfunction debounce<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: NodeJS.Timeout | null = null;\r\n  return (...args: Parameters<T>) => {\r\n    if (timeout) clearTimeout(timeout);\r\n    timeout = setTimeout(() => func(...args), wait);\r\n  };\r\n}\r\n\r\ninterface BreakpointProviderProps {\r\n  children: React.ReactNode;\r\n  debounceMs?: number;\r\n}\r\n\r\n/**\r\n * BreakpointProvider - Centralized responsive breakpoint management\r\n * Benefits:\r\n * - Single resize listener for entire app\r\n * - Debounced updates (performance)\r\n * - SSR-safe\r\n * - Shared state across all components\r\n */\r\nexport function BreakpointProvider({ \r\n  children, \r\n  debounceMs = 150 \r\n}: BreakpointProviderProps) {\r\n  const [width, setWidth] = React.useState(() => \r\n    typeof window !== 'undefined' ? window.innerWidth : 1024\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    let timeout: NodeJS.Timeout | null = null;\r\n    \r\n    const handleResize = () => {\r\n      if (timeout) clearTimeout(timeout);\r\n      timeout = setTimeout(() => {\r\n        setWidth(window.innerWidth);\r\n      }, debounceMs);\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      if (timeout) clearTimeout(timeout);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, [debounceMs]);\r\n\r\n  const breakpoint = React.useMemo(() => getBreakpoint(width), [width]);\r\n\r\n  const value = React.useMemo<BreakpointContextValue>(\r\n    () => ({\r\n      breakpoint,\r\n      isMobile: breakpoint === \"mobile\",\r\n      isTablet: breakpoint === \"tablet\",\r\n      isDesktop: breakpoint === \"desktop\" || breakpoint === \"wide\",\r\n      isWide: breakpoint === \"wide\",\r\n      width,\r\n    }),\r\n    [breakpoint, width]\r\n  );\r\n\r\n  return (\r\n    <BreakpointContext.Provider value={value}>\r\n      {children}\r\n    </BreakpointContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * useBreakpoint - Hook to access current breakpoint\r\n * @returns Breakpoint context with responsive flags\r\n * @example\r\n * const { isMobile, isDesktop } = useBreakpoint();\r\n */\r\nexport function useBreakpoint(): BreakpointContextValue {\r\n  const context = React.useContext(BreakpointContext);\r\n  if (context === undefined) {\r\n    throw new Error('useBreakpoint must be used within BreakpointProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n/**\r\n * withBreakpoint - HOC to inject breakpoint props\r\n * @example\r\n * const MyComponent = withBreakpoint(({ isMobile }) => (\r\n *   <div>{isMobile ? 'Mobile' : 'Desktop'}</div>\r\n * ));\r\n */\r\nexport function withBreakpoint<P extends object>(\r\n  Component: React.ComponentType<P & BreakpointContextValue>\r\n): React.FC<P> {\r\n  return (props: P) => {\r\n    const breakpoint = useBreakpoint();\r\n    return <Component {...props} {...breakpoint} />;\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;AAaA,MAAM,kCAAoB,sNAAmB,CAAqC;AAElF,SAAS,cAAc,KAAa;IAClC,IAAI,QAAQ,KAAK,OAAO;IACxB,IAAI,QAAQ,MAAM,OAAO;IACzB,IAAI,QAAQ,MAAM,OAAO;IACzB,OAAO;AACT;AAEA,SAAS,SACP,IAAO,EACP,IAAY;IAEZ,IAAI,UAAiC;IACrC,OAAO,CAAC,GAAG;QACT,IAAI,SAAS,aAAa;QAC1B,UAAU,WAAW,IAAM,QAAQ,OAAO;IAC5C;AACF;AAeO,SAAS,mBAAmB,EACjC,QAAQ,EACR,aAAa,GAAG,EACQ;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,iNAAc,CAAC,IACvC,sCAAgC,0BAAoB;IAGtD,kNAAe,CAAC;QACd,IAAI,UAAiC;QAErC,MAAM,eAAe;YACnB,IAAI,SAAS,aAAa;YAC1B,UAAU,WAAW;gBACnB,SAAS,OAAO,UAAU;YAC5B,GAAG;QACL;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAElC,OAAO;YACL,IAAI,SAAS,aAAa;YAC1B,OAAO,mBAAmB,CAAC,UAAU;QACvC;IACF,GAAG;QAAC;KAAW;IAEf,MAAM,aAAa,gNAAa,CAAC,IAAM,cAAc,QAAQ;QAAC;KAAM;IAEpE,MAAM,QAAQ,gNAAa,CACzB,IAAM,CAAC;YACL;YACA,UAAU,eAAe;YACzB,UAAU,eAAe;YACzB,WAAW,eAAe,aAAa,eAAe;YACtD,QAAQ,eAAe;YACvB;QACF,CAAC,GACD;QAAC;QAAY;KAAM;IAGrB,qBACE,8OAAC,kBAAkB,QAAQ;QAAC,OAAO;kBAChC;;;;;;AAGP;AAQO,SAAS;IACd,MAAM,UAAU,mNAAgB,CAAC;IACjC,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AASO,SAAS,eACd,SAA0D;IAE1D,OAAO,CAAC;QACN,MAAM,aAAa;QACnB,qBAAO,8OAAC;YAAW,GAAG,KAAK;YAAG,GAAG,UAAU;;;;;;IAC7C;AACF"}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/settings-cache.ts"],"sourcesContent":["/**\r\n * Global Settings Cache\r\n * \r\n * Cung cấp cache in-memory cho các settings đọc từ database.\r\n * Được sử dụng bởi các utility functions không thể dùng React hooks.\r\n * \r\n * Flow:\r\n * 1. App khởi động -> gọi loadGeneralSettings() từ AuthProvider/Layout\r\n * 2. Utility functions đọc từ cache qua getGeneralSettingsSync()\r\n * 3. Nếu cache rỗng, fallback về default values\r\n * \r\n * NOTE: localStorage has been removed - all data comes from API/database\r\n */\r\n\r\ninterface GeneralSettings {\r\n  timezone: string\r\n  dateFormat: string\r\n  timeFormat: '24h' | '12h'\r\n  language: string\r\n  currency: string\r\n  storeName: string\r\n  storeAddress: string\r\n  storePhone: string\r\n  logoUrl?: string\r\n  // Add more fields as needed\r\n}\r\n\r\nconst DEFAULT_GENERAL_SETTINGS: GeneralSettings = {\r\n  timezone: 'Asia/Ho_Chi_Minh',\r\n  dateFormat: 'DD/MM/YYYY',\r\n  timeFormat: '24h',\r\n  language: 'vi',\r\n  currency: 'VND',\r\n  storeName: '',\r\n  storeAddress: '',\r\n  storePhone: '',\r\n}\r\n\r\n// In-memory cache\r\nlet settingsCache: GeneralSettings | null = null\r\nlet isLoading = false\r\nlet loadPromise: Promise<GeneralSettings> | null = null\r\n\r\n/**\r\n * Load general settings from database API\r\n * Should be called once when app initializes\r\n */\r\nexport async function loadGeneralSettings(): Promise<GeneralSettings> {\r\n  // Return cached if available\r\n  if (settingsCache) {\r\n    return settingsCache\r\n  }\r\n\r\n  // Prevent multiple simultaneous loads\r\n  if (loadPromise) {\r\n    return loadPromise\r\n  }\r\n\r\n  isLoading = true\r\n\r\n  loadPromise = (async () => {\r\n    try {\r\n      // Try API first\r\n      const res = await fetch('/api/settings?group=general')\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        \r\n        if (data.grouped?.general) {\r\n          settingsCache = {\r\n            ...DEFAULT_GENERAL_SETTINGS,\r\n            ...data.grouped.general,\r\n          }\r\n          return settingsCache\r\n        }\r\n\r\n        // Parse array format\r\n        if (data.data && Array.isArray(data.data)) {\r\n          const parsed = data.data.reduce((acc: Record<string, any>, item: any) => {\r\n            acc[item.key] = item.value\r\n            return acc\r\n          }, {})\r\n          \r\n          settingsCache = {\r\n            ...DEFAULT_GENERAL_SETTINGS,\r\n            ...parsed,\r\n          }\r\n          return settingsCache\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load general settings from API:', error)\r\n    }\r\n\r\n    // Return defaults if API fails\r\n    settingsCache = DEFAULT_GENERAL_SETTINGS\r\n    return settingsCache\r\n  })()\r\n\r\n  try {\r\n    return await loadPromise\r\n  } finally {\r\n    isLoading = false\r\n    loadPromise = null\r\n  }\r\n}\r\n\r\n/**\r\n * Get general settings synchronously from cache\r\n * Falls back to defaults if not loaded yet\r\n */\r\nexport function getGeneralSettingsSync(): GeneralSettings {\r\n  // Return from cache if available\r\n  if (settingsCache) {\r\n    return settingsCache\r\n  }\r\n\r\n  return DEFAULT_GENERAL_SETTINGS\r\n}\r\n\r\n/**\r\n * Update settings cache (call after saving settings)\r\n */\r\nexport function updateGeneralSettingsCache(settings: Partial<GeneralSettings>) {\r\n  settingsCache = {\r\n    ...(settingsCache || DEFAULT_GENERAL_SETTINGS),\r\n    ...settings,\r\n  }\r\n}\r\n\r\n/**\r\n * Clear settings cache (call on logout)\r\n */\r\nexport function clearGeneralSettingsCache() {\r\n  settingsCache = null\r\n  loadPromise = null\r\n}\r\n\r\n/**\r\n * Check if settings are loaded\r\n */\r\nexport function isSettingsLoaded(): boolean {\r\n  return settingsCache !== null\r\n}\r\n\r\n/**\r\n * Check if settings are currently loading\r\n */\r\nexport function isSettingsLoading(): boolean {\r\n  return isLoading\r\n}\r\n\r\n// Export defaults for reference\r\nexport { DEFAULT_GENERAL_SETTINGS }\r\nexport type { GeneralSettings }\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;CAYC;;;;;;;;;;;;;;;;AAeD,MAAM,2BAA4C;IAChD,UAAU;IACV,YAAY;IACZ,YAAY;IACZ,UAAU;IACV,UAAU;IACV,WAAW;IACX,cAAc;IACd,YAAY;AACd;AAEA,kBAAkB;AAClB,IAAI,gBAAwC;AAC5C,IAAI,YAAY;AAChB,IAAI,cAA+C;AAM5C,eAAe;IACpB,6BAA6B;IAC7B,IAAI,eAAe;QACjB,OAAO;IACT;IAEA,sCAAsC;IACtC,IAAI,aAAa;QACf,OAAO;IACT;IAEA,YAAY;IAEZ,cAAc,CAAC;QACb,IAAI;YACF,gBAAgB;YAChB,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,IAAI,KAAK,OAAO,EAAE,SAAS;oBACzB,gBAAgB;wBACd,GAAG,wBAAwB;wBAC3B,GAAG,KAAK,OAAO,CAAC,OAAO;oBACzB;oBACA,OAAO;gBACT;gBAEA,qBAAqB;gBACrB,IAAI,KAAK,IAAI,IAAI,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG;oBACzC,MAAM,SAAS,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,KAA0B;wBACzD,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK;wBAC1B,OAAO;oBACT,GAAG,CAAC;oBAEJ,gBAAgB;wBACd,GAAG,wBAAwB;wBAC3B,GAAG,MAAM;oBACX;oBACA,OAAO;gBACT;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6CAA6C;QAC7D;QAEA,+BAA+B;QAC/B,gBAAgB;QAChB,OAAO;IACT,CAAC;IAED,IAAI;QACF,OAAO,MAAM;IACf,SAAU;QACR,YAAY;QACZ,cAAc;IAChB;AACF;AAMO,SAAS;IACd,iCAAiC;IACjC,IAAI,eAAe;QACjB,OAAO;IACT;IAEA,OAAO;AACT;AAKO,SAAS,2BAA2B,QAAkC;IAC3E,gBAAgB;QACd,GAAI,iBAAiB,wBAAwB;QAC7C,GAAG,QAAQ;IACb;AACF;AAKO,SAAS;IACd,gBAAgB;IAChB,cAAc;AAChB;AAKO,SAAS;IACd,OAAO,kBAAkB;AAC3B;AAKO,SAAS;IACd,OAAO;AACT"}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/contexts/auth-context.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { useSession, signOut } from 'next-auth/react';\r\n// REMOVED: Heavy import causing slow compile\r\n// import { useEmployeeStore } from '../features/employees/store';\r\nimport type { Employee } from '../features/employees/types';\r\nimport { loadGeneralSettings, clearGeneralSettingsCache } from '../lib/settings-cache';\r\n\r\ninterface User {\r\n  systemId: string;\r\n  email: string;\r\n  fullName?: string;\r\n  name?: string;\r\n  role: 'ADMIN' | 'MANAGER' | 'STAFF' | 'admin' | 'user';\r\n  employeeId?: string;\r\n  employee?: Employee;\r\n  verified?: boolean;\r\n}\r\n\r\ninterface CurrentUserInfo {\r\n  systemId: string;\r\n  name: string;\r\n  email?: string;\r\n  role?: string;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  employee: Employee | null;\r\n  isAuthenticated: boolean;\r\n  isAdmin: boolean;\r\n  isLoading: boolean;\r\n  logout: () => Promise<void>;\r\n  updateUser: (updates: Partial<User>) => void;\r\n  refreshUser: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = React.createContext<AuthContextType | null>(null);\r\n\r\n// In-memory user cache\r\nlet cachedUser: User | null = null;\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const { data: session, status } = useSession();\r\n  // REMOVED: Heavy store import - use employee from session instead\r\n  // const { data: employees } = useEmployeeStore();\r\n  const [user, setUser] = React.useState<User | null>(cachedUser);\r\n  const isLoading = status === 'loading';\r\n\r\n  // Load general settings when authenticated\r\n  React.useEffect(() => {\r\n    if (status === 'authenticated') {\r\n      // Load settings from database into cache\r\n      loadGeneralSettings().catch(console.error);\r\n    } else if (status === 'unauthenticated') {\r\n      // Clear settings cache on logout\r\n      clearGeneralSettingsCache();\r\n    }\r\n  }, [status]);\r\n\r\n  // Sync user from NextAuth session\r\n  React.useEffect(() => {\r\n    if (status === 'authenticated' && session?.user) {\r\n      const sessionUser = session.user as any;\r\n      const userObj: User = {\r\n        systemId: sessionUser.id || sessionUser.systemId || '',\r\n        email: sessionUser.email || '',\r\n        fullName: sessionUser.name,\r\n        name: sessionUser.name || sessionUser.email,\r\n        role: sessionUser.role || 'STAFF',\r\n        employeeId: sessionUser.employeeId,\r\n        employee: sessionUser.employee,\r\n      };\r\n      cachedUser = userObj;\r\n      setUser(userObj);\r\n    } else if (status === 'unauthenticated') {\r\n      cachedUser = null;\r\n      setUser(null);\r\n    }\r\n  }, [session, status]);\r\n\r\n  // Find employee based on email or employeeId\r\n  // SIMPLIFIED: Use employee from session directly instead of store lookup\r\n  const employee = React.useMemo(() => {\r\n    if (!user) return null;\r\n    \r\n    // Use employee from user data if available (from NextAuth session)\r\n    if (user.employee) return user.employee as Employee;\r\n    \r\n    // Return null - employee lookup should be done by components that need it\r\n    return null;\r\n  }, [user]);\r\n\r\n  // Logout via NextAuth\r\n  const logout = React.useCallback(async () => {\r\n    try {\r\n      await signOut({ redirect: false });\r\n      cachedUser = null;\r\n      setUser(null);\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Refresh user - just trigger session refresh\r\n  const refreshUser = React.useCallback(async () => {\r\n    // NextAuth session will be refreshed automatically\r\n    // This is a no-op placeholder for compatibility\r\n  }, []);\r\n\r\n  const updateUser = React.useCallback((updates: Partial<User>) => {\r\n    setUser(prev => {\r\n      if (!prev) return null;\r\n      const updated = { ...prev, ...updates };\r\n      cachedUser = updated;\r\n      return updated;\r\n    });\r\n  }, []);\r\n\r\n  const value = React.useMemo(\r\n    () => ({\r\n      user,\r\n      employee,\r\n      isAuthenticated: !!user,\r\n      isAdmin: user?.role === 'ADMIN' || user?.role === 'admin',\r\n      isLoading,\r\n      logout,\r\n      updateUser,\r\n      refreshUser,\r\n    }),\r\n    [user, employee, isLoading, logout, updateUser, refreshUser]\r\n  );\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = React.useContext(AuthContext);\r\n  if (!context) {\r\n    // Development warning\r\n    if (typeof window !== 'undefined' && process.env.NODE_ENV === 'development') {\r\n      console.warn('useAuth must be used within AuthProvider - returning default values');\r\n    }\r\n    // Return safe defaults instead of throwing\r\n    return {\r\n      user: null,\r\n      employee: null,\r\n      isAuthenticated: false,\r\n      isAdmin: false,\r\n      isLoading: true,\r\n      logout: async () => {},\r\n      updateUser: () => {},\r\n      refreshUser: async () => {},\r\n    };\r\n  }\r\n  return context;\r\n}\r\n\r\n// Helper to get current user systemId for store tracking\r\n// NOTE: This is now async-first, but provides sync fallback for backwards compat\r\nexport function getCurrentUserInfo(): CurrentUserInfo {\r\n  // Use cached user if available\r\n  if (cachedUser) {\r\n    return {\r\n      systemId: cachedUser.employeeId || cachedUser.systemId || 'SYSTEM',\r\n      name: cachedUser.fullName || cachedUser.name || 'Hệ thống',\r\n      email: cachedUser.email,\r\n      role: cachedUser.role,\r\n    };\r\n  }\r\n  return { systemId: 'SYSTEM', name: 'Hệ thống' };\r\n}\r\n\r\nexport function getCurrentUserSystemId(): string {\r\n  return getCurrentUserInfo().systemId;\r\n}\r\n\r\nexport function getCurrentUserName(): string {\r\n  return getCurrentUserInfo().name;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/providers/auth-provider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { SessionProvider } from \"next-auth/react\"\r\n\r\ninterface AuthProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport function AuthProvider({ children }: AuthProviderProps) {\r\n  return <SessionProvider>{children}</SessionProvider>\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQO,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAC1D,qBAAO,8OAAC,wJAAe;kBAAE;;;;;;AAC3B"}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/breadcrumb-system.ts"],"sourcesContent":["/**\r\n * Advanced Breadcrumb & Title System\r\n * Features:\r\n * - Auto-generated breadcrumbs from path structure  \r\n * - Context-aware dynamic titles (employee name, order number, etc)\r\n * - Consistent naming across all modules\r\n * - Multi-language support ready\r\n * - Clickable navigation with back button\r\n * - Mobile-first responsive design\r\n * - Description support for each page\r\n */\r\n\r\n// 1. Complete Module Definitions for all system features\r\nexport const MODULES = {\r\n  DASHBOARD: {\r\n    key: 'dashboard',\r\n    name: 'Trang chủ',\r\n    icon: 'Home',\r\n    title: 'Dashboard',\r\n    description: 'Tổng quan hệ thống và báo cáo chính'\r\n  },\r\n  \r\n  // === HRM Module ===\r\n  HRM: {\r\n    key: 'hrm',\r\n    name: 'HRM',\r\n    icon: 'Users',\r\n    sections: {\r\n      EMPLOYEES: {\r\n        key: 'employees',\r\n        name: 'Nhân viên',\r\n        icon: 'User',\r\n        list: {\r\n          title: 'Danh sách nhân viên',\r\n          description: 'Quản lý thông tin và hồ sơ nhân viên'\r\n        },\r\n        detail: {\r\n          title: (name) => name ? `Hồ sơ ${name}` : 'Chi tiết nhân viên',\r\n          description: 'Thông tin chi tiết và lịch sử làm việc'\r\n        },\r\n        edit: {\r\n          title: (name) => name ? `Chỉnh sửa ${name}` : 'Chỉnh sửa nhân viên',\r\n          description: 'Cập nhật thông tin nhân viên'\r\n        },\r\n        new: {\r\n          title: 'Thêm nhân viên mới',\r\n          description: 'Tạo hồ sơ nhân viên mới trong hệ thống'\r\n        }\r\n      },\r\n      DEPARTMENTS: {\r\n        key: 'departments',\r\n        name: 'Phòng ban',\r\n        icon: 'Building',\r\n        list: {\r\n          title: 'Danh sách phòng ban',\r\n          description: 'Quản lý cơ cấu tổ chức và phòng ban'\r\n        },\r\n        detail: {\r\n          title: (name) => name ? `Phòng ban ${name}` : 'Chi tiết phòng ban',\r\n          description: 'Thông tin chi tiết và nhân sự phòng ban'\r\n        },\r\n        edit: {\r\n          title: (name) => name ? `Chỉnh sửa ${name}` : 'Chỉnh sửa phòng ban',\r\n          description: 'Cập nhật thông tin phòng ban'\r\n        },\r\n        new: {\r\n          title: 'Thêm phòng ban mới',\r\n          description: 'Tạo phòng ban mới trong cơ cấu tổ chức'\r\n        }\r\n      },\r\n      ORGANIZATION_CHART: {\r\n        key: 'organization-chart',\r\n        name: 'Sơ đồ tổ chức',\r\n        icon: 'Sitemap',\r\n        list: {\r\n          title: 'Sơ đồ tổ chức',\r\n          description: 'Cơ cấu tổ chức và mối quan hệ phòng ban'\r\n        }\r\n      },\r\n      ATTENDANCE: {\r\n        key: 'attendance',\r\n        name: 'Chấm công',\r\n        icon: 'Clock',\r\n        list: {\r\n          title: 'Quản lý chấm công',\r\n          description: 'Theo dõi giờ làm việc và chấm công nhân viên'\r\n        }\r\n      },\r\n      LEAVES: {\r\n        key: 'leaves',\r\n        name: 'Nghỉ phép',\r\n        icon: 'Calendar',\r\n        list: {\r\n          title: 'Quản lý nghỉ phép',\r\n          description: 'Đơn xin nghỉ phép và duyệt phép'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Đơn nghỉ phép ${code}` : 'Chi tiết nghỉ phép',\r\n          description: 'Thông tin chi tiết đơn nghỉ phép'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa đơn ${code}` : 'Chỉnh sửa đơn nghỉ phép',\r\n          description: 'Cập nhật thông tin đơn nghỉ phép'\r\n        },\r\n        new: {\r\n          title: 'Tạo đơn nghỉ phép mới',\r\n          description: 'Tạo đơn xin nghỉ phép'\r\n        }\r\n      },\r\n      PAYROLL: {\r\n        key: 'payroll',\r\n        name: 'Bảng lương',\r\n        icon: 'Banknote',\r\n        list: {\r\n          title: 'Danh sách bảng lương',\r\n          description: 'Quản lý bảng lương theo tháng'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Bảng lương ${code}` : 'Chi tiết bảng lương',\r\n          description: 'Thông tin chi tiết bảng lương'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa bảng lương',\r\n          description: 'Cập nhật thông tin bảng lương'\r\n        },\r\n        new: {\r\n          title: 'Chạy bảng lương mới',\r\n          description: 'Tạo bảng lương cho kỳ mới'\r\n        },\r\n        templates: {\r\n          title: 'Mẫu bảng lương',\r\n          description: 'Quản lý bộ thành phần chuẩn để tái sử dụng'\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // === SALES Module ===\r\n  SALES: {\r\n    key: 'sales',\r\n    name: 'Bán hàng',\r\n    icon: 'ShoppingCart',\r\n    sections: {\r\n      CUSTOMERS: {\r\n        key: 'customers',\r\n        name: 'Khách hàng',\r\n        icon: 'Users',\r\n        list: {\r\n          title: 'Danh sách khách hàng',\r\n          description: 'Quản lý thông tin khách hàng và CRM'\r\n        },\r\n        detail: {\r\n          title: (name) => name ? `Khách hàng ${name}` : 'Chi tiết khách hàng',\r\n          description: 'Lịch sử giao dịch và thông tin khách hàng'\r\n        },\r\n        edit: {\r\n          title: (name) => name ? `Chỉnh sửa ${name}` : 'Chỉnh sửa khách hàng',\r\n          description: 'Cập nhật thông tin khách hàng'\r\n        },\r\n        new: {\r\n          title: 'Thêm khách hàng mới',\r\n          description: 'Tạo hồ sơ khách hàng mới'\r\n        }\r\n      },\r\n      PRODUCTS: {\r\n        key: 'products',\r\n        name: 'Sản phẩm',\r\n        icon: 'Package',\r\n        list: {\r\n          title: 'Danh sách sản phẩm',\r\n          description: 'Quản lý sản phẩm và danh mục'\r\n        },\r\n        detail: {\r\n          title: (name) => name ? `Sản phẩm ${name}` : 'Chi tiết sản phẩm',\r\n          description: 'Thông tin chi tiết và kho hàng'\r\n        },\r\n        edit: {\r\n          title: (name) => name ? `Chỉnh sửa ${name}` : 'Chỉnh sửa sản phẩm',\r\n          description: 'Cập nhật thông tin sản phẩm'\r\n        },\r\n        new: {\r\n          title: 'Thêm sản phẩm mới',\r\n          description: 'Tạo sản phẩm mới trong hệ thống'\r\n        }\r\n      },\r\n      ORDERS: {\r\n        key: 'orders',\r\n        name: 'Đơn hàng',\r\n        icon: 'FileText',\r\n        list: {\r\n          title: 'Danh sách đơn hàng',\r\n          description: 'Quản lý đơn hàng và trạng thái giao hàng'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Đơn hàng ${code}` : 'Chi tiết đơn hàng',\r\n          description: 'Thông tin chi tiết và trạng thái đơn hàng'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa đơn hàng',\r\n          description: 'Cập nhật thông tin đơn hàng'\r\n        },\r\n        new: {\r\n          title: 'Tạo đơn hàng mới',\r\n          description: 'Tạo đơn hàng cho khách hàng'\r\n        }\r\n      },\r\n      RETURNS: {\r\n        key: 'returns',\r\n        name: 'Trả hàng',\r\n        icon: 'RotateCcw',\r\n        list: {\r\n          title: 'Danh sách trả hàng',\r\n          description: 'Quản lý đơn trả hàng và hoàn tiền'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Trả hàng ${code}` : 'Chi tiết trả hàng',\r\n          description: 'Thông tin chi tiết đơn trả hàng'\r\n        }\r\n      },\r\n      BRANDS: {\r\n        key: 'brands',\r\n        name: 'Thương hiệu',\r\n        icon: 'Tags',\r\n        list: {\r\n          title: 'Danh sách thương hiệu',\r\n          description: 'Quản lý thương hiệu sản phẩm và SEO'\r\n        },\r\n        detail: {\r\n          title: (name) => name ? `Thương hiệu ${name}` : 'Chi tiết thương hiệu',\r\n          description: 'Thông tin chi tiết và SEO thương hiệu'\r\n        },\r\n        edit: {\r\n          title: (name) => name ? `Chỉnh sửa ${name}` : 'Chỉnh sửa thương hiệu',\r\n          description: 'Cập nhật thông tin thương hiệu'\r\n        },\r\n        new: {\r\n          title: 'Thêm thương hiệu mới',\r\n          description: 'Tạo thương hiệu sản phẩm mới'\r\n        }\r\n      },\r\n      CATEGORIES: {\r\n        key: 'categories',\r\n        name: 'Danh mục sản phẩm',\r\n        icon: 'FolderTree',\r\n        list: {\r\n          title: 'Danh mục sản phẩm',\r\n          description: 'Quản lý cây danh mục và SEO'\r\n        },\r\n        detail: {\r\n          title: (name) => name ? `Danh mục ${name}` : 'Chi tiết danh mục',\r\n          description: 'Thông tin chi tiết và SEO danh mục'\r\n        },\r\n        edit: {\r\n          title: (name) => name ? `Chỉnh sửa ${name}` : 'Chỉnh sửa danh mục',\r\n          description: 'Cập nhật thông tin danh mục'\r\n        },\r\n        new: {\r\n          title: 'Thêm danh mục mới',\r\n          description: 'Tạo danh mục sản phẩm mới'\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // === PROCUREMENT Module ===\r\n  PROCUREMENT: {\r\n    key: 'procurement',\r\n    name: 'Mua hàng',\r\n    icon: 'Truck',\r\n    sections: {\r\n      SUPPLIERS: {\r\n        key: 'suppliers',\r\n        name: 'Nhà cung cấp',\r\n        icon: 'Building2',\r\n        list: {\r\n          title: 'Danh sách nhà cung cấp',\r\n          description: 'Quản lý thông tin nhà cung cấp'\r\n        },\r\n        detail: {\r\n          title: (name) => name ? `Nhà cung cấp ${name}` : 'Chi tiết nhà cung cấp',\r\n          description: 'Lịch sử giao dịch và đánh giá'\r\n        },\r\n        edit: {\r\n          title: (name) => name ? `Chỉnh sửa ${name}` : 'Chỉnh sửa nhà cung cấp',\r\n          description: 'Cập nhật thông tin nhà cung cấp'\r\n        },\r\n        new: {\r\n          title: 'Thêm nhà cung cấp mới',\r\n          description: 'Tạo hồ sơ nhà cung cấp mới'\r\n        }\r\n      },\r\n      PURCHASE_ORDERS: {\r\n        key: 'purchase-orders',\r\n        name: 'Đơn mua hàng',\r\n        icon: 'ShoppingBag',\r\n        list: {\r\n          title: 'Danh sách đơn mua hàng',\r\n          description: 'Quản lý đơn đặt hàng từ nhà cung cấp'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Đơn mua hàng ${code}` : 'Chi tiết đơn mua hàng',\r\n          description: 'Thông tin chi tiết và trạng thái đơn hàng'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa đơn mua hàng',\r\n          description: 'Cập nhật thông tin đơn mua hàng'\r\n        },\r\n        new: {\r\n          title: 'Tạo đơn mua hàng mới',\r\n          description: 'Tạo đơn đặt hàng từ nhà cung cấp'\r\n        }\r\n      },\r\n      PURCHASE_RETURNS: {\r\n        key: 'purchase-returns',\r\n        name: 'Trả hàng nhập',\r\n        icon: 'PackageX',\r\n        list: {\r\n          title: 'Danh sách phiếu trả hàng',\r\n          description: 'Quản lý việc trả hàng cho nhà cung cấp'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu trả ${code}` : 'Chi tiết phiếu trả hàng',\r\n          description: 'Thông tin chi tiết phiếu trả hàng nhập'\r\n        },\r\n        new: {\r\n          title: 'Tạo phiếu trả hàng',\r\n          description: 'Tạo phiếu trả hàng cho nhà cung cấp'\r\n        }\r\n      },\r\n      INVENTORY_RECEIPTS: {\r\n        key: 'inventory-receipts',\r\n        name: 'Phiếu nhập kho',\r\n        icon: 'Package2',\r\n        list: {\r\n          title: 'Danh sách phiếu nhập kho',\r\n          description: 'Quản lý việc nhập hàng vào kho'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu nhập ${code}` : 'Chi tiết phiếu nhập kho',\r\n          description: 'Thông tin chi tiết phiếu nhập kho'\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // === FINANCE Module ===\r\n  FINANCE: {\r\n    key: 'finance',\r\n    name: 'Tài chính',\r\n    icon: 'CreditCard',\r\n    sections: {\r\n      CASHBOOK: {\r\n        key: 'cashbook',\r\n        name: 'Sổ quỹ',\r\n        icon: 'Book',\r\n        list: {\r\n          title: 'Sổ quỹ tiền mặt',\r\n          description: 'Theo dõi thu chi tiền mặt'\r\n        }\r\n      },\r\n      RECEIPTS: {\r\n        key: 'receipts',\r\n        name: 'Phiếu thu',\r\n        icon: 'Receipt',\r\n        list: {\r\n          title: 'Danh sách phiếu thu',\r\n          description: 'Quản lý các khoản thu'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu thu ${code}` : 'Chi tiết phiếu thu',\r\n          description: 'Thông tin chi tiết phiếu thu'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa phiếu thu',\r\n          description: 'Cập nhật thông tin phiếu thu'\r\n        },\r\n        new: {\r\n          title: 'Tạo phiếu thu mới',\r\n          description: 'Tạo phiếu thu tiền'\r\n        }\r\n      },\r\n      PAYMENTS: {\r\n        key: 'payments',\r\n        name: 'Phiếu chi',\r\n        icon: 'CreditCard',\r\n        list: {\r\n          title: 'Danh sách phiếu chi',\r\n          description: 'Quản lý các khoản chi'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu chi ${code}` : 'Chi tiết phiếu chi',\r\n          description: 'Thông tin chi tiết phiếu chi'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa phiếu chi',\r\n          description: 'Cập nhật thông tin phiếu chi'\r\n        },\r\n        new: {\r\n          title: 'Tạo phiếu chi mới',\r\n          description: 'Tạo phiếu chi tiền'\r\n        }\r\n      },\r\n    }\r\n  },\r\n\r\n  // === INVENTORY Module ===\r\n  INVENTORY: {\r\n    key: 'inventory',\r\n    name: 'Kho hàng',\r\n    icon: 'Warehouse',\r\n    sections: {\r\n      STOCK_LOCATIONS: {\r\n        key: 'stock-locations',\r\n        name: 'Vị trí kho',\r\n        icon: 'MapPin',\r\n        list: {\r\n          title: 'Danh sách vị trí kho',\r\n          description: 'Quản lý vị trí và khu vực kho'\r\n        }\r\n      },\r\n      STOCK_HISTORY: {\r\n        key: 'stock-history',\r\n        name: 'Lịch sử kho',\r\n        icon: 'History',\r\n        list: {\r\n          title: 'Lịch sử xuất nhập kho',\r\n          description: 'Theo dõi biến động hàng hóa'\r\n        }\r\n      },\r\n      INVENTORY_CHECKS: {\r\n        key: 'inventory-checks',\r\n        name: 'Kiểm hàng',\r\n        icon: 'ClipboardCheck',\r\n        list: {\r\n          title: 'Danh sách phiếu kiểm hàng',\r\n          description: 'Quản lý kiểm kê định kỳ hàng hóa'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu kiểm hàng ${code}` : 'Chi tiết phiếu kiểm hàng',\r\n          description: 'Thông tin chi tiết phiếu kiểm hàng'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa phiếu kiểm hàng',\r\n          description: 'Cập nhật thông tin phiếu kiểm hàng'\r\n        },\r\n        new: {\r\n          title: 'Tạo phiếu kiểm hàng mới',\r\n          description: 'Tạo phiếu kiểm kê định kỳ mới'\r\n        }\r\n      },\r\n      STOCK_TRANSFERS: {\r\n        key: 'stock-transfers',\r\n        name: 'Chuyển kho',\r\n        icon: 'Truck',\r\n        list: {\r\n          title: 'Danh sách chuyển kho',\r\n          description: 'Quản lý phiếu chuyển kho giữa các chi nhánh'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu chuyển kho ${code}` : 'Chi tiết chuyển kho',\r\n          description: 'Thông tin chi tiết phiếu chuyển kho'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa chuyển kho',\r\n          description: 'Cập nhật thông tin phiếu chuyển kho'\r\n        },\r\n        new: {\r\n          title: 'Tạo phiếu chuyển kho',\r\n          description: 'Tạo phiếu chuyển kho mới'\r\n        }\r\n      },\r\n      COST_ADJUSTMENTS: {\r\n        key: 'cost-adjustments',\r\n        name: 'Điều chỉnh giá vốn',\r\n        icon: 'CircleDollarSign',\r\n        list: {\r\n          title: 'Danh sách điều chỉnh giá vốn',\r\n          description: 'Quản lý các phiếu điều chỉnh giá vốn sản phẩm'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu điều chỉnh ${code}` : 'Chi tiết điều chỉnh',\r\n          description: 'Thông tin chi tiết phiếu điều chỉnh giá vốn'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa điều chỉnh',\r\n          description: 'Cập nhật thông tin phiếu điều chỉnh'\r\n        },\r\n        new: {\r\n          title: 'Tạo phiếu điều chỉnh giá vốn',\r\n          description: 'Tạo phiếu điều chỉnh giá vốn mới'\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // === INTERNAL OPERATIONS Module ===\r\n  INTERNAL: {\r\n    key: 'internal',\r\n    name: 'Hoạt động nội bộ',\r\n    icon: 'Settings',\r\n    sections: {\r\n      PACKAGING: {\r\n        key: 'packaging',\r\n        name: 'Đóng gói',\r\n        icon: 'Package',\r\n        list: {\r\n          title: 'Quản lý đóng gói',\r\n          description: 'Theo dõi việc đóng gói hàng hóa'\r\n        }\r\n      },\r\n      SHIPMENTS: {\r\n        key: 'shipments',\r\n        name: 'Vận chuyển',\r\n        icon: 'Truck',\r\n        list: {\r\n          title: 'Quản lý vận chuyển',\r\n          description: 'Theo dõi vận chuyển và giao hàng'\r\n        }\r\n      },\r\n      TASKS_WARRANTY: {\r\n        key: 'warranty',\r\n        name: 'Quản Lý Bảo Hành',\r\n        icon: 'Wrench',\r\n        list: {\r\n          title: 'Danh sách phiếu bảo hành',\r\n          description: 'Quản lý tiếp nhận và xử lý sản phẩm bảo hành'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu bảo hành ${code}` : 'Chi tiết phiếu bảo hành',\r\n          description: 'Thông tin chi tiết và xử lý sản phẩm bảo hành'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa phiếu bảo hành',\r\n          description: 'Cập nhật thông tin phiếu bảo hành'\r\n        },\r\n        new: {\r\n          title: 'Thêm phiếu bảo hành mới',\r\n          description: 'Tạo phiếu tiếp nhận bảo hành mới'\r\n        }\r\n      },\r\n      INTERNAL_TASKS: {\r\n        key: 'internal-tasks',\r\n        name: 'Công việc nội bộ',\r\n        icon: 'ClipboardList',\r\n        list: {\r\n          title: 'Danh sách công việc nội bộ',\r\n          description: 'Quản lý công việc và nhiệm vụ nội bộ'\r\n        }\r\n      },\r\n      COMPLAINTS: {\r\n        key: 'complaints',\r\n        name: 'Khiếu nại',\r\n        icon: 'AlertCircle',\r\n        list: {\r\n          title: 'Danh sách khiếu nại',\r\n          description: 'Quản lý và xử lý khiếu nại từ khách hàng'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Khiếu nại ${code}` : 'Chi tiết khiếu nại',\r\n          description: 'Thông tin chi tiết và lịch sử xử lý khiếu nại'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa khiếu nại',\r\n          description: 'Cập nhật thông tin khiếu nại'\r\n        },\r\n        new: {\r\n          title: 'Tạo khiếu nại mới',\r\n          description: 'Thêm khiếu nại mới vào hệ thống'\r\n        },\r\n        statistics: {\r\n          title: 'Thống kê khiếu nại',\r\n          description: 'Phân tích và báo cáo tổng quan khiếu nại'\r\n        }\r\n      },\r\n      PENALTIES: {\r\n        key: 'penalties',\r\n        name: 'Phiếu phạt',\r\n        icon: 'AlertTriangle',\r\n        list: {\r\n          title: 'Danh sách phiếu phạt',\r\n          description: 'Theo dõi vi phạm và kỷ luật'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Phiếu phạt ${code}` : 'Chi tiết phiếu phạt',\r\n          description: 'Thông tin chi tiết vi phạm và kết quả xử lý'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa phiếu phạt ${code}` : 'Chỉnh sửa phiếu phạt',\r\n          description: 'Cập nhật thông tin phiếu phạt'\r\n        },\r\n        new: {\r\n          title: 'Tạo phiếu phạt mới',\r\n          description: 'Thêm bản ghi phiếu phạt mới vào hệ thống'\r\n        }\r\n      },\r\n      TASKS: {\r\n        key: 'tasks',\r\n        name: 'Giao việc nội bộ',\r\n        icon: 'ListTodo',\r\n        list: {\r\n          title: 'Quản lý công việc',\r\n          description: 'Giao việc và theo dõi tiến độ công việc nội bộ'\r\n        },\r\n        detail: {\r\n          title: (code) => code ? `Công việc ${code}` : 'Chi tiết công việc',\r\n          description: 'Thông tin chi tiết công việc và tiến độ'\r\n        },\r\n        edit: {\r\n          title: (code) => code ? `Chỉnh sửa ${code}` : 'Chỉnh sửa công việc',\r\n          description: 'Cập nhật thông tin công việc'\r\n        },\r\n        new: {\r\n          title: 'Tạo công việc mới',\r\n          description: 'Giao công việc mới cho nhân viên'\r\n        },\r\n        calendar: {\r\n          title: 'Lịch công việc',\r\n          description: 'Xem công việc theo dạng lịch'\r\n        }\r\n      },\r\n      DUTY_SCHEDULE: {\r\n        key: 'duty-schedule',\r\n        name: 'Lịch trực',\r\n        icon: 'Calendar',\r\n        list: {\r\n          title: 'Lịch trực ca',\r\n          description: 'Sắp xếp lịch trực và ca làm việc'\r\n        }\r\n      },\r\n      RECONCILIATION: {\r\n        key: 'reconciliation',\r\n        name: 'Đối soát',\r\n        icon: 'Calculator',\r\n        list: {\r\n          title: 'Đối soát tài khoản',\r\n          description: 'Đối soát và kiểm tra số liệu'\r\n        }\r\n      },\r\n      WIKI: {\r\n        key: 'wiki',\r\n        name: 'Wiki',\r\n        icon: 'BookOpen',\r\n        list: {\r\n          title: 'Tài liệu Wiki',\r\n          description: 'Tài liệu hướng dẫn và kiến thức'\r\n        },\r\n        detail: {\r\n          title: (title) => title || 'Chi tiết Wiki',\r\n          description: 'Nội dung tài liệu hướng dẫn'\r\n        },\r\n        edit: {\r\n          title: (title) => title ? `Chỉnh sửa ${title}` : 'Chỉnh sửa Wiki',\r\n          description: 'Cập nhật nội dung tài liệu'\r\n        },\r\n        new: {\r\n          title: 'Tạo tài liệu mới',\r\n          description: 'Tạo tài liệu hướng dẫn mới'\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // === REPORTS Module ===\r\n  REPORTS: {\r\n    key: 'reports',\r\n    name: 'Báo cáo',\r\n    icon: 'BarChart',\r\n    sections: {\r\n      INDEX: {\r\n        key: 'reports-index',\r\n        name: 'Tổng quan báo cáo',\r\n        icon: 'AreaChart',\r\n        list: {\r\n          title: 'Báo cáo',\r\n          description: 'Trung tâm tổng hợp các báo cáo kinh doanh'\r\n        }\r\n      },\r\n      SALES_BY_TIME: {\r\n        key: 'sales-by-time',\r\n        name: 'Bán hàng theo thời gian',\r\n        icon: 'TrendingUp',\r\n        list: {\r\n          title: 'Báo cáo bán hàng theo thời gian',\r\n          description: 'Thống kê doanh thu theo ngày, tuần, tháng'\r\n        }\r\n      },\r\n      SALES_BY_EMPLOYEE: {\r\n        key: 'sales-by-employee',\r\n        name: 'Bán hàng theo nhân viên',\r\n        icon: 'Users',\r\n        list: {\r\n          title: 'Báo cáo bán hàng theo nhân viên',\r\n          description: 'Hiệu suất bán hàng của từng nhân viên'\r\n        }\r\n      },\r\n      SALES_BY_PRODUCT: {\r\n        key: 'sales-by-product',\r\n        name: 'Bán hàng theo sản phẩm',\r\n        icon: 'Package',\r\n        list: {\r\n          title: 'Báo cáo bán hàng theo sản phẩm',\r\n          description: 'Doanh thu và số lượng bán từng sản phẩm'\r\n        }\r\n      },\r\n      SALES_BY_BRANCH: {\r\n        key: 'sales-by-branch',\r\n        name: 'Bán hàng theo chi nhánh',\r\n        icon: 'Building2',\r\n        list: {\r\n          title: 'Báo cáo bán hàng theo chi nhánh',\r\n          description: 'So sánh doanh thu giữa các chi nhánh'\r\n        }\r\n      },\r\n      SALES_REPORT: {\r\n        key: 'sales-report',\r\n        name: 'Báo cáo bán hàng',\r\n        icon: 'TrendingUp',\r\n        list: {\r\n          title: 'Báo cáo bán hàng',\r\n          description: 'Thống kê doanh thu và hiệu suất bán hàng'\r\n        }\r\n      },\r\n      INVENTORY_REPORT: {\r\n        key: 'inventory-report',\r\n        name: 'Báo cáo kho',\r\n        icon: 'Package',\r\n        list: {\r\n          title: 'Báo cáo tồn kho',\r\n          description: 'Thống kê tình trạng kho hàng'\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // === SETTINGS Module ===\r\n  SETTINGS: {\r\n    key: 'settings',\r\n    name: 'Cài đặt',\r\n    icon: 'Settings',\r\n    sections: {\r\n      GENERAL: {\r\n        key: 'general',\r\n        name: 'Cài đặt chung',\r\n        icon: 'Settings',\r\n        list: {\r\n          title: 'Cài đặt hệ thống',\r\n          description: 'Cấu hình chung của hệ thống'\r\n        }\r\n      },\r\n      APPEARANCE: {\r\n        key: 'appearance',\r\n        name: 'Giao diện',\r\n        icon: 'Palette',\r\n        list: {\r\n          title: 'Cài đặt giao diện',\r\n          description: 'Tùy chỉnh giao diện và theme'\r\n        }\r\n      },\r\n      STORE_INFO: {\r\n        key: 'store-info',\r\n        name: 'Thông tin cửa hàng',\r\n        icon: 'Store',\r\n        list: {\r\n          title: 'Thông tin cửa hàng',\r\n          description: 'Cấu hình thông tin doanh nghiệp'\r\n        }\r\n      },\r\n      PROVINCES: {\r\n        key: 'provinces',\r\n        name: 'Tỉnh thành',\r\n        icon: 'Map',\r\n        list: {\r\n          title: 'Quản lý tỉnh thành',\r\n          description: 'Danh sách tỉnh thành và địa chỉ'\r\n        }\r\n      },\r\n      EMPLOYEE_SETTINGS: {\r\n        key: 'employee-settings',\r\n        name: 'Cài đặt nhân viên',\r\n        icon: 'UserCog',\r\n        list: {\r\n          title: 'Cài đặt nhân viên',\r\n          description: 'Cấu hình quy định về nhân viên'\r\n        }\r\n      },\r\n      PRICING_SETTINGS: {\r\n        key: 'pricing-settings',\r\n        name: 'Cài đặt giá',\r\n        icon: 'DollarSign',\r\n        list: {\r\n          title: 'Cài đặt định giá',\r\n          description: 'Cấu hình chính sách giá'\r\n        }\r\n      },\r\n      PAYMENT_SETTINGS: {\r\n        key: 'payment-settings',\r\n        name: 'Cài đặt thanh toán',\r\n        icon: 'CreditCard',\r\n        list: {\r\n          title: 'Cài đặt thanh toán',\r\n          description: 'Cấu hình phương thức thanh toán'\r\n        }\r\n      },\r\n      INVENTORY_SETTINGS: {\r\n        key: 'inventory-settings',\r\n        name: 'Cài đặt kho',\r\n        icon: 'Warehouse',\r\n        list: {\r\n          title: 'Cài đặt kho hàng',\r\n          description: 'Cấu hình quản lý kho'\r\n        }\r\n      },\r\n      SHIPPING_PARTNERS: {\r\n        key: 'shipping-partners',\r\n        name: 'Đối tác vận chuyển',\r\n        icon: 'Truck',\r\n        list: {\r\n          title: 'Đối tác vận chuyển',\r\n          description: 'Quản lý nhà cung cấp dịch vụ vận chuyển'\r\n        }\r\n      },\r\n      SALES_CONFIG: {\r\n        key: 'sales-config',\r\n        name: 'Cấu hình bán hàng',\r\n        icon: 'ShoppingCart',\r\n        list: {\r\n          title: 'Cấu hình bán hàng',\r\n          description: 'Cài đặt quy trình bán hàng'\r\n        }\r\n      },\r\n      ROOT: {\r\n        key: 'settings',\r\n        name: 'Cài đặt',\r\n        icon: 'Settings',\r\n        list: {\r\n          title: 'Cài đặt hệ thống',\r\n          description: 'Quản lý cài đặt và cấu hình'\r\n        }\r\n      },\r\n      EMPLOYEES: {\r\n        key: 'employees',\r\n        name: 'Nhân viên',\r\n        icon: 'Users',\r\n        list: {\r\n          title: 'Cài đặt nhân viên',\r\n          description: 'Cấu hình liên quan nhân viên'\r\n        }\r\n      },\r\n      TAXES: {\r\n        key: 'taxes',\r\n        name: 'Thuế',\r\n        icon: 'Receipt',\r\n        list: {\r\n          title: 'Cài đặt thuế',\r\n          description: 'Quản lý thuế suất'\r\n        }\r\n      },\r\n      PAYMENT_METHODS: {\r\n        key: 'payments',\r\n        name: 'Phương thức thanh toán',\r\n        icon: 'CreditCard',\r\n        list: {\r\n          title: 'Phương thức thanh toán',\r\n          description: 'Cấu hình các hình thức thanh toán'\r\n        }\r\n      },\r\n      PRINT_TEMPLATES: {\r\n        key: 'print-templates',\r\n        name: 'Mẫu in',\r\n        icon: 'Printer',\r\n        list: {\r\n          title: 'Mẫu in',\r\n          description: 'Quản lý mẫu in hóa đơn'\r\n        }\r\n      },\r\n      STOCK_LOCATIONS: {\r\n        key: 'stock-locations',\r\n        name: 'Vị trí kho',\r\n        icon: 'MapPin',\r\n        list: {\r\n          title: 'Vị trí kho',\r\n          description: 'Quản lý vị trí trong kho'\r\n        }\r\n      },\r\n      OTHER: {\r\n        key: 'other',\r\n        name: 'Khác',\r\n        icon: 'MoreHorizontal',\r\n        list: {\r\n          title: 'Cài đặt khác',\r\n          description: 'Các cài đặt khác'\r\n        }\r\n      },\r\n      SYSTEM_LOGS: {\r\n        key: 'system-logs',\r\n        name: 'Nhật ký hệ thống',\r\n        icon: 'FileText',\r\n        list: {\r\n          title: 'Nhật ký hệ thống',\r\n          description: 'Xem lịch sử hoạt động'\r\n        }\r\n      },\r\n      IMPORT_EXPORT_LOGS: {\r\n        key: 'import-export-logs',\r\n        name: 'Nhật ký xuất nhập',\r\n        icon: 'Database',\r\n        list: {\r\n          title: 'Nhật ký xuất/nhập',\r\n          description: 'Lịch sử xuất nhập file'\r\n        }\r\n      }\r\n    }\r\n  }\r\n} as const;\r\n\r\n// 2. Path Pattern Mapping for smart routing\r\nconst PATH_PATTERNS = {\r\n  // Dashboard\r\n  '/dashboard': { module: 'DASHBOARD' },\r\n  \r\n  // === ROOT-LEVEL URL ALIASES (for backward compatibility) ===\r\n  // HRM root aliases\r\n  '/employees': { module: 'HRM', section: 'EMPLOYEES', action: 'list' },\r\n  '/employees/new': { module: 'HRM', section: 'EMPLOYEES', action: 'new' },\r\n  '/employees/trash': { module: 'HRM', section: 'EMPLOYEES', action: 'trash' },\r\n  '/employees/:systemId': { module: 'HRM', section: 'EMPLOYEES', action: 'detail' },\r\n  '/employees/:systemId/edit': { module: 'HRM', section: 'EMPLOYEES', action: 'edit' },\r\n  '/departments': { module: 'HRM', section: 'DEPARTMENTS', action: 'list' },\r\n  '/departments/new': { module: 'HRM', section: 'DEPARTMENTS', action: 'new' },\r\n  '/departments/trash': { module: 'HRM', section: 'DEPARTMENTS', action: 'trash' },\r\n  '/departments/:systemId': { module: 'HRM', section: 'DEPARTMENTS', action: 'detail' },\r\n  '/departments/:systemId/edit': { module: 'HRM', section: 'DEPARTMENTS', action: 'edit' },\r\n  '/departments/organization-chart': { module: 'HRM', section: 'ORGANIZATION_CHART', action: 'list' },\r\n  '/attendance': { module: 'HRM', section: 'ATTENDANCE', action: 'list' },\r\n  '/attendance/attendance': { module: 'HRM', section: 'ATTENDANCE', action: 'list' },\r\n  '/leaves': { module: 'HRM', section: 'LEAVES', action: 'list' },\r\n  '/leaves/:systemId': { module: 'HRM', section: 'LEAVES', action: 'detail' },\r\n  \r\n  // Payroll routes\r\n  '/payroll': { module: 'HRM', section: 'PAYROLL', action: 'list' },\r\n  '/payroll/run': { module: 'HRM', section: 'PAYROLL', action: 'new' },\r\n  '/payroll/templates': { module: 'HRM', section: 'PAYROLL', action: 'templates' },\r\n  '/payroll/:systemId': { module: 'HRM', section: 'PAYROLL', action: 'detail' },\r\n  '/payroll/:systemId/edit': { module: 'HRM', section: 'PAYROLL', action: 'edit' },\r\n  \r\n  // Sales root aliases\r\n  '/customers': { module: 'SALES', section: 'CUSTOMERS', action: 'list' },\r\n  '/customers/new': { module: 'SALES', section: 'CUSTOMERS', action: 'new' },\r\n  '/customers/trash': { module: 'SALES', section: 'CUSTOMERS', action: 'trash' },\r\n  '/customers/:systemId': { module: 'SALES', section: 'CUSTOMERS', action: 'detail' },\r\n  '/customers/:systemId/edit': { module: 'SALES', section: 'CUSTOMERS', action: 'edit' },\r\n  '/products': { module: 'SALES', section: 'PRODUCTS', action: 'list' },\r\n  '/products/new': { module: 'SALES', section: 'PRODUCTS', action: 'new' },\r\n  '/products/trash': { module: 'SALES', section: 'PRODUCTS', action: 'trash' },\r\n  '/products/:systemId': { module: 'SALES', section: 'PRODUCTS', action: 'detail' },\r\n  '/products/:systemId/edit': { module: 'SALES', section: 'PRODUCTS', action: 'edit' },\r\n  '/orders': { module: 'SALES', section: 'ORDERS', action: 'list' },\r\n  '/orders/new': { module: 'SALES', section: 'ORDERS', action: 'new' },\r\n  '/orders/trash': { module: 'SALES', section: 'ORDERS', action: 'trash' },\r\n  '/orders/:systemId': { module: 'SALES', section: 'ORDERS', action: 'detail' },\r\n  '/orders/:systemId/edit': { module: 'SALES', section: 'ORDERS', action: 'edit' },\r\n  '/orders/:systemId/return': { module: 'SALES', section: 'RETURNS', action: 'new' },\r\n  '/returns': { module: 'SALES', section: 'RETURNS', action: 'list' },\r\n  '/returns/:systemId': { module: 'SALES', section: 'RETURNS', action: 'detail' },\r\n  '/returns/new': { module: 'SALES', section: 'RETURNS', action: 'new' },\r\n  \r\n  // Brands & Categories\r\n  '/brands': { module: 'SALES', section: 'BRANDS', action: 'list' },\r\n  '/brands/new': { module: 'SALES', section: 'BRANDS', action: 'new' },\r\n  '/brands/:systemId': { module: 'SALES', section: 'BRANDS', action: 'detail' },\r\n  '/brands/:systemId/edit': { module: 'SALES', section: 'BRANDS', action: 'edit' },\r\n  '/categories': { module: 'SALES', section: 'CATEGORIES', action: 'list' },\r\n  '/categories/new': { module: 'SALES', section: 'CATEGORIES', action: 'new' },\r\n  '/categories/:systemId': { module: 'SALES', section: 'CATEGORIES', action: 'detail' },\r\n  '/categories/:systemId/edit': { module: 'SALES', section: 'CATEGORIES', action: 'edit' },\r\n  \r\n  // Procurement root aliases\r\n  '/suppliers': { module: 'PROCUREMENT', section: 'SUPPLIERS', action: 'list' },\r\n  '/suppliers/new': { module: 'PROCUREMENT', section: 'SUPPLIERS', action: 'new' },\r\n  '/suppliers/:systemId': { module: 'PROCUREMENT', section: 'SUPPLIERS', action: 'detail' },\r\n  '/suppliers/:systemId/edit': { module: 'PROCUREMENT', section: 'SUPPLIERS', action: 'edit' },\r\n  '/purchase-orders': { module: 'PROCUREMENT', section: 'PURCHASE_ORDERS', action: 'list' },\r\n  '/purchase-orders/new': { module: 'PROCUREMENT', section: 'PURCHASE_ORDERS', action: 'new' },\r\n  '/purchase-orders/:systemId': { module: 'PROCUREMENT', section: 'PURCHASE_ORDERS', action: 'detail' },\r\n  '/purchase-orders/:systemId/edit': { module: 'PROCUREMENT', section: 'PURCHASE_ORDERS', action: 'edit' },\r\n  '/purchase-orders/:systemId/return': { module: 'PROCUREMENT', section: 'PURCHASE_RETURNS', action: 'new' },\r\n  '/purchase-returns': { module: 'PROCUREMENT', section: 'PURCHASE_RETURNS', action: 'list' },\r\n  '/purchase-returns/new': { module: 'PROCUREMENT', section: 'PURCHASE_RETURNS', action: 'new' },\r\n  '/purchase-returns/:systemId': { module: 'PROCUREMENT', section: 'PURCHASE_RETURNS', action: 'detail' },\r\n  '/inventory-receipts': { module: 'PROCUREMENT', section: 'INVENTORY_RECEIPTS', action: 'list' },\r\n  '/inventory-receipts/:systemId': { module: 'PROCUREMENT', section: 'INVENTORY_RECEIPTS', action: 'detail' },\r\n  \r\n  // Finance root aliases\r\n  '/cashbook': { module: 'FINANCE', section: 'CASHBOOK', action: 'list' },\r\n  '/receipts': { module: 'FINANCE', section: 'RECEIPTS', action: 'list' },\r\n  '/receipts/new': { module: 'FINANCE', section: 'RECEIPTS', action: 'new' },\r\n  '/receipts/:systemId': { module: 'FINANCE', section: 'RECEIPTS', action: 'detail' },\r\n  '/receipts/:systemId/edit': { module: 'FINANCE', section: 'RECEIPTS', action: 'edit' },\r\n  '/payments': { module: 'FINANCE', section: 'PAYMENTS', action: 'list' },\r\n  '/payments/new': { module: 'FINANCE', section: 'PAYMENTS', action: 'new' },\r\n  '/payments/:systemId': { module: 'FINANCE', section: 'PAYMENTS', action: 'detail' },\r\n  '/payments/:systemId/edit': { module: 'FINANCE', section: 'PAYMENTS', action: 'edit' },\r\n  \r\n  // Inventory root aliases\r\n  '/stock-locations': { module: 'INVENTORY', section: 'STOCK_LOCATIONS', action: 'list' },\r\n  '/stock-history': { module: 'INVENTORY', section: 'STOCK_HISTORY', action: 'list' },\r\n  '/inventory-checks': { module: 'INVENTORY', section: 'INVENTORY_CHECKS', action: 'list' },\r\n  '/inventory-checks/new': { module: 'INVENTORY', section: 'INVENTORY_CHECKS', action: 'new' },\r\n  '/inventory-checks/:systemId': { module: 'INVENTORY', section: 'INVENTORY_CHECKS', action: 'detail' },\r\n  '/inventory-checks/:systemId/edit': { module: 'INVENTORY', section: 'INVENTORY_CHECKS', action: 'edit' },\r\n  '/inventory-checks/edit/:systemId': { module: 'INVENTORY', section: 'INVENTORY_CHECKS', action: 'edit' },\r\n  '/inventory-settings': { module: 'SETTINGS', section: 'INVENTORY_SETTINGS', action: 'list' },\r\n  \r\n  // Stock Transfers\r\n  '/stock-transfers': { module: 'INVENTORY', section: 'STOCK_TRANSFERS', action: 'list' },\r\n  '/stock-transfers/new': { module: 'INVENTORY', section: 'STOCK_TRANSFERS', action: 'new' },\r\n  '/stock-transfers/:systemId': { module: 'INVENTORY', section: 'STOCK_TRANSFERS', action: 'detail' },\r\n  '/stock-transfers/:systemId/edit': { module: 'INVENTORY', section: 'STOCK_TRANSFERS', action: 'edit' },\r\n  \r\n  // Cost Adjustments\r\n  '/cost-adjustments': { module: 'INVENTORY', section: 'COST_ADJUSTMENTS', action: 'list' },\r\n  '/cost-adjustments/new': { module: 'INVENTORY', section: 'COST_ADJUSTMENTS', action: 'new' },\r\n  '/cost-adjustments/:systemId': { module: 'INVENTORY', section: 'COST_ADJUSTMENTS', action: 'detail' },\r\n  '/cost-adjustments/:systemId/edit': { module: 'INVENTORY', section: 'COST_ADJUSTMENTS', action: 'edit' },\r\n  \r\n  // Internal operations root aliases\r\n  '/packaging': { module: 'INTERNAL', section: 'PACKAGING', action: 'list' },\r\n  '/packaging/:systemId': { module: 'INTERNAL', section: 'PACKAGING', action: 'detail' },\r\n  '/shipments': { module: 'INTERNAL', section: 'SHIPMENTS', action: 'list' },\r\n  '/shipments/:systemId': { module: 'INTERNAL', section: 'SHIPMENTS', action: 'detail' },\r\n  '/reconciliation': { module: 'INTERNAL', section: 'RECONCILIATION', action: 'list' },\r\n  '/warranty': { module: 'INTERNAL', section: 'TASKS_WARRANTY', action: 'list' },\r\n  '/warranty/:systemId': { module: 'INTERNAL', section: 'TASKS_WARRANTY', action: 'detail' },\r\n  '/warranty/:systemId/edit': { module: 'INTERNAL', section: 'TASKS_WARRANTY', action: 'edit' },\r\n  '/warranty/new': { module: 'INTERNAL', section: 'TASKS_WARRANTY', action: 'new' },\r\n  '/complaints': { module: 'INTERNAL', section: 'COMPLAINTS', action: 'list' },\r\n  '/complaints/statistics': { module: 'INTERNAL', section: 'COMPLAINTS', action: 'statistics' },\r\n  '/complaints/new': { module: 'INTERNAL', section: 'COMPLAINTS', action: 'new' },\r\n  '/complaints/:systemId': { module: 'INTERNAL', section: 'COMPLAINTS', action: 'detail' },\r\n  '/complaints/:systemId/edit': { module: 'INTERNAL', section: 'COMPLAINTS', action: 'edit' },\r\n  '/penalties': { module: 'INTERNAL', section: 'PENALTIES', action: 'list' },\r\n  '/penalties/new': { module: 'INTERNAL', section: 'PENALTIES', action: 'new' },\r\n  '/penalties/:systemId': { module: 'INTERNAL', section: 'PENALTIES', action: 'detail' },\r\n  '/penalties/:systemId/edit': { module: 'INTERNAL', section: 'PENALTIES', action: 'edit' },\r\n  '/penalties/edit/:systemId': { module: 'INTERNAL', section: 'PENALTIES', action: 'edit' },\r\n  '/tasks': { module: 'INTERNAL', section: 'TASKS', action: 'list' },\r\n  '/tasks/calendar': { module: 'INTERNAL', section: 'TASKS', action: 'calendar' },\r\n  '/tasks/new': { module: 'INTERNAL', section: 'TASKS', action: 'new' },\r\n  '/tasks/:systemId': { module: 'INTERNAL', section: 'TASKS', action: 'detail' },\r\n  '/tasks/:systemId/edit': { module: 'INTERNAL', section: 'TASKS', action: 'edit' },\r\n  '/internal-tasks': { module: 'INTERNAL', section: 'INTERNAL_TASKS', action: 'list' },\r\n  '/internal-tasks/:systemId': { module: 'INTERNAL', section: 'INTERNAL_TASKS', action: 'detail' },\r\n  '/wiki': { module: 'INTERNAL', section: 'WIKI', action: 'list' },\r\n  '/wiki/new': { module: 'INTERNAL', section: 'WIKI', action: 'new' },\r\n  '/wiki/:systemId': { module: 'INTERNAL', section: 'WIKI', action: 'detail' },\r\n  '/wiki/:systemId/edit': { module: 'INTERNAL', section: 'WIKI', action: 'edit' },\r\n  \r\n  // Reports root aliases\r\n  '/reports/sales-report': { module: 'REPORTS', section: 'SALES_REPORT', action: 'list' },\r\n  '/reports/inventory-report': { module: 'REPORTS', section: 'INVENTORY_REPORT', action: 'list' },\r\n  \r\n  // Settings root aliases (already have most)\r\n  '/provinces': { module: 'SETTINGS', section: 'PROVINCES', action: 'list' },\r\n  '/provinces/:systemId': { module: 'SETTINGS', section: 'PROVINCES', action: 'detail' },\r\n  '/pricing-settings': { module: 'SETTINGS', section: 'PRICING_SETTINGS', action: 'list' },\r\n  '/payment-methods': { module: 'SETTINGS', section: 'PAYMENT_METHODS', action: 'list' },\r\n  '/shipping-partners': { module: 'SETTINGS', section: 'SHIPPING_PARTNERS', action: 'list' },\r\n} as const;\r\n\r\n// 3. Smart path matching with parameter support\r\nfunction matchPath(pathname: string): { module: string; section?: string; action?: string; params?: Record<string, string> } | null {\r\n  // Try exact match first\r\n  if (PATH_PATTERNS[pathname]) {\r\n    return PATH_PATTERNS[pathname];\r\n  }\r\n\r\n  // Try pattern matching with parameters\r\n  for (const [pattern, config] of Object.entries(PATH_PATTERNS)) {\r\n    if (pattern.includes(':')) {\r\n      const regex = new RegExp('^' + pattern.replace(/:[^/]+/g, '([^/]+)') + '$');\r\n      const match = pathname.match(regex);\r\n      \r\n      if (match) {\r\n        // Extract parameter names and values\r\n        const paramNames = pattern.match(/:[^/]+/g)?.map(p => p.slice(1)) || [];\r\n        const params: Record<string, string> = {};\r\n        \r\n        paramNames.forEach((name, index) => {\r\n          params[name] = match[index + 1];\r\n        });\r\n\r\n        return { ...config, params };\r\n      }\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n// 4. Advanced Breadcrumb Generator\r\nexport interface BreadcrumbItem {\r\n  label: string;\r\n  href: string;\r\n  icon?: string;\r\n  isParam?: boolean;\r\n  isCurrent?: boolean;\r\n}\r\n\r\nexport function generateBreadcrumb(pathname: string, context?: Record<string, any>): BreadcrumbItem[] {\r\n  const breadcrumb: BreadcrumbItem[] = [];\r\n  const pathMatch = matchPath(pathname);\r\n\r\n  if (!pathMatch) {\r\n    return [{ label: 'Trang chủ', href: '/dashboard' }];\r\n  }\r\n\r\n  // Always start with Dashboard if not already there\r\n  if (pathname !== '/dashboard') {\r\n    breadcrumb.push({\r\n      label: 'Trang chủ',\r\n      href: '/dashboard'\r\n    });\r\n  }\r\n\r\n  const module = MODULES[pathMatch.module];\r\n  if (!module) return breadcrumb;\r\n\r\n  // Add section level (list page link)\r\n  if (pathMatch.section && module.sections) {\r\n    const section = module.sections[pathMatch.section];\r\n    if (section) {\r\n      // Get list path - use first segment (e.g., /employees, /customers)\r\n      const pathSegments = pathname.split('/').filter(Boolean);\r\n      const listPath = '/' + pathSegments[0];\r\n      \r\n      breadcrumb.push({\r\n        label: section.name,\r\n        href: listPath,\r\n        isCurrent: !pathMatch.action || pathMatch.action === 'list'\r\n      });\r\n\r\n      // Handle different actions with improved UX\r\n      if (pathMatch.action && pathMatch.action !== 'list') {\r\n        \r\n        // NEW action: Trang chủ > Nhân viên > Thêm mới\r\n        if (pathMatch.action === 'new') {\r\n          breadcrumb.push({\r\n            label: 'Thêm mới',\r\n            href: pathname,\r\n            isCurrent: true\r\n          });\r\n        }\r\n        \r\n        // TRASH action: Trang chủ > Nhân viên > Thùng rác\r\n        else if (pathMatch.action === 'trash') {\r\n          breadcrumb.push({\r\n            label: 'Thùng rác',\r\n            href: pathname,\r\n            isCurrent: true\r\n          });\r\n        }\r\n        \r\n        // DETAIL action: Trang chủ > Nhân viên > Bùi My\r\n        else if (pathMatch.action === 'detail' && pathMatch.params) {\r\n          const contextName = getContextName(pathMatch, context);\r\n          breadcrumb.push({\r\n            label: contextName,\r\n            href: pathname,\r\n            isParam: true,\r\n            isCurrent: true\r\n          });\r\n        }\r\n        \r\n        // EDIT action: Trang chủ > Nhân viên > Bùi My > Chỉnh sửa\r\n        else if (pathMatch.action === 'edit' && pathMatch.params) {\r\n          const contextName = getContextName(pathMatch, context);\r\n          const id = pathMatch.params.id || pathMatch.params.periodId;\r\n          \r\n          // Build detail page URL (context item is clickable)\r\n          let detailPath = listPath;\r\n          if (id) {\r\n            // Check URL pattern to construct correct detail path\r\n            // Standard pattern: /${id}/edit → detail page is /${id}\r\n            if (pathname.includes(`/${id}/edit`)) {\r\n              detailPath = `${listPath}/${id}`;\r\n            }\r\n          }\r\n          \r\n          // Add context breadcrumb (clickable to detail page)\r\n          breadcrumb.push({\r\n            label: contextName,\r\n            href: detailPath,\r\n            isParam: true\r\n          });\r\n          \r\n          // Add edit action breadcrumb (current page)\r\n          breadcrumb.push({\r\n            label: 'Chỉnh sửa',\r\n            href: pathname,\r\n            isCurrent: true\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return breadcrumb;\r\n}\r\n\r\n// 5. Dynamic Title Generator\r\nexport interface PageTitle {\r\n  title: string;\r\n  description?: string;\r\n}\r\n\r\nexport function generatePageTitle(pathname: string, context?: Record<string, any>): PageTitle {\r\n  const pathMatch = matchPath(pathname);\r\n  \r\n  if (!pathMatch) {\r\n    return { title: '', description: '' };\r\n  }\r\n\r\n  const module = MODULES[pathMatch.module];\r\n  if (!module) {\r\n    return { title: '', description: '' };\r\n  }\r\n\r\n  // Dashboard special case\r\n  if (pathMatch.module === 'DASHBOARD') {\r\n    return {\r\n      title: module.title || module.name,\r\n      description: module.description\r\n    };\r\n  }\r\n\r\n  // Module-only pages\r\n  if (!pathMatch.section) {\r\n    return {\r\n      title: module.name,\r\n      description: `Tổng quan module ${module.name.toLowerCase()}`\r\n    };\r\n  }\r\n\r\n  const section = module.sections?.[pathMatch.section];\r\n  if (!section) {\r\n    return { title: '', description: '' };\r\n  }\r\n\r\n  // Generate title based on action\r\n  switch (pathMatch.action) {\r\n    case 'list':\r\n      return {\r\n        title: section.list?.title || section.name,\r\n        description: section.list?.description\r\n      };\r\n\r\n    case 'new':\r\n      return {\r\n        title: section.new?.title || `Thêm ${section.name.toLowerCase()} mới`,\r\n        description: section.new?.description || `Tạo ${section.name.toLowerCase()} mới trong hệ thống`\r\n      };\r\n\r\n    case 'detail':\r\n      const detailName = getContextName(pathMatch, context);\r\n      return {\r\n        title: typeof section.detail?.title === 'function' \r\n          ? section.detail.title(detailName) \r\n          : (section.detail?.title || detailName),\r\n        description: section.detail?.description\r\n      };\r\n\r\n    case 'edit':\r\n      const editName = getContextName(pathMatch, context);\r\n      return {\r\n        title: typeof section.edit?.title === 'function'\r\n          ? section.edit.title(editName)\r\n          : (section.edit?.title || `Chỉnh sửa ${editName}`),\r\n        description: section.edit?.description\r\n      };\r\n\r\n    default:\r\n      return {\r\n        title: section.name,\r\n        description: section.list?.description\r\n      };\r\n  }\r\n}\r\n\r\n// 6. Helper function to get context name for parameters\r\nfunction getContextName(pathMatch: { params?: Record<string, string> }, context?: Record<string, any>): string {\r\n  if (!pathMatch.params) return 'Chi tiết';\r\n\r\n  // Priority 1: Use name from context (best UX)\r\n  // Example: \"Bùi My\" instead of \"NV027\"\r\n  const contextName = context?.fullName || context?.name || context?.title || context?.displayName;\r\n  if (contextName) return contextName;\r\n  \r\n  // Priority 2: Use ID code from context\r\n  // Example: \"NV027\" from employee.id\r\n  if (context?.id) return context.id;\r\n  \r\n  // Priority 3: Extract ID from URL params\r\n  const id = pathMatch.params.id || pathMatch.params.periodId || pathMatch.params.systemId;\r\n  \r\n  if (id) {\r\n    // Format based on ID pattern\r\n    if (id.startsWith('ORD')) return `Đơn hàng #${id}`;\r\n    if (id.startsWith('CUST')) return `Khách hàng #${id}`;\r\n    if (id.startsWith('NV')) return id; // Employee code: NV001, NV027\r\n    if (id.startsWith('PO')) return `Đơn mua #${id}`;\r\n    return id; // Default: return as-is\r\n  }\r\n\r\n  return 'Chi tiết';\r\n}\r\n\r\n// 7. Utility function to get back navigation path\r\nexport function getBackPath(pathname: string): string {\r\n  const segments = pathname.split('/').filter(Boolean);\r\n  \r\n  // Remove last segment for back navigation\r\n  if (segments.length <= 1) {\r\n    return '/dashboard';\r\n  }\r\n\r\n  // Handle special cases\r\n  if (pathname.endsWith('/edit') || pathname.endsWith('/new')) {\r\n    // Remove last two segments for edit/new actions\r\n    return '/' + segments.slice(0, -1).join('/');\r\n  }\r\n\r\n  // Remove last segment\r\n  return '/' + segments.slice(0, -1).join('/');\r\n}\r\n\r\n// 8. Export helper for checking if back button should be shown\r\nexport function shouldShowBackButton(pathname: string): boolean {\r\n  return pathname !== '/dashboard' && pathname !== '/';\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2497, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/contexts/page-header-context.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport type { BreadcrumbItem } from '../lib/breadcrumb-system';\r\nimport { generateBreadcrumb, generatePageTitle } from '../lib/breadcrumb-system';\r\n\r\n/**\r\n * Page Header State Interface\r\n * Defines the structure of page header data\r\n */\r\nexport interface PageHeaderDocLink {\r\n  href: string;\r\n  label?: string;\r\n}\r\n\r\nexport interface PageHeaderState {\r\n  title?: string | React.ReactNode | undefined;\r\n  subtitle?: string | undefined;\r\n  badge?: React.ReactNode | undefined;\r\n  showBackButton?: boolean | undefined;\r\n  backPath?: string | undefined;\r\n  onBack?: (() => void) | undefined;\r\n  actions?: React.ReactNode[] | React.ReactNode | undefined;\r\n  breadcrumb?: BreadcrumbItem[] | undefined;\r\n  context?: Record<string, any> | undefined; // For dynamic breadcrumb generation\r\n  docLink?: PageHeaderDocLink | undefined;\r\n}\r\n\r\n/**\r\n * Page Header Context\r\n */\r\ninterface PageHeaderContextValue {\r\n  pageHeader: PageHeaderState;\r\n  setPageHeader: (state: PageHeaderState) => void;\r\n  clearPageHeader: () => void;\r\n}\r\n\r\nconst PageHeaderStateContext = React.createContext<PageHeaderState | null>(null);\r\nconst PageHeaderDispatchContext = React.createContext<Omit<PageHeaderContextValue, 'pageHeader'> | null>(null);\r\n\r\n/**\r\n * Page Header Provider\r\n * Wrap your app with this provider to enable page header functionality\r\n */\r\nexport function PageHeaderProvider({ children }: { children: React.ReactNode }) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [pageHeader, setPageHeaderState] = React.useState<PageHeaderState>({});\r\n\r\n  // Auto-clear on route change (optional - can be disabled)\r\n  React.useEffect(() => {\r\n    // Don't auto-clear, let pages set their own headers\r\n    // setPageHeaderState({});\r\n  }, [pathname]);\r\n\r\n  const setPageHeader = React.useCallback((state: PageHeaderState) => {\r\n    setPageHeaderState(prev => {\r\n      // Auto-generate breadcrumb if not provided\r\n      let breadcrumb = state.breadcrumb;\r\n      if (!breadcrumb) {\r\n        breadcrumb = generateBreadcrumb(pathname, state.context);\r\n      } else {\r\n        // ✨ Transform route metadata breadcrumb format\r\n        // Convert: ['Nhân viên', 'Chi tiết'] or [{ label: 'Nhân viên', href: '/employees' }, 'Chi tiết']\r\n        // To: [{ label: 'Nhân viên', href: '/employees', isCurrent: false }, { label: 'Chi tiết', href: pathname, isCurrent: true }]\r\n        breadcrumb = breadcrumb.map((item, index) => {\r\n          if (typeof item === 'string') {\r\n            return {\r\n              label: item,\r\n              href: pathname,\r\n              isCurrent: index === breadcrumb!.length - 1\r\n            };\r\n          }\r\n          return {\r\n            ...item,\r\n            isCurrent: index === breadcrumb!.length - 1\r\n          };\r\n        });\r\n      }\r\n\r\n      // Auto-generate title if not provided\r\n      let title = state.title;\r\n      if (!title) {\r\n        const pageTitle = generatePageTitle(pathname, state.context);\r\n        title = pageTitle.title;\r\n      }\r\n\r\n      // Auto back handler if not provided\r\n      let onBack = state.onBack;\r\n      if (!onBack && state.showBackButton !== false) {\r\n        onBack = () => {\r\n          if (state.backPath) {\r\n            router.push(state.backPath);\r\n          } else {\r\n            router.back();\r\n          }\r\n        };\r\n      }\r\n\r\n      // ✅ KHÔNG spread prev để tránh giữ lại state cũ (như badge)\r\n      return {\r\n        ...state,\r\n        breadcrumb,\r\n        title,\r\n        onBack,\r\n      };\r\n    });\r\n  }, [pathname, router]);\r\n\r\n  const clearPageHeader = React.useCallback(() => {\r\n    setPageHeaderState({});\r\n  }, []);\r\n\r\n  const dispatchValue = React.useMemo(\r\n    () => ({\r\n      setPageHeader,\r\n      clearPageHeader,\r\n    }),\r\n    [setPageHeader, clearPageHeader]\r\n  );\r\n\r\n  return (\r\n    <PageHeaderDispatchContext.Provider value={dispatchValue}>\r\n      <PageHeaderStateContext.Provider value={pageHeader}>\r\n        {children}\r\n      </PageHeaderStateContext.Provider>\r\n    </PageHeaderDispatchContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Hook to access page header state (for rendering)\r\n */\r\nexport function usePageHeaderState() {\r\n  const context = React.useContext(PageHeaderStateContext);\r\n  if (!context) {\r\n    throw new Error('usePageHeaderState must be used within PageHeaderProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n/**\r\n * Hook to access page header dispatch (for setting header)\r\n */\r\nexport function usePageHeaderDispatch() {\r\n  const context = React.useContext(PageHeaderDispatchContext);\r\n  if (!context) {\r\n    throw new Error('usePageHeaderDispatch must be used within PageHeaderProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n/**\r\n * Legacy hook to access full context\r\n * @deprecated Use usePageHeaderState or usePageHeaderDispatch instead\r\n */\r\nexport function usePageHeaderContext() {\r\n  const state = usePageHeaderState();\r\n  const dispatch = usePageHeaderDispatch();\r\n  return { pageHeader: state, ...dispatch };\r\n}\r\n\r\n/**\r\n * Hook to set page header from any component\r\n * \r\n * @example\r\n * // Auto-generated breadcrumb + title\r\n * usePageHeader();\r\n * \r\n * @example\r\n * // Custom configuration\r\n * usePageHeader({\r\n *   title: 'Bùi My',\r\n *   subtitle: 'Trưởng nhóm • Kinh doanh',\r\n *   badge: <Badge>Active</Badge>,\r\n *   showBackButton: true,\r\n *   actions: [\r\n *     <Button key=\"edit\">Chỉnh sửa</Button>\r\n *   ]\r\n * });\r\n * \r\n * @example\r\n * // With dynamic context for breadcrumb\r\n * usePageHeader({\r\n *   context: {\r\n *     employeeName: employee.fullName,\r\n *     employeeCode: employee.code\r\n *   }\r\n * });\r\n */\r\nexport function usePageHeader(config?: PageHeaderState) {\r\n  const { setPageHeader, clearPageHeader } = usePageHeaderDispatch();\r\n  const configRef = React.useRef(config);\r\n  \r\n  // Update ref without causing re-render\r\n  configRef.current = config;\r\n\r\n  // Create a serializable fingerprint of the config\r\n  const configFingerprint = React.useMemo(() => {\r\n    const currentConfig = config;\r\n    \r\n    // Helper to recursively extract text from React elements\r\n    const extractText = (node: any): string => {\r\n      if (!node) return '';\r\n      if (typeof node === 'string' || typeof node === 'number') return String(node);\r\n      if (Array.isArray(node)) return node.map(extractText).join('');\r\n      if (React.isValidElement(node)) {\r\n        return extractText((node.props as any).children);\r\n      }\r\n      if (typeof node === 'object' && 'props' in node) {\r\n        return extractText((node as any).props?.children);\r\n      }\r\n      return '';\r\n    };\r\n\r\n    const extractTextFromActions = (actions?: React.ReactNode | React.ReactNode[]) => {\r\n      if (!actions) return '';\r\n      const actionsArray = Array.isArray(actions) ? actions : [actions];\r\n      return actionsArray.map(node => {\r\n        if (!React.isValidElement(node)) return extractText(node);\r\n        const props = node.props as any;\r\n        return `${extractText(node)}|${props.disabled}|${props.hidden}|${node.key}`;\r\n      }).join('||');\r\n    };\r\n\r\n    return currentConfig ? JSON.stringify({\r\n      title: typeof currentConfig.title === 'string' ? currentConfig.title : extractText(currentConfig.title),\r\n      subtitle: currentConfig.subtitle,\r\n      showBackButton: currentConfig.showBackButton,\r\n      backPath: currentConfig.backPath,\r\n      actionsText: extractTextFromActions(currentConfig.actions),\r\n      breadcrumb: currentConfig.breadcrumb,\r\n      badgeKey: React.isValidElement(currentConfig.badge) ? currentConfig.badge.key : undefined,\r\n      context: currentConfig.context,\r\n      docLink: currentConfig.docLink,\r\n    }) : 'EMPTY';\r\n  }, [config]);\r\n\r\n  React.useEffect(() => {\r\n    const currentConfig = configRef.current;\r\n    if (currentConfig) {\r\n      setPageHeader(currentConfig);\r\n    }\r\n  }, [configFingerprint, setPageHeader]);\r\n\r\n  return { setPageHeader, clearPageHeader };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2695, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/sonner.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Toaster as Sonner } from \"sonner\"\r\n\r\ntype ToasterProps = React.ComponentProps<typeof Sonner>\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  return (\r\n    <Sonner\r\n      className=\"toaster group\"\r\n      toastOptions={{\r\n        classNames: {\r\n          toast:\r\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\r\n          description: \"group-[.toast]:text-muted-foreground\",\r\n          actionButton:\r\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\r\n          cancelButton:\r\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\r\n        },\r\n      }}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Toaster }\r\n"],"names":[],"mappings":";;;;;AACA;;;AAIA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,qBACE,8OAAC,mJAAM;QACL,WAAU;QACV,cAAc;YACZ,YAAY;gBACV,OACE;gBACF,aAAa;gBACb,cACE;gBACF,cACE;YACJ;QACF;QACC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2726, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/query-client.ts"],"sourcesContent":["/**\r\n * React Query Configuration\r\n * Centralized configuration for @tanstack/react-query\r\n */\r\n\r\nimport { QueryClient } from '@tanstack/react-query';\r\n\r\n/**\r\n * Global Query Client Configuration\r\n */\r\nexport const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      // Stale time: 5 minutes\r\n      staleTime: 5 * 60 * 1000,\r\n      \r\n      // Cache time: 10 minutes\r\n      gcTime: 10 * 60 * 1000,\r\n      \r\n      // Retry failed requests 3 times\r\n      retry: 3,\r\n      \r\n      // Retry delay with exponential backoff\r\n      retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\r\n      \r\n      // Refetch on window focus (useful for real-time updates)\r\n      refetchOnWindowFocus: false,\r\n      \r\n      // Refetch on mount if data is stale\r\n      refetchOnMount: true,\r\n      \r\n      // Refetch on reconnect\r\n      refetchOnReconnect: true,\r\n    },\r\n    mutations: {\r\n      // Retry failed mutations 1 time\r\n      retry: 1,\r\n      \r\n      // Show error notifications\r\n      onError: (error) => {\r\n        console.error('Mutation error:', error);\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n/**\r\n * Query Keys Factory\r\n * Centralized place to manage all query keys\r\n */\r\nexport const queryKeys = {\r\n  // Employee queries\r\n  employees: {\r\n    all: ['employees'] as const,\r\n    lists: () => [...queryKeys.employees.all, 'list'] as const,\r\n    list: (filters: string) => [...queryKeys.employees.lists(), { filters }] as const,\r\n    details: () => [...queryKeys.employees.all, 'detail'] as const,\r\n    detail: (id: string) => [...queryKeys.employees.details(), id] as const,\r\n  },\r\n  \r\n  // Customer queries\r\n  customers: {\r\n    all: ['customers'] as const,\r\n    lists: () => [...queryKeys.customers.all, 'list'] as const,\r\n    list: (filters: string) => [...queryKeys.customers.lists(), { filters }] as const,\r\n    details: () => [...queryKeys.customers.all, 'detail'] as const,\r\n    detail: (id: string) => [...queryKeys.customers.details(), id] as const,\r\n  },\r\n  \r\n  // Product queries\r\n  products: {\r\n    all: ['products'] as const,\r\n    lists: () => [...queryKeys.products.all, 'list'] as const,\r\n    list: (filters: string) => [...queryKeys.products.lists(), { filters }] as const,\r\n    details: () => [...queryKeys.products.all, 'detail'] as const,\r\n    detail: (id: string) => [...queryKeys.products.details(), id] as const,\r\n  },\r\n  \r\n  // Supplier queries\r\n  suppliers: {\r\n    all: ['suppliers'] as const,\r\n    lists: () => [...queryKeys.suppliers.all, 'list'] as const,\r\n    list: (filters: string) => [...queryKeys.suppliers.lists(), { filters }] as const,\r\n    details: () => [...queryKeys.suppliers.all, 'detail'] as const,\r\n    detail: (id: string) => [...queryKeys.suppliers.details(), id] as const,\r\n  },\r\n  \r\n  // Branch queries\r\n  branches: {\r\n    all: ['branches'] as const,\r\n    lists: () => [...queryKeys.branches.all, 'list'] as const,\r\n    list: (filters: string) => [...queryKeys.branches.lists(), { filters }] as const,\r\n  },\r\n  \r\n  // Add more entities as needed...\r\n} as const;\r\n"],"names":[],"mappings":";;;;;;AAAA;;;CAGC,GAED;;AAKO,MAAM,cAAc,IAAI,4LAAW,CAAC;IACzC,gBAAgB;QACd,SAAS;YACP,wBAAwB;YACxB,WAAW,IAAI,KAAK;YAEpB,yBAAyB;YACzB,QAAQ,KAAK,KAAK;YAElB,gCAAgC;YAChC,OAAO;YAEP,uCAAuC;YACvC,YAAY,CAAC,eAAiB,KAAK,GAAG,CAAC,OAAO,KAAK,cAAc;YAEjE,yDAAyD;YACzD,sBAAsB;YAEtB,oCAAoC;YACpC,gBAAgB;YAEhB,uBAAuB;YACvB,oBAAoB;QACtB;QACA,WAAW;YACT,gCAAgC;YAChC,OAAO;YAEP,2BAA2B;YAC3B,SAAS,CAAC;gBACR,QAAQ,KAAK,CAAC,mBAAmB;YACnC;QACF;IACF;AACF;AAMO,MAAM,YAAY;IACvB,mBAAmB;IACnB,WAAW;QACT,KAAK;YAAC;SAAY;QAClB,OAAO,IAAM;mBAAI,UAAU,SAAS,CAAC,GAAG;gBAAE;aAAO;QACjD,MAAM,CAAC,UAAoB;mBAAI,UAAU,SAAS,CAAC,KAAK;gBAAI;oBAAE;gBAAQ;aAAE;QACxE,SAAS,IAAM;mBAAI,UAAU,SAAS,CAAC,GAAG;gBAAE;aAAS;QACrD,QAAQ,CAAC,KAAe;mBAAI,UAAU,SAAS,CAAC,OAAO;gBAAI;aAAG;IAChE;IAEA,mBAAmB;IACnB,WAAW;QACT,KAAK;YAAC;SAAY;QAClB,OAAO,IAAM;mBAAI,UAAU,SAAS,CAAC,GAAG;gBAAE;aAAO;QACjD,MAAM,CAAC,UAAoB;mBAAI,UAAU,SAAS,CAAC,KAAK;gBAAI;oBAAE;gBAAQ;aAAE;QACxE,SAAS,IAAM;mBAAI,UAAU,SAAS,CAAC,GAAG;gBAAE;aAAS;QACrD,QAAQ,CAAC,KAAe;mBAAI,UAAU,SAAS,CAAC,OAAO;gBAAI;aAAG;IAChE;IAEA,kBAAkB;IAClB,UAAU;QACR,KAAK;YAAC;SAAW;QACjB,OAAO,IAAM;mBAAI,UAAU,QAAQ,CAAC,GAAG;gBAAE;aAAO;QAChD,MAAM,CAAC,UAAoB;mBAAI,UAAU,QAAQ,CAAC,KAAK;gBAAI;oBAAE;gBAAQ;aAAE;QACvE,SAAS,IAAM;mBAAI,UAAU,QAAQ,CAAC,GAAG;gBAAE;aAAS;QACpD,QAAQ,CAAC,KAAe;mBAAI,UAAU,QAAQ,CAAC,OAAO;gBAAI;aAAG;IAC/D;IAEA,mBAAmB;IACnB,WAAW;QACT,KAAK;YAAC;SAAY;QAClB,OAAO,IAAM;mBAAI,UAAU,SAAS,CAAC,GAAG;gBAAE;aAAO;QACjD,MAAM,CAAC,UAAoB;mBAAI,UAAU,SAAS,CAAC,KAAK;gBAAI;oBAAE;gBAAQ;aAAE;QACxE,SAAS,IAAM;mBAAI,UAAU,SAAS,CAAC,GAAG;gBAAE;aAAS;QACrD,QAAQ,CAAC,KAAe;mBAAI,UAAU,SAAS,CAAC,OAAO;gBAAI;aAAG;IAChE;IAEA,iBAAiB;IACjB,UAAU;QACR,KAAK;YAAC;SAAW;QACjB,OAAO,IAAM;mBAAI,UAAU,QAAQ,CAAC,GAAG;gBAAE;aAAO;QAChD,MAAM,CAAC,UAAoB;mBAAI,UAAU,QAAQ,CAAC,KAAK;gBAAI;oBAAE;gBAAQ;aAAE;IACzE;AAGF"}},
    {"offset": {"line": 2883, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/app/providers.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { QueryClientProvider } from '@tanstack/react-query'\r\nimport { ThemeProvider } from '@/components/theme-provider'\r\nimport { BreakpointProvider } from '@/contexts/breakpoint-context'\r\nimport { AuthProvider as LegacyAuthProvider } from '@/contexts/auth-context'\r\nimport { AuthProvider as NextAuthProvider } from '@/components/providers/auth-provider'\r\nimport { PageHeaderProvider } from '@/contexts/page-header-context'\r\n// TEMPORARILY DISABLED: ApiSyncProvider gây chậm compile vì import 60+ stores\r\n// import { ApiSyncProvider } from '@/hooks/api/sync'\r\nimport { Toaster } from '@/components/ui/sonner'\r\nimport { queryClient } from '@/lib/query-client'\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <NextAuthProvider>\r\n        <ThemeProvider>\r\n          <BreakpointProvider>\r\n            <LegacyAuthProvider>\r\n              {/* TEMPORARILY DISABLED: ApiSyncProvider */}\r\n              {/* <ApiSyncProvider> */}\r\n                <PageHeaderProvider>\r\n                  {children}\r\n                  <Toaster />\r\n                </PageHeaderProvider>\r\n              {/* </ApiSyncProvider> */}\r\n            </LegacyAuthProvider>\r\n          </BreakpointProvider>\r\n        </ThemeProvider>\r\n      </NextAuthProvider>\r\n    </QueryClientProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E,qDAAqD;AACrD;AACA;AAXA;;;;;;;;;;AAaO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,8OAAC,6MAAmB;QAAC,QAAQ,qIAAW;kBACtC,cAAA,8OAAC,4JAAgB;sBACf,cAAA,8OAAC,iJAAa;0BACZ,cAAA,8OAAC,wJAAkB;8BACjB,cAAA,8OAAC,4IAAkB;kCAGf,cAAA,8OAAC,4JAAkB;;gCAChB;8CACD,8OAAC,sIAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1B"}}]
}