{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border border-border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-h3 font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,0EACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/utils/shipping-config-migration.ts"],"sourcesContent":["/**\r\n * Shipping Configuration Migration - V2 Multi-Account Structure\r\n * \r\n * NOTE: localStorage has been removed - all data comes from API/database\r\n */\r\n\r\nimport { ShippingConfig, GlobalShippingConfig, PartnerAccount } from '@/lib/types/shipping-config';\r\n\r\n// In-memory cache\r\nlet configCache: ShippingConfig | null = null;\r\n\r\n/**\r\n * Get default global config\r\n */\r\nfunction getDefaultGlobalConfig(): GlobalShippingConfig {\r\n  return {\r\n    weight: {\r\n      mode: 'FROM_PRODUCTS',\r\n      customValue: 500,\r\n    },\r\n    dimensions: {\r\n      length: 30,\r\n      width: 20,\r\n      height: 10,\r\n    },\r\n    requirement: 'ALLOW_CHECK_NOT_TRY',\r\n    note: '',\r\n    autoSyncCancelStatus: false,\r\n    autoSyncCODCollection: false,\r\n    latePickupWarningDays: 2,\r\n    lateDeliveryWarningDays: 7,\r\n  };\r\n}\r\n\r\n/**\r\n * Get default empty shipping config\r\n */\r\nexport function getDefaultShippingConfig(): ShippingConfig {\r\n  return {\r\n    version: 2,\r\n    partners: {\r\n      GHN: { accounts: [] },\r\n      GHTK: { accounts: [] },\r\n      VTP: { accounts: [] },\r\n      'J&T': { accounts: [] },\r\n      SPX: { accounts: [] },\r\n      VNPOST: { accounts: [] },\r\n      NINJA_VAN: { accounts: [] },\r\n      AHAMOVE: { accounts: [] },\r\n    },\r\n    global: getDefaultGlobalConfig(),\r\n    lastUpdated: new Date().toISOString(),\r\n  };\r\n}\r\n\r\n/**\r\n * Load shipping config from database (async)\r\n */\r\nexport async function loadShippingConfigAsync(): Promise<ShippingConfig> {\r\n  try {\r\n    const response = await fetch('/api/shipping-config');\r\n    if (!response.ok) throw new Error('Failed to fetch');\r\n    const config = await response.json();\r\n    configCache = config;\r\n    return config;\r\n  } catch (error) {\r\n    console.error('[ShippingConfig] Failed to load from database:', error);\r\n    // Return cached or default\r\n    return configCache ?? getDefaultShippingConfig();\r\n  }\r\n}\r\n\r\n/**\r\n * Load shipping config (sync) - returns cache or default\r\n */\r\nexport function loadShippingConfig(): ShippingConfig {\r\n  // Return cache if available\r\n  if (configCache) return configCache;\r\n  \r\n  // Return default - async load should be triggered on app init\r\n  return getDefaultShippingConfig();\r\n}\r\n\r\n/**\r\n * Save shipping config to database\r\n */\r\nexport function saveShippingConfig(config: ShippingConfig): void {\r\n  config.lastUpdated = new Date().toISOString();\r\n  \r\n  // Update cache\r\n  configCache = config;\r\n  \r\n  // Save to database\r\n  fetch('/api/shipping-config', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(config),\r\n  }).then(response => {\r\n    if (response.ok) {\r\n      console.log('✅ Shipping config saved to database');\r\n    } else {\r\n      console.warn('⚠️ Failed to save shipping config to database');\r\n    }\r\n  }).catch(error => {\r\n    console.error('❌ Error saving shipping config to database:', error);\r\n  });\r\n}\r\n\r\n/**\r\n * Get partner accounts\r\n */\r\nexport function getPartnerAccounts(\r\n  config: ShippingConfig,\r\n  partnerCode: keyof ShippingConfig['partners']\r\n): PartnerAccount[] {\r\n  return config.partners[partnerCode]?.accounts || [];\r\n}\r\n\r\n/**\r\n * Get default account for partner\r\n */\r\nexport function getDefaultAccount(\r\n  config: ShippingConfig,\r\n  partnerCode: keyof ShippingConfig['partners']\r\n): PartnerAccount | null {\r\n  const accounts = getPartnerAccounts(config, partnerCode);\r\n  const defaultAcc = accounts.find(acc => acc.isDefault && acc.active);\r\n  \r\n  if (defaultAcc) return defaultAcc;\r\n  \r\n  // Return first active account if no default\r\n  return accounts.find(acc => acc.active) || null;\r\n}\r\n\r\n/**\r\n * Add new account\r\n */\r\nexport function addPartnerAccount(\r\n  config: ShippingConfig,\r\n  partnerCode: keyof ShippingConfig['partners'],\r\n  account: Omit<PartnerAccount, 'id' | 'createdAt' | 'updatedAt'>\r\n): ShippingConfig {\r\n  const newAccount: PartnerAccount = {\r\n    ...account,\r\n    id: `acc_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n  \r\n  config.partners[partnerCode].accounts.push(newAccount);\r\n  saveShippingConfig(config);\r\n  \r\n  return config;\r\n}\r\n\r\n/**\r\n * Update account\r\n */\r\nexport function updatePartnerAccount(\r\n  config: ShippingConfig,\r\n  partnerCode: keyof ShippingConfig['partners'],\r\n  accountId: string,\r\n  updates: Partial<PartnerAccount>\r\n): ShippingConfig {\r\n  const accounts = config.partners[partnerCode].accounts;\r\n  const index = accounts.findIndex(acc => acc.id === accountId);\r\n  \r\n  if (index !== -1) {\r\n    accounts[index] = {\r\n      ...accounts[index],\r\n      ...updates,\r\n      updatedAt: new Date().toISOString(),\r\n    };\r\n    \r\n    saveShippingConfig(config);\r\n  }\r\n  \r\n  return config;\r\n}\r\n\r\n/**\r\n * Delete account\r\n */\r\nexport function deletePartnerAccount(\r\n  config: ShippingConfig,\r\n  partnerCode: keyof ShippingConfig['partners'],\r\n  accountId: string\r\n): ShippingConfig {\r\n  const accounts = config.partners[partnerCode].accounts;\r\n  const account = accounts.find(acc => acc.id === accountId);\r\n  \r\n  // Remove the account\r\n  config.partners[partnerCode].accounts = accounts.filter(acc => acc.id !== accountId);\r\n  \r\n  // Set a new default if we deleted the default account\r\n  if (account?.isDefault && config.partners[partnerCode].accounts.length > 0) {\r\n    config.partners[partnerCode].accounts[0].isDefault = true;\r\n  }\r\n  \r\n  saveShippingConfig(config);\r\n  return config;\r\n}\r\n\r\n/**\r\n * Set default account\r\n */\r\nexport function setDefaultAccount(\r\n  config: ShippingConfig,\r\n  partnerCode: keyof ShippingConfig['partners'],\r\n  accountId: string\r\n): ShippingConfig {\r\n  const accounts = config.partners[partnerCode].accounts;\r\n  \r\n  // Remove default from all accounts\r\n  accounts.forEach(acc => {\r\n    acc.isDefault = false;\r\n  });\r\n  \r\n  // Set new default\r\n  const account = accounts.find(acc => acc.id === accountId);\r\n  if (account) {\r\n    account.isDefault = true;\r\n    account.updatedAt = new Date().toISOString();\r\n  }\r\n  \r\n  saveShippingConfig(config);\r\n  return config;\r\n}\r\n\r\n/**\r\n * Update global config\r\n */\r\nexport function updateGlobalConfig(\r\n  config: ShippingConfig,\r\n  updates: Partial<GlobalShippingConfig>\r\n): ShippingConfig {\r\n  config.global = {\r\n    ...config.global,\r\n    ...updates,\r\n  };\r\n  \r\n  saveShippingConfig(config);\r\n  return config;\r\n}\r\n\r\n/**\r\n * Export config as JSON\r\n */\r\nexport function exportShippingConfig(): string {\r\n  const config = loadShippingConfig();\r\n  return JSON.stringify(config, null, 2);\r\n}\r\n\r\n/**\r\n * Import config from JSON\r\n */\r\nexport function importShippingConfig(jsonString: string): ShippingConfig {\r\n  try {\r\n    const config = JSON.parse(jsonString);\r\n    \r\n    if (config.version !== 2) {\r\n      throw new Error('Invalid config version');\r\n    }\r\n    \r\n    saveShippingConfig(config);\r\n    return config;\r\n  } catch (error) {\r\n    console.error('Import failed:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SettingsActionButton.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Button, type ButtonProps } from '../ui/button';\r\nimport { cn } from '../../lib/utils';\r\n\r\n/**\r\n * SettingsActionButton chuẩn hóa các nút hành động của module Cài đặt\r\n * để luôn tuân thủ chiều cao h-9 và padding đồng nhất.\r\n */\r\nexport const SettingsActionButton = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, size, children, ...props }, ref) => {\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size={size ?? 'sm'}\r\n        className={cn('h-9 px-4 font-medium gap-2', className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nSettingsActionButton.displayName = 'SettingsActionButton';\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAMO,MAAM,qCAAuB,2KAAgB,MAClD,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACxC,qBACE,6LAAC,wIAAM;QACL,KAAK;QACL,MAAM,QAAQ;QACd,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;kBAER;;;;;;AAGP;;AAGF,qBAAqB,WAAW,GAAG"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/shipping/partner-connections.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Check, Settings2, Plus } from 'lucide-react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../../../components/ui/card';\r\nimport { Button } from '../../../components/ui/button';\r\nimport { Badge } from '../../../components/ui/badge';\r\nimport { useMediaQuery } from '../../../lib/use-media-query';\r\nimport { ShippingPartner } from './partner-config-dialog';\r\nimport { loadShippingConfig } from '@/lib/utils/shipping-config-migration';\r\nimport { SettingsActionButton } from '../../../components/settings/SettingsActionButton';\r\nimport type { RegisterTabActions } from '../use-tab-action-registry';\r\n\r\ntype PartnerConnectionsPageContentProps = {\r\n  isActive: boolean;\r\n  onRegisterActions: RegisterTabActions;\r\n};\r\n\r\nexport const PartnerConnectionsPageContent: React.FC<PartnerConnectionsPageContentProps> = ({ isActive, onRegisterActions }) => {\r\n  const router = useRouter();\r\n  const [shippingConfig] = React.useState(() => loadShippingConfig());\r\n\r\n  const isMobile = !useMediaQuery(\"(min-width: 768px)\");\r\n\r\n  const handleOpenConfig = React.useCallback((code: ShippingPartner) => {\r\n    router.push(`/settings/shipping/partners/${code}`);\r\n  }, [router]);\r\n\r\n  const getPartnerStatus = (partnerCode: ShippingPartner) => {\r\n    // ✅ V2: Check if partner has any active accounts\r\n    const partnerData = shippingConfig.partners[partnerCode];\r\n    const hasAccounts = partnerData?.accounts && partnerData.accounts.length > 0;\r\n    const hasActiveAccounts = partnerData?.accounts?.some(acc => acc.active) || false;\r\n    \r\n    return {\r\n      isConnected: hasActiveAccounts,\r\n      hasConfig: hasAccounts,\r\n      accountCount: partnerData?.accounts?.length || 0,\r\n    };\r\n  };\r\n\r\n  const partnerList = [\r\n    { code: 'GHN' as ShippingPartner, name: 'Giao Hàng Nhanh', description: 'Kết nối giao hàng, thu hộ chuyên nghiệp trải dài mọi miền đất nước.' },\r\n    { code: 'GHTK' as ShippingPartner, name: 'Giao Hàng Tiết Kiệm', description: 'Dịch vụ giao hàng thu tiền hộ; tốc độ nhanh, phủ sóng toàn quốc.' },\r\n    { code: 'VTP' as ShippingPartner, name: 'Viettel Post', description: 'Dịch vụ nhận gửi, vận chuyển và phát nhanh hàng hóa, bưu phẩm trong nước.' },\r\n    { code: 'J&T' as ShippingPartner, name: 'J&T Express', description: 'Hỗ trợ các hoạt động giao nhận hàng hóa nhanh chóng.' },\r\n    { code: 'SPX' as ShippingPartner, name: 'SPX Express', description: 'Giải pháp vận chuyển thông minh, nhanh chóng (Shopee).' },\r\n  ];\r\n\r\n  const firstConnectedPartner = React.useMemo(() => {\r\n    return partnerList.find(partner => getPartnerStatus(partner.code).isConnected);\r\n  }, [shippingConfig]);\r\n\r\n  React.useEffect(() => {\r\n    if (!isActive) {\r\n      return;\r\n    }\r\n\r\n    const actions = [\r\n      <SettingsActionButton key=\"connect\" onClick={() => handleOpenConfig('GHN')}>\r\n        <Plus className=\"h-4 w-4 mr-2\" />\r\n        Kết nối đối tác\r\n      </SettingsActionButton>,\r\n    ];\r\n\r\n    if (firstConnectedPartner) {\r\n      actions.push(\r\n        <SettingsActionButton\r\n          key=\"manage\"\r\n          variant=\"outline\"\r\n          onClick={() => handleOpenConfig(firstConnectedPartner.code)}\r\n        >\r\n          <Settings2 className=\"h-4 w-4 mr-2\" />\r\n          Quản lý kết nối\r\n        </SettingsActionButton>,\r\n      );\r\n    }\r\n\r\n    onRegisterActions(actions);\r\n  }, [firstConnectedPartner, handleOpenConfig, isActive, onRegisterActions]);\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle>Kết nối đối tác vận chuyển</CardTitle>\r\n        <CardDescription>\r\n          Cấu hình API token và dịch vụ cho từng đối tác vận chuyển\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n        {partnerList.map(partner => {\r\n          const status = getPartnerStatus(partner.code);\r\n          \r\n          return (\r\n            <Card key={partner.code} className=\"relative\">\r\n              <CardHeader className={isMobile ? 'p-4 pb-3' : 'p-6 pb-4'}>\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div>\r\n                    <CardTitle className={isMobile ? 'text-base' : 'text-lg'}>\r\n                      {partner.name}\r\n                    </CardTitle>\r\n                    <Badge variant=\"outline\" className=\"mt-1 text-xs\">\r\n                      {partner.code}\r\n                    </Badge>\r\n                  </div>\r\n                  {status.isConnected && (\r\n                    <Badge variant=\"default\" className=\"text-xs\">\r\n                      <Check className=\"h-3 w-3 mr-1\" />\r\n                      Đã kết nối\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent className={isMobile ? 'p-4 pt-0' : 'p-6 pt-0'}>\r\n                <CardDescription className=\"text-sm mb-4\">\r\n                  {partner.description}\r\n                </CardDescription>\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <Button\r\n                    onClick={() => handleOpenConfig(partner.code)}\r\n                    variant={status.isConnected ? 'outline' : 'default'}\r\n                    className=\"w-full\"\r\n                    size=\"sm\"\r\n                  >\r\n                    {status.isConnected ? (\r\n                      <>\r\n                        <Settings2 className=\"h-4 w-4 mr-2\" />\r\n                        Quản lý\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Plus className=\"h-4 w-4 mr-2\" />\r\n                        Kết nối\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                  {status.accountCount > 0 && (\r\n                    <div className=\"text-xs text-center text-muted-foreground\">\r\n                      {status.accountCount} tài khoản\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          );\r\n        })}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\ntype SwitchProps = Omit<\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>,\r\n  \"checked\" | \"defaultChecked\"\r\n> & {\r\n  checked?: boolean | undefined\r\n  defaultChecked?: boolean | undefined\r\n}\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  SwitchProps\r\n>(({ className, checked, defaultChecked, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n      className\r\n    )}\r\n    {...props}\r\n    {...(checked !== undefined ? { checked } : {})}\r\n    {...(defaultChecked !== undefined ? { defaultChecked } : {})}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAeA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,OAAO,EAAE,oBACnD,6LAAC,6KAAqB;QACpB,WAAW,IAAA,qHAAE,EACX,sXACA;QAED,GAAG,KAAK;QACR,GAAI,YAAY,YAAY;YAAE;QAAQ,IAAI,CAAC,CAAC;QAC5C,GAAI,mBAAmB,YAAY;YAAE;QAAe,IAAI,CAAC,CAAC;QAC3D,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,qHAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Separator = React.forwardRef<\r\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\r\n>(\r\n  (\r\n    { className, orientation = \"horizontal\", decorative = true, ...props },\r\n    ref\r\n  ) => (\r\n    <SeparatorPrimitive.Root\r\n      ref={ref}\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"shrink-0 bg-border\",\r\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n)\r\nSeparator.displayName = SeparatorPrimitive.Root.displayName\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,2KAAgB,MAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,gLAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,qHAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,gLAAuB,CAAC,WAAW"}}]
}