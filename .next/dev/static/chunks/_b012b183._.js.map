{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/use-settings-page-header.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Settings2 } from 'lucide-react';\r\nimport { usePageHeader, type PageHeaderState, type PageHeaderDocLink } from '../../contexts/page-header-context';\r\nimport type { BreadcrumbItem } from '../../lib/breadcrumb-system';\r\n\r\nexport type SettingsPageHeaderOptions = Omit<PageHeaderState, 'title' | 'docLink'> & {\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  docLink?: string | PageHeaderDocLink;\r\n};\r\n\r\nconst defaultDocLabel = 'Xem hướng dẫn';\r\nconst baseBreadcrumb: BreadcrumbItem[] = [\r\n  { label: 'Trang chủ', href: '/', isCurrent: false },\r\n  { label: 'Cài đặt', href: '/settings', isCurrent: false },\r\n];\r\n\r\nconst normalizeLabel = (label?: string) => label?.trim().toLocaleLowerCase('vi');\r\nconst isHomeCrumb = (item: BreadcrumbItem) => item.href === '/' || normalizeLabel(item.label) === 'trang chủ';\r\nconst isSettingsCrumb = (item: BreadcrumbItem) => item.href === '/settings' || normalizeLabel(item.label) === 'cài đặt';\r\n\r\nexport function useSettingsPageHeader(options: SettingsPageHeaderOptions) {\r\n  const pathname = usePathname();\r\n  const { title, icon, docLink, breadcrumb, ...rest } = options;\r\n\r\n  const normalizedDocLink = React.useMemo<PageHeaderDocLink | undefined>(() => {\r\n    if (!docLink) return undefined;\r\n    if (typeof docLink === 'string') {\r\n      return { href: docLink, label: defaultDocLabel };\r\n    }\r\n    return {\r\n      href: docLink.href,\r\n      label: docLink.label ?? defaultDocLabel,\r\n    };\r\n  }, [docLink]);\r\n\r\n  const decoratedTitle = React.useMemo(() => (\r\n    <span className=\"inline-flex items-center gap-2\">\r\n      {(icon ?? <Settings2 className=\"h-5 w-5 text-muted-foreground\" aria-hidden=\"true\" />)}\r\n      <span>{title}</span>\r\n    </span>\r\n  ), [icon, title]);\r\n\r\n  const normalizedBreadcrumb = React.useMemo(() => {\r\n    const custom = (breadcrumb ?? []).map((item) => ({\r\n      ...item,\r\n      href: item.href || pathname,\r\n    }));\r\n\r\n    let merged: BreadcrumbItem[] = custom.length\r\n      ? [...custom]\r\n      : [{ label: title, href: pathname, isCurrent: true }];\r\n\r\n    if (!merged.some(isHomeCrumb)) {\r\n      merged = [{ ...baseBreadcrumb[0] }, ...merged];\r\n    }\r\n\r\n    if (!merged.some(isSettingsCrumb)) {\r\n      const homeIndex = merged.findIndex(isHomeCrumb);\r\n      const insertionIndex = homeIndex >= 0 ? homeIndex + 1 : 0;\r\n      merged = [\r\n        ...merged.slice(0, insertionIndex),\r\n        { ...baseBreadcrumb[1] },\r\n        ...merged.slice(insertionIndex),\r\n      ];\r\n    }\r\n\r\n    return merged.map((item, index) => ({\r\n      ...item,\r\n      isCurrent: index === merged.length - 1,\r\n    }));\r\n  }, [breadcrumb, pathname, title]);\r\n\r\n  return usePageHeader({\r\n    ...rest,\r\n    breadcrumb: normalizedBreadcrumb,\r\n    title: decoratedTitle,\r\n    docLink: normalizedDocLink,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;AASA,MAAM,kBAAkB;AACxB,MAAM,iBAAmC;IACvC;QAAE,OAAO;QAAa,MAAM;QAAK,WAAW;IAAM;IAClD;QAAE,OAAO;QAAW,MAAM;QAAa,WAAW;IAAM;CACzD;AAED,MAAM,iBAAiB,CAAC,QAAmB,OAAO,OAAO,kBAAkB;AAC3E,MAAM,cAAc,CAAC,OAAyB,KAAK,IAAI,KAAK,OAAO,eAAe,KAAK,KAAK,MAAM;AAClG,MAAM,kBAAkB,CAAC,OAAyB,KAAK,IAAI,KAAK,eAAe,eAAe,KAAK,KAAK,MAAM;AAEvG,SAAS,sBAAsB,OAAkC;;IACtE,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,MAAM,GAAG;IAEtD,MAAM,oBAAoB,wKAAa;4DAAgC;YACrE,IAAI,CAAC,SAAS,OAAO;YACrB,IAAI,OAAO,YAAY,UAAU;gBAC/B,OAAO;oBAAE,MAAM;oBAAS,OAAO;gBAAgB;YACjD;YACA,OAAO;gBACL,MAAM,QAAQ,IAAI;gBAClB,OAAO,QAAQ,KAAK,IAAI;YAC1B;QACF;2DAAG;QAAC;KAAQ;IAEZ,MAAM,iBAAiB,wKAAa;yDAAC,kBACnC,6LAAC;gBAAK,WAAU;;oBACZ,sBAAQ,6LAAC,gOAAS;wBAAC,WAAU;wBAAgC,eAAY;;;;;;kCAC3E,6LAAC;kCAAM;;;;;;;;;;;;wDAER;QAAC;QAAM;KAAM;IAEhB,MAAM,uBAAuB,wKAAa;+DAAC;YACzC,MAAM,SAAS,CAAC,cAAc,EAAE,EAAE,GAAG;8EAAC,CAAC,OAAS,CAAC;wBAC/C,GAAG,IAAI;wBACP,MAAM,KAAK,IAAI,IAAI;oBACrB,CAAC;;YAED,IAAI,SAA2B,OAAO,MAAM,GACxC;mBAAI;aAAO,GACX;gBAAC;oBAAE,OAAO;oBAAO,MAAM;oBAAU,WAAW;gBAAK;aAAE;YAEvD,IAAI,CAAC,OAAO,IAAI,CAAC,cAAc;gBAC7B,SAAS;oBAAC;wBAAE,GAAG,cAAc,CAAC,EAAE;oBAAC;uBAAM;iBAAO;YAChD;YAEA,IAAI,CAAC,OAAO,IAAI,CAAC,kBAAkB;gBACjC,MAAM,YAAY,OAAO,SAAS,CAAC;gBACnC,MAAM,iBAAiB,aAAa,IAAI,YAAY,IAAI;gBACxD,SAAS;uBACJ,OAAO,KAAK,CAAC,GAAG;oBACnB;wBAAE,GAAG,cAAc,CAAC,EAAE;oBAAC;uBACpB,OAAO,KAAK,CAAC;iBACjB;YACH;YAEA,OAAO,OAAO,GAAG;uEAAC,CAAC,MAAM,QAAU,CAAC;wBAClC,GAAG,IAAI;wBACP,WAAW,UAAU,OAAO,MAAM,GAAG;oBACvC,CAAC;;QACH;8DAAG;QAAC;QAAY;QAAU;KAAM;IAEhC,OAAO,IAAA,0JAAa,EAAC;QACnB,GAAG,IAAI;QACP,YAAY;QACZ,OAAO;QACP,SAAS;IACX;AACF;GA1DgB;;QACG,oJAAW;QAmDrB,0JAAa"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/departments/api/departments-api.ts"],"sourcesContent":["/**\r\n * Departments API functions\r\n * \r\n * ⚠️ Direct import: import { fetchDepartments } from '@/features/settings/departments/api/departments-api'\r\n */\r\n\r\nimport type { Department } from '../types';\r\n\r\nconst BASE_URL = '/api/departments';\r\n\r\nexport interface DepartmentsParams {\r\n  page?: number;\r\n  limit?: number;\r\n  search?: string;\r\n  sortBy?: string;\r\n  sortOrder?: 'asc' | 'desc';\r\n}\r\n\r\nexport interface DepartmentsResponse {\r\n  data: Department[];\r\n  total: number;\r\n  page: number;\r\n  pageSize: number;\r\n}\r\n\r\nexport async function fetchDepartments(params: DepartmentsParams = {}): Promise<DepartmentsResponse> {\r\n  const searchParams = new URLSearchParams();\r\n  \r\n  if (params.page) searchParams.set('page', String(params.page));\r\n  if (params.limit) searchParams.set('limit', String(params.limit));\r\n  if (params.search) searchParams.set('search', params.search);\r\n  if (params.sortBy) searchParams.set('sortBy', params.sortBy);\r\n  if (params.sortOrder) searchParams.set('sortOrder', params.sortOrder);\r\n  \r\n  const url = searchParams.toString() ? `${BASE_URL}?${searchParams}` : BASE_URL;\r\n  const response = await fetch(url);\r\n  \r\n  if (!response.ok) {\r\n    throw new Error(`Failed to fetch departments: ${response.statusText}`);\r\n  }\r\n  \r\n  return response.json();\r\n}\r\n\r\nexport async function fetchDepartment(systemId: string): Promise<Department> {\r\n  const response = await fetch(`${BASE_URL}/${systemId}`);\r\n  \r\n  if (!response.ok) {\r\n    throw new Error(`Failed to fetch department: ${response.statusText}`);\r\n  }\r\n  \r\n  return response.json();\r\n}\r\n\r\nexport async function createDepartment(data: Omit<Department, 'systemId' | 'createdAt' | 'updatedAt'>): Promise<Department> {\r\n  const response = await fetch(BASE_URL, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({}));\r\n    throw new Error(error.message || 'Failed to create department');\r\n  }\r\n  \r\n  return response.json();\r\n}\r\n\r\nexport async function updateDepartment(systemId: string, data: Partial<Department>): Promise<Department> {\r\n  const response = await fetch(`${BASE_URL}/${systemId}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({}));\r\n    throw new Error(error.message || 'Failed to update department');\r\n  }\r\n  \r\n  return response.json();\r\n}\r\n\r\nexport async function deleteDepartment(systemId: string): Promise<void> {\r\n  const response = await fetch(`${BASE_URL}/${systemId}`, {\r\n    method: 'DELETE',\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    throw new Error(`Failed to delete department: ${response.statusText}`);\r\n  }\r\n}\r\n\r\nexport type { Department };\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;;;AAID,MAAM,WAAW;AAiBV,eAAe,iBAAiB,SAA4B,CAAC,CAAC;IACnE,MAAM,eAAe,IAAI;IAEzB,IAAI,OAAO,IAAI,EAAE,aAAa,GAAG,CAAC,QAAQ,OAAO,OAAO,IAAI;IAC5D,IAAI,OAAO,KAAK,EAAE,aAAa,GAAG,CAAC,SAAS,OAAO,OAAO,KAAK;IAC/D,IAAI,OAAO,MAAM,EAAE,aAAa,GAAG,CAAC,UAAU,OAAO,MAAM;IAC3D,IAAI,OAAO,MAAM,EAAE,aAAa,GAAG,CAAC,UAAU,OAAO,MAAM;IAC3D,IAAI,OAAO,SAAS,EAAE,aAAa,GAAG,CAAC,aAAa,OAAO,SAAS;IAEpE,MAAM,MAAM,aAAa,QAAQ,KAAK,GAAG,SAAS,CAAC,EAAE,cAAc,GAAG;IACtE,MAAM,WAAW,MAAM,MAAM;IAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,6BAA6B,EAAE,SAAS,UAAU,EAAE;IACvE;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,gBAAgB,QAAgB;IACpD,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,UAAU;IAEtD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,4BAA4B,EAAE,SAAS,UAAU,EAAE;IACtE;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,iBAAiB,IAA8D;IACnG,MAAM,WAAW,MAAM,MAAM,UAAU;QACrC,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,iBAAiB,QAAgB,EAAE,IAAyB;IAChF,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,UAAU,EAAE;QACtD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,iBAAiB,QAAgB;IACrD,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,UAAU,EAAE;QACtD,QAAQ;IACV;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,6BAA6B,EAAE,SAAS,UAAU,EAAE;IACvE;AACF"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/departments/hooks/use-departments.ts"],"sourcesContent":["/**\r\n * useDepartments - React Query hooks\r\n * \r\n * ⚠️ Direct import: import { useDepartments } from '@/features/settings/departments/hooks/use-departments'\r\n */\r\n\r\nimport { useQuery, useMutation, useQueryClient, keepPreviousData } from '@tanstack/react-query';\r\nimport {\r\n  fetchDepartments,\r\n  fetchDepartment,\r\n  createDepartment,\r\n  updateDepartment,\r\n  deleteDepartment,\r\n  type DepartmentsParams,\r\n  type Department,\r\n} from '../api/departments-api';\r\n\r\nexport const departmentKeys = {\r\n  all: ['departments'] as const,\r\n  lists: () => [...departmentKeys.all, 'list'] as const,\r\n  list: (params: DepartmentsParams) => [...departmentKeys.lists(), params] as const,\r\n  details: () => [...departmentKeys.all, 'detail'] as const,\r\n  detail: (id: string) => [...departmentKeys.details(), id] as const,\r\n};\r\n\r\nexport function useDepartments(params: DepartmentsParams = {}) {\r\n  return useQuery({\r\n    queryKey: departmentKeys.list(params),\r\n    queryFn: () => fetchDepartments(params),\r\n    staleTime: 10 * 60 * 1000,\r\n    gcTime: 60 * 60 * 1000,\r\n    placeholderData: keepPreviousData,\r\n  });\r\n}\r\n\r\nexport function useDepartment(id: string | null | undefined) {\r\n  return useQuery({\r\n    queryKey: departmentKeys.detail(id!),\r\n    queryFn: () => fetchDepartment(id!),\r\n    enabled: !!id,\r\n    staleTime: 10 * 60 * 1000,\r\n  });\r\n}\r\n\r\ninterface UseDepartmentMutationsOptions {\r\n  onCreateSuccess?: (department: Department) => void;\r\n  onUpdateSuccess?: (department: Department) => void;\r\n  onDeleteSuccess?: () => void;\r\n  onError?: (error: Error) => void;\r\n}\r\n\r\nexport function useDepartmentMutations(options: UseDepartmentMutationsOptions = {}) {\r\n  const queryClient = useQueryClient();\r\n  \r\n  const create = useMutation({\r\n    mutationFn: createDepartment,\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: departmentKeys.all });\r\n      options.onCreateSuccess?.(data);\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  const update = useMutation({\r\n    mutationFn: ({ systemId, data }: { systemId: string; data: Partial<Department> }) => \r\n      updateDepartment(systemId, data),\r\n    onSuccess: (data, variables) => {\r\n      queryClient.invalidateQueries({ queryKey: departmentKeys.detail(variables.systemId) });\r\n      queryClient.invalidateQueries({ queryKey: departmentKeys.lists() });\r\n      options.onUpdateSuccess?.(data);\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  const remove = useMutation({\r\n    mutationFn: deleteDepartment,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: departmentKeys.all });\r\n      options.onDeleteSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  return { create, update, remove };\r\n}\r\n\r\nexport function useAllDepartments() {\r\n  return useDepartments({ limit: 50 });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;CAIC,GAED;AAAA;AAAA;AAAA;AACA;;;;AAUO,MAAM,iBAAiB;IAC5B,KAAK;QAAC;KAAc;IACpB,OAAO,IAAM;eAAI,eAAe,GAAG;YAAE;SAAO;IAC5C,MAAM,CAAC,SAA8B;eAAI,eAAe,KAAK;YAAI;SAAO;IACxE,SAAS,IAAM;eAAI,eAAe,GAAG;YAAE;SAAS;IAChD,QAAQ,CAAC,KAAe;eAAI,eAAe,OAAO;YAAI;SAAG;AAC3D;AAEO,SAAS,eAAe,SAA4B,CAAC,CAAC;;IAC3D,OAAO,IAAA,0LAAQ,EAAC;QACd,UAAU,eAAe,IAAI,CAAC;QAC9B,OAAO;uCAAE,IAAM,IAAA,uLAAgB,EAAC;;QAChC,WAAW,KAAK,KAAK;QACrB,QAAQ,KAAK,KAAK;QAClB,iBAAiB,8LAAgB;IACnC;AACF;GARgB;;QACP,0LAAQ;;;AASV,SAAS,cAAc,EAA6B;;IACzD,OAAO,IAAA,0LAAQ,EAAC;QACd,UAAU,eAAe,MAAM,CAAC;QAChC,OAAO;sCAAE,IAAM,IAAA,sLAAe,EAAC;;QAC/B,SAAS,CAAC,CAAC;QACX,WAAW,KAAK,KAAK;IACvB;AACF;IAPgB;;QACP,0LAAQ;;;AAeV,SAAS,uBAAuB,UAAyC,CAAC,CAAC;;IAChF,MAAM,cAAc,IAAA,2MAAc;IAElC,MAAM,SAAS,IAAA,gMAAW,EAAC;QACzB,YAAY,uLAAgB;QAC5B,SAAS;0DAAE,CAAC;gBACV,YAAY,iBAAiB,CAAC;oBAAE,UAAU,eAAe,GAAG;gBAAC;gBAC7D,QAAQ,eAAe,GAAG;YAC5B;;QACA,SAAS,QAAQ,OAAO;IAC1B;IAEA,MAAM,SAAS,IAAA,gMAAW,EAAC;QACzB,UAAU;0DAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAmD,GAC9E,IAAA,uLAAgB,EAAC,UAAU;;QAC7B,SAAS;0DAAE,CAAC,MAAM;gBAChB,YAAY,iBAAiB,CAAC;oBAAE,UAAU,eAAe,MAAM,CAAC,UAAU,QAAQ;gBAAE;gBACpF,YAAY,iBAAiB,CAAC;oBAAE,UAAU,eAAe,KAAK;gBAAG;gBACjE,QAAQ,eAAe,GAAG;YAC5B;;QACA,SAAS,QAAQ,OAAO;IAC1B;IAEA,MAAM,SAAS,IAAA,gMAAW,EAAC;QACzB,YAAY,uLAAgB;QAC5B,SAAS;0DAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU,eAAe,GAAG;gBAAC;gBAC7D,QAAQ,eAAe;YACzB;;QACA,SAAS,QAAQ,OAAO;IAC1B;IAEA,OAAO;QAAE;QAAQ;QAAQ;IAAO;AAClC;IAjCgB;;QACM,2MAAc;QAEnB,gMAAW;QASX,gMAAW;QAWX,gMAAW;;;AAYrB,SAAS;;IACd,OAAO,eAAe;QAAE,OAAO;IAAG;AACpC;IAFgB;;QACP"}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/departments/hooks/use-all-departments.ts"],"sourcesContent":["/**\r\n * useAllDepartments - Convenience hook for components needing all departments\r\n * \r\n * Use case: Dropdowns, selects, comboboxes that need all departments\r\n */\r\n\r\nimport { useCallback } from 'react';\r\nimport { useDepartments } from './use-departments';\r\nimport type { Department } from '../api/departments-api';\r\n\r\n/**\r\n * Returns all departments as a flat array\r\n * Compatible with legacy store pattern: { data: departments }\r\n */\r\nexport function useAllDepartments() {\r\n  const query = useDepartments({ limit: 500 });\r\n  \r\n  return {\r\n    data: query.data?.data || [],\r\n    isLoading: query.isLoading,\r\n    isError: query.isError,\r\n    error: query.error,\r\n  };\r\n}\r\n\r\n/**\r\n * Returns departments formatted as options for Select/Combobox\r\n */\r\nexport function useDepartmentOptions() {\r\n  const { data, isLoading } = useAllDepartments();\r\n  \r\n  const options = data.map(d => ({\r\n    value: d.systemId,\r\n    label: d.name,\r\n  }));\r\n  \r\n  return { options, isLoading };\r\n}\r\n\r\n/**\r\n * Hook for finding department by systemId\r\n */\r\nexport function useDepartmentFinder() {\r\n  const { data } = useAllDepartments();\r\n  \r\n  const findById = useCallback((systemId: string): Department | undefined => {\r\n    return data.find(d => d.systemId === systemId);\r\n  }, [data]);\r\n  \r\n  return { findById };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;CAIC,GAED;AACA;;;;AAOO,SAAS;;IACd,MAAM,QAAQ,IAAA,uLAAc,EAAC;QAAE,OAAO;IAAI;IAE1C,OAAO;QACL,MAAM,MAAM,IAAI,EAAE,QAAQ,EAAE;QAC5B,WAAW,MAAM,SAAS;QAC1B,SAAS,MAAM,OAAO;QACtB,OAAO,MAAM,KAAK;IACpB;AACF;GATgB;;QACA,uLAAc;;;AAavB,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG;IAE5B,MAAM,UAAU,KAAK,GAAG,CAAC,CAAA,IAAK,CAAC;YAC7B,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,IAAI;QACf,CAAC;IAED,OAAO;QAAE;QAAS;IAAU;AAC9B;IATgB;;QACc;;;AAavB,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,GAAG;IAEjB,MAAM,WAAW,IAAA,4KAAW;qDAAC,CAAC;YAC5B,OAAO,KAAK,IAAI;6DAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;;QACvC;oDAAG;QAAC;KAAK;IAET,OAAO;QAAE;IAAS;AACpB;IARgB;;QACG"}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/employees/api/employees-api.ts"],"sourcesContent":["/**\r\n * Employees API - Isolated API functions\r\n * \r\n * ⚠️ IMPORTANT: This file should ONLY contain:\r\n * - Fetch functions\r\n * - Type imports from ../types\r\n * - NO store imports\r\n * - NO cross-feature imports\r\n */\r\n\r\nimport type { Employee } from '../types';\r\n\r\nconst API_BASE = '/api/employees';\r\n\r\nexport interface EmployeesParams {\r\n  page?: number;\r\n  limit?: number;\r\n  search?: string;\r\n  departmentId?: string;\r\n  branchId?: string;\r\n  jobTitleId?: string;\r\n  status?: string;\r\n  sortBy?: string;\r\n  sortOrder?: 'asc' | 'desc';\r\n}\r\n\r\nexport interface PaginatedResponse<T> {\r\n  data: T[];\r\n  pagination: {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    totalPages: number;\r\n  };\r\n}\r\n\r\nexport interface CreateEmployeeInput {\r\n  fullName: string;\r\n  email?: string;\r\n  phone?: string;\r\n  departmentId?: string;\r\n  branchId?: string;\r\n  jobTitleId?: string;\r\n  hireDate?: string;\r\n  // Optional fields for updates\r\n  isDeleted?: boolean;\r\n  employmentStatus?: string;\r\n}\r\n\r\nexport interface UpdateEmployeeInput extends Partial<CreateEmployeeInput> {\r\n  systemId: string;\r\n}\r\n\r\n/**\r\n * Fetch paginated employees list\r\n */\r\nexport async function fetchEmployees(params: EmployeesParams = {}): Promise<PaginatedResponse<Employee>> {\r\n  const { page = 1, limit = 50, ...rest } = params;\r\n  \r\n  const searchParams = new URLSearchParams({\r\n    page: String(page),\r\n    limit: String(limit),\r\n  });\r\n  \r\n  // Add optional params\r\n  Object.entries(rest).forEach(([key, value]) => {\r\n    if (value != null && value !== '') {\r\n      searchParams.set(key, String(value));\r\n    }\r\n  });\r\n  \r\n  const res = await fetch(`${API_BASE}?${searchParams}`, {\r\n    credentials: 'include',\r\n  });\r\n  \r\n  if (!res.ok) {\r\n    throw new Error(`Failed to fetch employees: ${res.statusText}`);\r\n  }\r\n  \r\n  return res.json();\r\n}\r\n\r\n/**\r\n * Fetch single employee by ID\r\n */\r\nexport async function fetchEmployee(id: string): Promise<Employee> {\r\n  const res = await fetch(`${API_BASE}/${id}`, {\r\n    credentials: 'include',\r\n  });\r\n  \r\n  if (!res.ok) {\r\n    throw new Error(`Failed to fetch employee ${id}: ${res.statusText}`);\r\n  }\r\n  \r\n  return res.json();\r\n}\r\n\r\n/**\r\n * Create new employee\r\n */\r\nexport async function createEmployee(data: CreateEmployeeInput): Promise<Employee> {\r\n  const res = await fetch(API_BASE, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    credentials: 'include',\r\n    body: JSON.stringify(data),\r\n  });\r\n  \r\n  if (!res.ok) {\r\n    const error = await res.json().catch(() => ({}));\r\n    throw new Error(error.message || `Failed to create employee: ${res.statusText}`);\r\n  }\r\n  \r\n  return res.json();\r\n}\r\n\r\n/**\r\n * Update existing employee\r\n */\r\nexport async function updateEmployee({ systemId, ...data }: UpdateEmployeeInput): Promise<Employee> {\r\n  const res = await fetch(`${API_BASE}/${systemId}`, {\r\n    method: 'PATCH',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    credentials: 'include',\r\n    body: JSON.stringify(data),\r\n  });\r\n  \r\n  if (!res.ok) {\r\n    const error = await res.json().catch(() => ({}));\r\n    throw new Error(error.message || `Failed to update employee: ${res.statusText}`);\r\n  }\r\n  \r\n  return res.json();\r\n}\r\n\r\n/**\r\n * Delete employee (soft delete)\r\n */\r\nexport async function deleteEmployee(id: string): Promise<void> {\r\n  const res = await fetch(`${API_BASE}/${id}`, {\r\n    method: 'DELETE',\r\n    credentials: 'include',\r\n  });\r\n  \r\n  if (!res.ok) {\r\n    const error = await res.json().catch(() => ({}));\r\n    throw new Error(error.message || `Failed to delete employee: ${res.statusText}`);\r\n  }\r\n}\r\n\r\n/**\r\n * Search employees for autocomplete\r\n */\r\nexport async function searchEmployees(query: string, limit = 20): Promise<Employee[]> {\r\n  const res = await fetch(`${API_BASE}?search=${encodeURIComponent(query)}&limit=${limit}`, {\r\n    credentials: 'include',\r\n  });\r\n  \r\n  if (!res.ok) {\r\n    throw new Error(`Failed to search employees: ${res.statusText}`);\r\n  }\r\n  \r\n  const json = await res.json();\r\n  return json.data || [];\r\n}\r\n\r\n/**\r\n * Fetch employees by department\r\n */\r\nexport async function fetchEmployeesByDepartment(departmentId: string): Promise<Employee[]> {\r\n  const res = await fetch(`${API_BASE}?departmentId=${departmentId}&limit=100`, {\r\n    credentials: 'include',\r\n  });\r\n  \r\n  if (!res.ok) {\r\n    throw new Error(`Failed to fetch employees by department: ${res.statusText}`);\r\n  }\r\n  \r\n  const json = await res.json();\r\n  return json.data || [];\r\n}\r\n\r\n/**\r\n * Fetch employees by branch\r\n */\r\nexport async function fetchEmployeesByBranch(branchId: string): Promise<Employee[]> {\r\n  const res = await fetch(`${API_BASE}?branchId=${branchId}&limit=100`, {\r\n    credentials: 'include',\r\n  });\r\n  \r\n  if (!res.ok) {\r\n    throw new Error(`Failed to fetch employees by branch: ${res.statusText}`);\r\n  }\r\n  \r\n  const json = await res.json();\r\n  return json.data || [];\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/employees/hooks/use-employees.ts"],"sourcesContent":["/**\r\n * useEmployees - React Query hooks for employees\r\n * \r\n * ⚠️ IMPORTANT: Direct import pattern\r\n * - Import this file directly: import { useEmployees } from '@/features/employees/hooks/use-employees'\r\n * - NEVER import from '@/features/employees' or '@/features/employees/store'\r\n * \r\n * This hook is ISOLATED - it only depends on:\r\n * - @tanstack/react-query\r\n * - Local API functions\r\n * - Local types\r\n */\r\n\r\nimport { useQuery, useMutation, useQueryClient, keepPreviousData } from '@tanstack/react-query';\r\nimport {\r\n  fetchEmployees,\r\n  fetchEmployee,\r\n  createEmployee,\r\n  updateEmployee,\r\n  deleteEmployee,\r\n  searchEmployees,\r\n  fetchEmployeesByDepartment,\r\n  fetchEmployeesByBranch,\r\n  type EmployeesParams,\r\n  type CreateEmployeeInput,\r\n  type UpdateEmployeeInput,\r\n} from '../api/employees-api';\r\n\r\n// Query keys - exported for invalidation\r\nexport const employeeKeys = {\r\n  all: ['employees'] as const,\r\n  lists: () => [...employeeKeys.all, 'list'] as const,\r\n  list: (params: EmployeesParams) => [...employeeKeys.lists(), params] as const,\r\n  details: () => [...employeeKeys.all, 'detail'] as const,\r\n  detail: (id: string) => [...employeeKeys.details(), id] as const,\r\n  search: (query: string) => [...employeeKeys.all, 'search', query] as const,\r\n  byDepartment: (id: string) => [...employeeKeys.all, 'department', id] as const,\r\n  byBranch: (id: string) => [...employeeKeys.all, 'branch', id] as const,\r\n};\r\n\r\n/**\r\n * Hook for fetching paginated employees list\r\n * \r\n * @example\r\n * ```tsx\r\n * function EmployeesPage() {\r\n *   const [page, setPage] = useState(1);\r\n *   const { data, isLoading } = useEmployees({ page, limit: 50 });\r\n *   \r\n *   return (\r\n *     <DataTable \r\n *       data={data?.data || []} \r\n *       pagination={data?.pagination}\r\n *       onPageChange={setPage}\r\n *     />\r\n *   );\r\n * }\r\n * ```\r\n */\r\nexport function useEmployees(params: EmployeesParams = {}) {\r\n  return useQuery({\r\n    queryKey: employeeKeys.list(params),\r\n    queryFn: () => fetchEmployees(params),\r\n    staleTime: 60_000, // 1 minute - employees don't change frequently\r\n    gcTime: 10 * 60 * 1000, // 10 minutes\r\n    placeholderData: keepPreviousData,\r\n  });\r\n}\r\n\r\n/**\r\n * Hook for fetching single employee by ID\r\n */\r\nexport function useEmployee(id: string | null | undefined) {\r\n  return useQuery({\r\n    queryKey: employeeKeys.detail(id!),\r\n    queryFn: () => fetchEmployee(id!),\r\n    enabled: !!id,\r\n    staleTime: 60_000,\r\n    gcTime: 10 * 60 * 1000,\r\n  });\r\n}\r\n\r\n/**\r\n * Hook for searching employees (autocomplete)\r\n */\r\nexport function useEmployeeSearch(query: string, limit = 20) {\r\n  return useQuery({\r\n    queryKey: employeeKeys.search(query),\r\n    queryFn: () => searchEmployees(query, limit),\r\n    enabled: query.length >= 2,\r\n    staleTime: 30_000,\r\n  });\r\n}\r\n\r\n/**\r\n * Hook for fetching employees by department\r\n */\r\nexport function useEmployeesByDepartment(departmentId: string | null | undefined) {\r\n  return useQuery({\r\n    queryKey: employeeKeys.byDepartment(departmentId!),\r\n    queryFn: () => fetchEmployeesByDepartment(departmentId!),\r\n    enabled: !!departmentId,\r\n    staleTime: 60_000,\r\n  });\r\n}\r\n\r\n/**\r\n * Hook for fetching employees by branch\r\n */\r\nexport function useEmployeesByBranch(branchId: string | null | undefined) {\r\n  return useQuery({\r\n    queryKey: employeeKeys.byBranch(branchId!),\r\n    queryFn: () => fetchEmployeesByBranch(branchId!),\r\n    enabled: !!branchId,\r\n    staleTime: 60_000,\r\n  });\r\n}\r\n\r\n/**\r\n * Hook for employee mutations (create/update/delete)\r\n */\r\ninterface UseEmployeeMutationsOptions {\r\n  onCreateSuccess?: (employee: unknown) => void;\r\n  onUpdateSuccess?: (employee: unknown) => void;\r\n  onDeleteSuccess?: () => void;\r\n  onError?: (error: Error) => void;\r\n}\r\n\r\nexport function useEmployeeMutations(options: UseEmployeeMutationsOptions = {}) {\r\n  const queryClient = useQueryClient();\r\n  \r\n  const create = useMutation({\r\n    mutationFn: createEmployee,\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: employeeKeys.lists() });\r\n      options.onCreateSuccess?.(data);\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  const update = useMutation({\r\n    mutationFn: updateEmployee,\r\n    onSuccess: (data, variables) => {\r\n      queryClient.invalidateQueries({ queryKey: employeeKeys.detail(variables.systemId) });\r\n      queryClient.invalidateQueries({ queryKey: employeeKeys.lists() });\r\n      options.onUpdateSuccess?.(data);\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  const remove = useMutation({\r\n    mutationFn: deleteEmployee,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: employeeKeys.all });\r\n      options.onDeleteSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  return {\r\n    create,\r\n    update,\r\n    remove,\r\n    isCreating: create.isPending,\r\n    isUpdating: update.isPending,\r\n    isDeleting: remove.isPending,\r\n    isMutating: create.isPending || update.isPending || remove.isPending,\r\n  };\r\n}\r\n\r\n/**\r\n * Hook for getting active employees\r\n */\r\nexport function useActiveEmployees(params: Omit<EmployeesParams, 'status'> = {}) {\r\n  return useEmployees({ ...params, status: 'active' });\r\n}\r\n\r\n/**\r\n * Prefetch employee for faster navigation\r\n */\r\nexport function usePrefetchEmployee() {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return (id: string) => {\r\n    queryClient.prefetchQuery({\r\n      queryKey: employeeKeys.detail(id),\r\n      queryFn: () => fetchEmployee(id),\r\n      staleTime: 60_000,\r\n    });\r\n  };\r\n}\r\n\r\n// Re-export from use-all-employees for backward compatibility\r\nexport { useAllEmployees, useEmployeeOptions, useEmployeeFinder, useEmployeeSearcher } from './use-all-employees';\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/employees/hooks/use-all-employees.ts"],"sourcesContent":["/**\r\n * useAllEmployees - Convenience hook for components needing all employees as flat array\r\n * \r\n * Use case: Dropdowns, selects, comboboxes that need all employees for selection\r\n * \r\n * ⚠️ For paginated views, use useEmployees() instead\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { useEmployees } from './use-employees';\r\nimport type { SystemId } from '@/lib/id-types';\r\n\r\n/**\r\n * Returns all employees as a flat array\r\n * Compatible with legacy store pattern: { data: employees }\r\n */\r\nexport function useAllEmployees() {\r\n  const query = useEmployees({ limit: 30 });\r\n  \r\n  return {\r\n    data: query.data?.data || [],\r\n    isLoading: query.isLoading,\r\n    isError: query.isError,\r\n    error: query.error,\r\n  };\r\n}\r\n\r\n/**\r\n * Returns employees formatted as options for Select/Combobox\r\n */\r\nexport function useEmployeeOptions() {\r\n  const { data, isLoading } = useAllEmployees();\r\n  \r\n  const options = data.map(e => ({\r\n    value: e.systemId,\r\n    label: e.fullName,\r\n  }));\r\n  \r\n  return { options, isLoading };\r\n}\r\n\r\n/**\r\n * Helper hook to find an employee by ID from cached data\r\n * Replaces legacy findById() method\r\n */\r\nexport function useEmployeeFinder() {\r\n  const { data } = useAllEmployees();\r\n  \r\n  const findById = React.useCallback(\r\n    (systemId: SystemId | string | undefined) => {\r\n      if (!systemId) return undefined;\r\n      return data.find(e => e.systemId === systemId);\r\n    },\r\n    [data]\r\n  );\r\n  \r\n  return { findById };\r\n}\r\n\r\n/**\r\n * Helper hook for searching employees (for Combobox async search)\r\n * Returns a search function that filters cached employees\r\n */\r\nexport function useEmployeeSearcher() {\r\n  const { data } = useAllEmployees();\r\n  \r\n  const searchEmployees = React.useCallback(\r\n    async (query: string, _page = 0, limit = 100) => {\r\n      const lowerQuery = query.toLowerCase();\r\n      const filtered = data.filter(e => \r\n        e.fullName?.toLowerCase().includes(lowerQuery) ||\r\n        e.id?.toLowerCase().includes(lowerQuery) ||\r\n        e.phone?.includes(query)\r\n      );\r\n      \r\n      return {\r\n        items: filtered.slice(0, limit).map(e => ({\r\n          value: e.systemId,\r\n          label: e.fullName || e.id || 'N/A',\r\n        })),\r\n        total: filtered.length,\r\n      };\r\n    },\r\n    [data]\r\n  );\r\n  \r\n  return { searchEmployees };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;CAMC,GAED;AACA;;;;AAOO,SAAS;;IACd,MAAM,QAAQ,IAAA,qLAAY,EAAC;QAAE,OAAO;IAAG;IAEvC,OAAO;QACL,MAAM,MAAM,IAAI,EAAE,QAAQ,EAAE;QAC5B,WAAW,MAAM,SAAS;QAC1B,SAAS,MAAM,OAAO;QACtB,OAAO,MAAM,KAAK;IACpB;AACF;GATgB;;QACA,qLAAY;;;AAarB,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG;IAE5B,MAAM,UAAU,KAAK,GAAG,CAAC,CAAA,IAAK,CAAC;YAC7B,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,QAAQ;QACnB,CAAC;IAED,OAAO;QAAE;QAAS;IAAU;AAC9B;IATgB;;QACc;;;AAcvB,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,GAAG;IAEjB,MAAM,WAAW,4KAAiB;mDAChC,CAAC;YACC,IAAI,CAAC,UAAU,OAAO;YACtB,OAAO,KAAK,IAAI;2DAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;;QACvC;kDACA;QAAC;KAAK;IAGR,OAAO;QAAE;IAAS;AACpB;IAZgB;;QACG;;;AAiBZ,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,GAAG;IAEjB,MAAM,kBAAkB,4KAAiB;4DACvC,OAAO,OAAe,QAAQ,CAAC,EAAE,QAAQ,GAAG;YAC1C,MAAM,aAAa,MAAM,WAAW;YACpC,MAAM,WAAW,KAAK,MAAM;6EAAC,CAAA,IAC3B,EAAE,QAAQ,EAAE,cAAc,SAAS,eACnC,EAAE,EAAE,EAAE,cAAc,SAAS,eAC7B,EAAE,KAAK,EAAE,SAAS;;YAGpB,OAAO;gBACL,OAAO,SAAS,KAAK,CAAC,GAAG,OAAO,GAAG;wEAAC,CAAA,IAAK,CAAC;4BACxC,OAAO,EAAE,QAAQ;4BACjB,OAAO,EAAE,QAAQ,IAAI,EAAE,EAAE,IAAI;wBAC/B,CAAC;;gBACD,OAAO,SAAS,MAAM;YACxB;QACF;2DACA;QAAC;KAAK;IAGR,OAAO;QAAE;IAAgB;AAC3B;IAxBgB;;QACG"}},
    {"offset": {"line": 970, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SettingsActionButton.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Button, type ButtonProps } from '../ui/button';\r\nimport { cn } from '../../lib/utils';\r\n\r\n/**\r\n * SettingsActionButton chuẩn hóa các nút hành động của module Cài đặt\r\n * để luôn tuân thủ chiều cao h-9 và padding đồng nhất.\r\n */\r\nexport const SettingsActionButton = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, size, children, ...props }, ref) => {\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size={size ?? 'sm'}\r\n        className={cn('h-9 px-4 font-medium gap-2', className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nSettingsActionButton.displayName = 'SettingsActionButton';\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAMO,MAAM,qCAAuB,2KAAgB,MAClD,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACxC,qBACE,6LAAC,wIAAM;QACL,KAAK;QACL,MAAM,QAAQ;QACd,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;kBAER;;;;;;AAGP;;AAGF,qBAAqB,WAAW,GAAG"}},
    {"offset": {"line": 1007, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border border-border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-h3 font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,0EACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 1114, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SortableCard.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { GripVertical } from 'lucide-react';\r\nimport { cn } from '../../lib/utils';\r\n\r\nexport interface SortableCardProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  title: string;\r\n  description?: string;\r\n  media?: React.ReactNode;\r\n  meta?: React.ReactNode;\r\n  actions?: React.ReactNode;\r\n  dragHandleProps?: React.HTMLAttributes<HTMLButtonElement>;\r\n  isDragging?: boolean;\r\n  muted?: boolean;\r\n}\r\n\r\nexport const SortableCard = React.forwardRef<HTMLDivElement, SortableCardProps>(\r\n  function SortableCard(\r\n    {\r\n      title,\r\n      description,\r\n      media,\r\n      meta,\r\n      actions,\r\n      dragHandleProps,\r\n      isDragging,\r\n      muted,\r\n      className,\r\n      children,\r\n      ...props\r\n    },\r\n    ref,\r\n  ) {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={cn(\r\n          'group relative rounded-2xl border border-border bg-card/95 p-3 shadow-sm transition-all',\r\n          muted && 'bg-muted/40',\r\n          isDragging && 'border-primary/40 bg-primary/5 ring-2 ring-primary/30 scale-[0.99] opacity-80',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        <div className=\"flex items-center gap-3\">\r\n          {media && <div className=\"flex-shrink-0 text-lg\">{media}</div>}\r\n\r\n          <div className=\"min-w-0 flex-1\">\r\n            <p className=\"text-sm font-medium leading-5 text-foreground truncate\">{title}</p>\r\n            {description && (\r\n              <p className=\"text-xs text-muted-foreground truncate\">{description}</p>\r\n            )}\r\n          </div>\r\n\r\n          {meta && <div className=\"flex-shrink-0 text-xs text-muted-foreground\">{meta}</div>}\r\n\r\n          {actions && (\r\n            <div className=\"flex flex-shrink-0 items-center gap-1 text-muted-foreground\">\r\n              {actions}\r\n            </div>\r\n          )}\r\n\r\n          {dragHandleProps && (\r\n            <button\r\n              type=\"button\"\r\n              className=\"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg border border-transparent text-muted-foreground transition hover:border-border hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring cursor-grab active:cursor-grabbing touch-none\"\r\n              aria-label=\"Kéo để sắp xếp\"\r\n              {...dragHandleProps}\r\n            >\r\n              <GripVertical className=\"h-4 w-4\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {children}\r\n      </div>\r\n    );\r\n  },\r\n);\r\n\r\nSortableCard.displayName = 'SortableCard';\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAaO,MAAM,6BAAe,2KAAgB,MAC1C,SAAS,aACP,EACE,KAAK,EACL,WAAW,EACX,KAAK,EACL,IAAI,EACJ,OAAO,EACP,eAAe,EACf,UAAU,EACV,KAAK,EACL,SAAS,EACT,QAAQ,EACR,GAAG,OACJ,EACD,GAAG;IAEH,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,2FACA,SAAS,eACT,cAAc,iFACd;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAI,WAAU;;oBACZ,uBAAS,6LAAC;wBAAI,WAAU;kCAAyB;;;;;;kCAElD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAA0D;;;;;;4BACtE,6BACC,6LAAC;gCAAE,WAAU;0CAA0C;;;;;;;;;;;;oBAI1D,sBAAQ,6LAAC;wBAAI,WAAU;kCAA+C;;;;;;oBAEtE,yBACC,6LAAC;wBAAI,WAAU;kCACZ;;;;;;oBAIJ,iCACC,6LAAC;wBACC,MAAK;wBACL,WAAU;wBACV,cAAW;wBACV,GAAG,eAAe;kCAEnB,cAAA,6LAAC,yOAAY;4BAAC,WAAU;;;;;;;;;;;;;;;;;YAK7B;;;;;;;AAGP;;AAGF,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 1227, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { useModal } from \"../../contexts/modal-context\"\r\n\r\n// Use the original Dialog component\r\nconst Dialog = DialogPrimitive.Root\r\n\r\n// Create a Context to pass ID through the Dialog component tree\r\nconst DialogContext = React.createContext<string>(\"\");\r\n\r\n// Provider component that accepts an ID\r\nconst DialogProvider = ({ id, children }: { id: string; children: React.ReactNode }) => {\r\n  return <DialogContext.Provider value={id}>{children}</DialogContext.Provider>;\r\n};\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & { \r\n    id?: string;\r\n    open?: boolean;\r\n  }\r\n>(({ className, children, id: propId, open, ...props }, ref) => {\r\n  // Use either the prop id or the id from context\r\n  const contextId = React.useContext(DialogContext);\r\n  const id = propId || contextId || `dialog-${React.useId()}`;\r\n  \r\n  // Register with our modal context using the open prop\r\n  const { zIndex } = useModal(id, !!open, 'dialog');\r\n  \r\n  return (\r\n    <DialogPortal>\r\n      {/* Sử dụng overlay chỉ dành cho Dialog */}\r\n      <DialogOverlay style={{ zIndex: zIndex - 1 }} />\r\n      <DialogPrimitive.Content\r\n        ref={ref}\r\n        className={cn(\r\n          \"dialog-content fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg sm:rounded-lg\",\r\n          className\r\n        )}\r\n        style={{ zIndex }}\r\n        {...props}\r\n      >\r\n        <DialogProvider id={id}>\r\n          {children}\r\n          <DialogPrimitive.Close\r\n            aria-label=\"Đóng\"\r\n            className=\"absolute right-4 top-4 flex h-9 w-9 items-center justify-center rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\"\r\n          >\r\n            <X className=\"h-4 w-4\" />\r\n            <span className=\"sr-only\">Đóng</span>\r\n          </DialogPrimitive.Close>\r\n        </DialogProvider>\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  );\r\n})\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n  DialogProvider,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;;;;;;;;AAEA,oCAAoC;AACpC,MAAM,SAAS,6KAAoB;AAEnC,gEAAgE;AAChE,MAAM,8BAAgB,8KAAmB,CAAS;AAElD,wCAAwC;AACxC,MAAM,iBAAiB,CAAC,EAAE,EAAE,EAAE,QAAQ,EAA6C;IACjF,qBAAO,6LAAC,cAAc,QAAQ;QAAC,OAAO;kBAAK;;;;;;AAC7C;KAFM;AAIN,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;MAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,GAAA,2KAAgB,UAMpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;;IACtD,gDAAgD;IAChD,MAAM,YAAY,2KAAgB,CAAC;IACnC,MAAM,KAAK,UAAU,aAAa,CAAC,OAAO,EAAE,sKAAW,IAAI;IAE3D,sDAAsD;IACtD,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,4IAAQ,EAAC,IAAI,CAAC,CAAC,MAAM;IAExC,qBACE,6LAAC;;0BAEC,6LAAC;gBAAc,OAAO;oBAAE,QAAQ,SAAS;gBAAE;;;;;;0BAC3C,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,qHAAE,EACX,kLACA;gBAEF,OAAO;oBAAE;gBAAO;gBACf,GAAG,KAAK;0BAET,cAAA,6LAAC;oBAAe,IAAI;;wBACjB;sCACD,6LAAC,8KAAqB;4BACpB,cAAW;4BACX,WAAU;;8CAEV,6LAAC,oMAAC;oCAAC,WAAU;;;;;;8CACb,6LAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;;QA5BqB,4IAAQ;;;;QAAR,4IAAQ;;;;AA6B7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1437, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 1474, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport {\r\n  Controller,\r\n  FormProvider,\r\n  useFormContext,\r\n  type ControllerProps,\r\n  type FieldPath,\r\n  type FieldValues,\r\n} from \"react-hook-form\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { Label } from \"./label\"\r\n\r\nconst Form = FormProvider\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n> = {\r\n  name: TName\r\n}\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null)\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  )\r\n}\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext)\r\n  const itemContext = React.useContext(FormItemContext)\r\n  const { getFieldState, formState } = useFormContext()\r\n\r\n  if (!fieldContext) {\r\n    throw new Error(\"useFormField should be used within <FormField>\")\r\n  }\r\n\r\n  if (!itemContext) {\r\n    throw new Error(\"useFormField should be used within <FormItem>\")\r\n  }\r\n\r\n  const fieldState = getFieldState(fieldContext.name, formState)\r\n\r\n  const { id } = itemContext\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  }\r\n}\r\n\r\ntype FormItemContextValue = {\r\n  id: string\r\n}\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue | null>(null)\r\n\r\nconst FormItem = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => {\r\n  const id = React.useId()\r\n\r\n  return (\r\n    <FormItemContext.Provider value={{ id }}>\r\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\r\n    </FormItemContext.Provider>\r\n  )\r\n})\r\nFormItem.displayName = \"FormItem\"\r\n\r\nconst FormLabel = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  const { error, formItemId } = useFormField()\r\n\r\n  return (\r\n    <Label\r\n      ref={ref}\r\n      className={cn(error && \"text-destructive\", className)}\r\n      htmlFor={formItemId}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormLabel.displayName = \"FormLabel\"\r\n\r\nconst FormControl = React.forwardRef<\r\n  React.ElementRef<typeof Slot>,\r\n  React.ComponentPropsWithoutRef<typeof Slot>\r\n>(({ children, ...props }, ref) => {\r\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\r\n\r\n  const childElements = React.Children\r\n    .toArray(children)\r\n    .filter((child): child is React.ReactElement => React.isValidElement(child))\r\n\r\n  if (childElements.length === 0) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.warn('FormControl cần ít nhất một phần tử con hợp lệ')\r\n    }\r\n    return null\r\n  }\r\n\r\n  if (childElements.length > 1 && process.env.NODE_ENV === 'development') {\r\n    console.warn('FormControl chỉ hỗ trợ một phần tử con. Đang dùng phần tử đầu tiên.')\r\n  }\r\n\r\n  return (\r\n    <Slot\r\n      ref={ref}\r\n      id={formItemId}\r\n      aria-describedby={\r\n        !error\r\n          ? `${formDescriptionId}`\r\n          : `${formDescriptionId} ${formMessageId}`\r\n      }\r\n      aria-invalid={!!error}\r\n      {...props}\r\n    >\r\n      {childElements[0]}\r\n    </Slot>\r\n  )\r\n})\r\nFormControl.displayName = \"FormControl\"\r\n\r\nconst FormDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => {\r\n  const { formDescriptionId } = useFormField()\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      id={formDescriptionId}\r\n      className={cn(\"text-sm text-muted-foreground\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormDescription.displayName = \"FormDescription\"\r\n\r\nconst FormMessage = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, children, ...props }, ref) => {\r\n  const { error, formMessageId } = useFormField()\r\n  const body = error ? String(error?.message ?? \"\") : children\r\n\r\n  if (!body) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      id={formMessageId}\r\n      className={cn(\"text-sm font-medium text-destructive\", className)}\r\n      {...props}\r\n    >\r\n      {body}\r\n    </p>\r\n  )\r\n})\r\nFormMessage.displayName = \"FormMessage\"\r\n\r\nexport {\r\n  useFormField,\r\n  Form,\r\n  FormItem,\r\n  FormLabel,\r\n  FormControl,\r\n  FormDescription,\r\n  FormMessage,\r\n  FormField,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AA0HkC;;AAxHlC;AAEA;AACA;AASA;AACA;;;AAfA;;;;;;AAiBA,MAAM,OAAO,iLAAY;AASzB,MAAM,iCAAmB,8KAAmB,CAA+B;AAE3E,MAAM,YAAY,CAGhB,EACA,GAAG,OACkC;IACrC,qBACE,6LAAC,iBAAiB,QAAQ;QAAC,OAAO;YAAE,MAAM,MAAM,IAAI;QAAC;kBACnD,cAAA,6LAAC,+KAAU;YAAE,GAAG,KAAK;;;;;;;;;;;AAG3B;KAXM;AAaN,MAAM,eAAe;;IACnB,MAAM,eAAe,2KAAgB,CAAC;IACtC,MAAM,cAAc,2KAAgB,CAAC;IACrC,MAAM,EAAE,aAAa,EAAE,SAAS,EAAE,GAAG,IAAA,mLAAc;IAEnD,IAAI,CAAC,cAAc;QACjB,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,CAAC,aAAa;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,aAAa,cAAc,aAAa,IAAI,EAAE;IAEpD,MAAM,EAAE,EAAE,EAAE,GAAG;IAEf,OAAO;QACL;QACA,MAAM,aAAa,IAAI;QACvB,YAAY,GAAG,GAAG,UAAU,CAAC;QAC7B,mBAAmB,GAAG,GAAG,sBAAsB,CAAC;QAChD,eAAe,GAAG,GAAG,kBAAkB,CAAC;QACxC,GAAG,UAAU;IACf;AACF;GAzBM;;QAGiC,mLAAc;;;AA4BrD,MAAM,gCAAkB,8KAAmB,CAA8B;AAEzE,MAAM,yBAAW,IAAA,2KAAgB,WAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;;IAC1B,MAAM,KAAK,sKAAW;IAEtB,qBACE,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;QAAG;kBACpC,cAAA,6LAAC;YAAI,KAAK;YAAK,WAAW,IAAA,qHAAE,EAAC,aAAa;YAAa,GAAG,KAAK;;;;;;;;;;;AAGrE;;AACA,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,IAAA,2KAAgB,WAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;;IAC1B,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG;IAE9B,qBACE,6LAAC,sIAAK;QACJ,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,SAAS,oBAAoB;QAC3C,SAAS;QACR,GAAG,KAAK;;;;;;AAGf;;QAVgC;;;;QAAA;;;;AAWhC,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,IAAA,2KAAgB,WAGlC,CAAC,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;;IACzB,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,iBAAiB,EAAE,aAAa,EAAE,GAAG;IAEhE,MAAM,gBAAgB,yKAAc,CACjC,OAAO,CAAC,UACR,MAAM,CAAC,CAAC,sBAAuC,+KAAoB,CAAC;IAEvE,IAAI,cAAc,MAAM,KAAK,GAAG;QAC9B,wCAA4C;YAC1C,QAAQ,IAAI,CAAC;QACf;QACA,OAAO;IACT;IAEA,IAAI,cAAc,MAAM,GAAG,KAAK,oDAAyB,eAAe;QACtE,QAAQ,IAAI,CAAC;IACf;IAEA,qBACE,6LAAC,2KAAI;QACH,KAAK;QACL,IAAI;QACJ,oBACE,CAAC,QACG,GAAG,mBAAmB,GACtB,GAAG,kBAAkB,CAAC,EAAE,eAAe;QAE7C,gBAAc,CAAC,CAAC;QACf,GAAG,KAAK;kBAER,aAAa,CAAC,EAAE;;;;;;AAGvB;;QAhCkE;;;;QAAA;;;;AAiClE,YAAY,WAAW,GAAG;AAE1B,MAAM,gCAAkB,IAAA,2KAAgB,WAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;;IAC1B,MAAM,EAAE,iBAAiB,EAAE,GAAG;IAE9B,qBACE,6LAAC;QACC,KAAK;QACL,IAAI;QACJ,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;;QAVgC;;;;QAAA;;;;AAWhC,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,IAAA,2KAAgB,WAGlC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;;IACpC,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,GAAG;IACjC,MAAM,OAAO,QAAQ,OAAO,OAAO,WAAW,MAAM;IAEpD,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,IAAI;QACJ,WAAW,IAAA,qHAAE,EAAC,wCAAwC;QACrD,GAAG,KAAK;kBAER;;;;;;AAGP;;QAjBmC;;;;QAAA;;;;AAkBnC,YAAY,WAAW,GAAG"}},
    {"offset": {"line": 1713, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/departments/department-form.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useForm } from \"react-hook-form\"\r\nimport type { Department } from \"./types\"\r\nimport { useDepartments } from \"./hooks/use-departments\";\r\n\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"../../../components/ui/form\"\r\nimport { Input } from \"../../../components/ui/input\"\r\n\r\nexport type DepartmentFormValues = Omit<Department, 'systemId' | 'jobTitleIds' | 'managerId'> & { name: string; id: string };\r\n\r\n\r\ntype DepartmentFormProps = {\r\n  initialData: Department | null\r\n  onSubmit: (values: DepartmentFormValues) => void;\r\n}\r\n\r\nexport function DepartmentForm({ initialData, onSubmit }: DepartmentFormProps) {\r\n  const { data: departmentsData } = useDepartments();\r\n  const departments = departmentsData?.data || [];\r\n  const form = useForm<DepartmentFormValues>({\r\n    defaultValues: initialData || {\r\n      id: '',\r\n      name: \"\",\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form id=\"department-form\" onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6 pt-4\">\r\n        <FormField\r\n          control={form.control}\r\n          name=\"id\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Mã phòng ban</FormLabel>\r\n              <FormControl>\r\n                <Input placeholder=\"VD: KD, KT\" {...field} value={field.value ?? ''} />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n        <FormField\r\n          control={form.control}\r\n          name=\"name\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Tên phòng ban</FormLabel>\r\n              <FormControl>\r\n                <Input placeholder=\"Nhập tên phòng ban\" {...field} value={field.value ?? ''} />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n      </form>\r\n    </Form>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;AAEA;AAQA;;;;;;;AAUO,SAAS,eAAe,EAAE,WAAW,EAAE,QAAQ,EAAuB;;IAC3E,MAAM,EAAE,MAAM,eAAe,EAAE,GAAG,IAAA,uLAAc;IAChD,MAAM,cAAc,iBAAiB,QAAQ,EAAE;IAC/C,MAAM,OAAO,IAAA,4KAAO,EAAuB;QACzC,eAAe,eAAe;YAC5B,IAAI;YACJ,MAAM;QACR;IACF;IAEA,qBACE,6LAAC,oIAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,6LAAC;YAAK,IAAG;YAAkB,UAAU,KAAK,YAAY,CAAC;YAAW,WAAU;;8BAC1E,6LAAC,yIAAS;oBACR,SAAS,KAAK,OAAO;oBACrB,MAAK;oBACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,6LAAC,wIAAQ;;8CACP,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,2IAAW;8CACV,cAAA,6LAAC,sIAAK;wCAAC,aAAY;wCAAc,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAEnE,6LAAC,2IAAW;;;;;;;;;;;;;;;;8BAIlB,6LAAC,yIAAS;oBACR,SAAS,KAAK,OAAO;oBACrB,MAAK;oBACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,6LAAC,wIAAQ;;8CACP,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,2IAAW;8CACV,cAAA,6LAAC,sIAAK;wCAAC,aAAY;wCAAsB,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAE3E,6LAAC,2IAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO1B;GA1CgB;;QACoB,uLAAc;QAEnC,4KAAO;;;KAHN"}},
    {"offset": {"line": 1859, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/job-titles/api/job-titles-api.ts"],"sourcesContent":["/**\r\n * Job Titles API functions\r\n * \r\n * ⚠️ Direct import: import { fetchJobTitles } from '@/features/settings/job-titles/api/job-titles-api'\r\n */\r\n\r\nimport type { JobTitle } from '../types';\r\n\r\nconst BASE_URL = '/api/job-titles';\r\n\r\nexport interface JobTitlesParams {\r\n  page?: number;\r\n  limit?: number;\r\n  search?: string;\r\n  sortBy?: string;\r\n  sortOrder?: 'asc' | 'desc';\r\n}\r\n\r\nexport interface JobTitlesResponse {\r\n  data: JobTitle[];\r\n  total: number;\r\n  page: number;\r\n  pageSize: number;\r\n}\r\n\r\nexport async function fetchJobTitles(params: JobTitlesParams = {}): Promise<JobTitlesResponse> {\r\n  const searchParams = new URLSearchParams();\r\n  \r\n  if (params.page) searchParams.set('page', String(params.page));\r\n  if (params.limit) searchParams.set('limit', String(params.limit));\r\n  if (params.search) searchParams.set('search', params.search);\r\n  if (params.sortBy) searchParams.set('sortBy', params.sortBy);\r\n  if (params.sortOrder) searchParams.set('sortOrder', params.sortOrder);\r\n  \r\n  const url = searchParams.toString() ? `${BASE_URL}?${searchParams}` : BASE_URL;\r\n  const response = await fetch(url);\r\n  \r\n  if (!response.ok) {\r\n    throw new Error(`Failed to fetch job titles: ${response.statusText}`);\r\n  }\r\n  \r\n  return response.json();\r\n}\r\n\r\nexport async function fetchJobTitle(systemId: string): Promise<JobTitle> {\r\n  const response = await fetch(`${BASE_URL}/${systemId}`);\r\n  \r\n  if (!response.ok) {\r\n    throw new Error(`Failed to fetch job title: ${response.statusText}`);\r\n  }\r\n  \r\n  return response.json();\r\n}\r\n\r\nexport async function createJobTitle(data: Omit<JobTitle, 'systemId' | 'createdAt' | 'updatedAt'>): Promise<JobTitle> {\r\n  const response = await fetch(BASE_URL, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({}));\r\n    throw new Error(error.message || 'Failed to create job title');\r\n  }\r\n  \r\n  return response.json();\r\n}\r\n\r\nexport async function updateJobTitle(systemId: string, data: Partial<JobTitle>): Promise<JobTitle> {\r\n  const response = await fetch(`${BASE_URL}/${systemId}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({}));\r\n    throw new Error(error.message || 'Failed to update job title');\r\n  }\r\n  \r\n  return response.json();\r\n}\r\n\r\nexport async function deleteJobTitle(systemId: string): Promise<void> {\r\n  const response = await fetch(`${BASE_URL}/${systemId}`, {\r\n    method: 'DELETE',\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    throw new Error(`Failed to delete job title: ${response.statusText}`);\r\n  }\r\n}\r\n\r\nexport type { JobTitle };\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;;;AAID,MAAM,WAAW;AAiBV,eAAe,eAAe,SAA0B,CAAC,CAAC;IAC/D,MAAM,eAAe,IAAI;IAEzB,IAAI,OAAO,IAAI,EAAE,aAAa,GAAG,CAAC,QAAQ,OAAO,OAAO,IAAI;IAC5D,IAAI,OAAO,KAAK,EAAE,aAAa,GAAG,CAAC,SAAS,OAAO,OAAO,KAAK;IAC/D,IAAI,OAAO,MAAM,EAAE,aAAa,GAAG,CAAC,UAAU,OAAO,MAAM;IAC3D,IAAI,OAAO,MAAM,EAAE,aAAa,GAAG,CAAC,UAAU,OAAO,MAAM;IAC3D,IAAI,OAAO,SAAS,EAAE,aAAa,GAAG,CAAC,aAAa,OAAO,SAAS;IAEpE,MAAM,MAAM,aAAa,QAAQ,KAAK,GAAG,SAAS,CAAC,EAAE,cAAc,GAAG;IACtE,MAAM,WAAW,MAAM,MAAM;IAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,4BAA4B,EAAE,SAAS,UAAU,EAAE;IACtE;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,cAAc,QAAgB;IAClD,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,UAAU;IAEtD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,2BAA2B,EAAE,SAAS,UAAU,EAAE;IACrE;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,eAAe,IAA4D;IAC/F,MAAM,WAAW,MAAM,MAAM,UAAU;QACrC,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,eAAe,QAAgB,EAAE,IAAuB;IAC5E,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,UAAU,EAAE;QACtD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,eAAe,QAAgB;IACnD,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,UAAU,EAAE;QACtD,QAAQ;IACV;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,4BAA4B,EAAE,SAAS,UAAU,EAAE;IACtE;AACF"}},
    {"offset": {"line": 1940, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/job-titles/hooks/use-job-titles.ts"],"sourcesContent":["/**\r\n * useJobTitles - React Query hooks\r\n * \r\n * ⚠️ Direct import: import { useJobTitles } from '@/features/settings/job-titles/hooks/use-job-titles'\r\n */\r\n\r\nimport { useQuery, useMutation, useQueryClient, keepPreviousData } from '@tanstack/react-query';\r\nimport {\r\n  fetchJobTitles,\r\n  fetchJobTitle,\r\n  createJobTitle,\r\n  updateJobTitle,\r\n  deleteJobTitle,\r\n  type JobTitlesParams,\r\n  type JobTitle,\r\n} from '../api/job-titles-api';\r\n\r\nexport const jobTitleKeys = {\r\n  all: ['job-titles'] as const,\r\n  lists: () => [...jobTitleKeys.all, 'list'] as const,\r\n  list: (params: JobTitlesParams) => [...jobTitleKeys.lists(), params] as const,\r\n  details: () => [...jobTitleKeys.all, 'detail'] as const,\r\n  detail: (id: string) => [...jobTitleKeys.details(), id] as const,\r\n};\r\n\r\nexport function useJobTitles(params: JobTitlesParams = {}) {\r\n  return useQuery({\r\n    queryKey: jobTitleKeys.list(params),\r\n    queryFn: () => fetchJobTitles(params),\r\n    staleTime: 10 * 60 * 1000,\r\n    gcTime: 60 * 60 * 1000,\r\n    placeholderData: keepPreviousData,\r\n  });\r\n}\r\n\r\nexport function useJobTitle(id: string | null | undefined) {\r\n  return useQuery({\r\n    queryKey: jobTitleKeys.detail(id!),\r\n    queryFn: () => fetchJobTitle(id!),\r\n    enabled: !!id,\r\n    staleTime: 10 * 60 * 1000,\r\n  });\r\n}\r\n\r\ninterface UseJobTitleMutationsOptions {\r\n  onCreateSuccess?: (jobTitle: JobTitle) => void;\r\n  onUpdateSuccess?: (jobTitle: JobTitle) => void;\r\n  onDeleteSuccess?: () => void;\r\n  onError?: (error: Error) => void;\r\n}\r\n\r\nexport function useJobTitleMutations(options: UseJobTitleMutationsOptions = {}) {\r\n  const queryClient = useQueryClient();\r\n  \r\n  const create = useMutation({\r\n    mutationFn: createJobTitle,\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: jobTitleKeys.all });\r\n      options.onCreateSuccess?.(data);\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  const update = useMutation({\r\n    mutationFn: ({ systemId, data }: { systemId: string; data: Partial<JobTitle> }) => \r\n      updateJobTitle(systemId, data),\r\n    onSuccess: (data, variables) => {\r\n      queryClient.invalidateQueries({ queryKey: jobTitleKeys.detail(variables.systemId) });\r\n      queryClient.invalidateQueries({ queryKey: jobTitleKeys.lists() });\r\n      options.onUpdateSuccess?.(data);\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  const remove = useMutation({\r\n    mutationFn: deleteJobTitle,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: jobTitleKeys.all });\r\n      options.onDeleteSuccess?.();\r\n    },\r\n    onError: options.onError,\r\n  });\r\n  \r\n  return { create, update, remove };\r\n}\r\n\r\nexport function useAllJobTitles() {\r\n  return useJobTitles({ limit: 50 });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;CAIC,GAED;AAAA;AAAA;AAAA;AACA;;;;AAUO,MAAM,eAAe;IAC1B,KAAK;QAAC;KAAa;IACnB,OAAO,IAAM;eAAI,aAAa,GAAG;YAAE;SAAO;IAC1C,MAAM,CAAC,SAA4B;eAAI,aAAa,KAAK;YAAI;SAAO;IACpE,SAAS,IAAM;eAAI,aAAa,GAAG;YAAE;SAAS;IAC9C,QAAQ,CAAC,KAAe;eAAI,aAAa,OAAO;YAAI;SAAG;AACzD;AAEO,SAAS,aAAa,SAA0B,CAAC,CAAC;;IACvD,OAAO,IAAA,0LAAQ,EAAC;QACd,UAAU,aAAa,IAAI,CAAC;QAC5B,OAAO;qCAAE,IAAM,IAAA,yLAAc,EAAC;;QAC9B,WAAW,KAAK,KAAK;QACrB,QAAQ,KAAK,KAAK;QAClB,iBAAiB,8LAAgB;IACnC;AACF;GARgB;;QACP,0LAAQ;;;AASV,SAAS,YAAY,EAA6B;;IACvD,OAAO,IAAA,0LAAQ,EAAC;QACd,UAAU,aAAa,MAAM,CAAC;QAC9B,OAAO;oCAAE,IAAM,IAAA,wLAAa,EAAC;;QAC7B,SAAS,CAAC,CAAC;QACX,WAAW,KAAK,KAAK;IACvB;AACF;IAPgB;;QACP,0LAAQ;;;AAeV,SAAS,qBAAqB,UAAuC,CAAC,CAAC;;IAC5E,MAAM,cAAc,IAAA,2MAAc;IAElC,MAAM,SAAS,IAAA,gMAAW,EAAC;QACzB,YAAY,yLAAc;QAC1B,SAAS;wDAAE,CAAC;gBACV,YAAY,iBAAiB,CAAC;oBAAE,UAAU,aAAa,GAAG;gBAAC;gBAC3D,QAAQ,eAAe,GAAG;YAC5B;;QACA,SAAS,QAAQ,OAAO;IAC1B;IAEA,MAAM,SAAS,IAAA,gMAAW,EAAC;QACzB,UAAU;wDAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAiD,GAC5E,IAAA,yLAAc,EAAC,UAAU;;QAC3B,SAAS;wDAAE,CAAC,MAAM;gBAChB,YAAY,iBAAiB,CAAC;oBAAE,UAAU,aAAa,MAAM,CAAC,UAAU,QAAQ;gBAAE;gBAClF,YAAY,iBAAiB,CAAC;oBAAE,UAAU,aAAa,KAAK;gBAAG;gBAC/D,QAAQ,eAAe,GAAG;YAC5B;;QACA,SAAS,QAAQ,OAAO;IAC1B;IAEA,MAAM,SAAS,IAAA,gMAAW,EAAC;QACzB,YAAY,yLAAc;QAC1B,SAAS;wDAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU,aAAa,GAAG;gBAAC;gBAC3D,QAAQ,eAAe;YACzB;;QACA,SAAS,QAAQ,OAAO;IAC1B;IAEA,OAAO;QAAE;QAAQ;QAAQ;IAAO;AAClC;IAjCgB;;QACM,2MAAc;QAEnB,gMAAW;QASX,gMAAW;QAWX,gMAAW;;;AAYrB,SAAS;;IACd,OAAO,aAAa;QAAE,OAAO;IAAG;AAClC;IAFgB;;QACP"}},
    {"offset": {"line": 2094, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/job-titles/columns.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport type { JobTitle } from './types'\r\n// FIX: Replaced missing `DataTableRowActions` component with an inline `DropdownMenu` implementation to resolve module error.\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"../../../components/ui/dropdown-menu\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { MoreHorizontal } from \"lucide-react\";\r\nimport type { ColumnDef } from '../../../components/data-table/types';\r\n\r\nexport const getColumns = (\r\n  onDelete: (systemId: string) => void,\r\n  onEdit: (jobTitle: JobTitle) => void\r\n): ColumnDef<JobTitle>[] => [\r\n  {\r\n    id: \"name\",\r\n    accessorKey: \"name\",\r\n    header: \"Tên chức vụ\",\r\n    cell: ({ row }) => <div className=\"font-medium\">{row.name}</div>,\r\n    meta: { displayName: \"Tên chức vụ\" },\r\n  },\r\n  {\r\n    id: \"description\",\r\n    accessorKey: \"description\",\r\n    header: \"Mô tả\",\r\n    cell: ({ row }) => <span className=\"text-muted-foreground\">{row.description}</span>,\r\n    meta: { displayName: \"Mô tả\" },\r\n  },\r\n   {\r\n    id: \"actions\",\r\n    header: () => <div className=\"text-center\">Sửa</div>,\r\n    cell: ({ row }) => (\r\n       <div className=\"flex items-center justify-center\">\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\r\n              <span className=\"sr-only\">Mở menu</span>\r\n              <MoreHorizontal className=\"h-4 w-4\" />\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            <DropdownMenuItem onSelect={() => onEdit(row)}>\r\n              Sửa\r\n            </DropdownMenuItem>\r\n            <DropdownMenuItem\r\n              className=\"text-destructive\"\r\n              onSelect={() => onDelete(row.systemId)}\r\n            >\r\n              Xóa\r\n            </DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n       </div>\r\n    ),\r\n    meta: {\r\n      displayName: \"Sửa\",\r\n      sticky: \"right\",\r\n    },\r\n    size: 90,\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;;AAEA,8HAA8H;AAC9H;AACA;AACA;;;;;AAGO,MAAM,aAAa,CACxB,UACA,SAC0B;QAC1B;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,6LAAC;oBAAI,WAAU;8BAAe,IAAI,IAAI;;;;;;YACzD,MAAM;gBAAE,aAAa;YAAc;QACrC;QACA;YACE,IAAI;YACJ,aAAa;YACb,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,6LAAC;oBAAK,WAAU;8BAAyB,IAAI,WAAW;;;;;;YAC3E,MAAM;gBAAE,aAAa;YAAQ;QAC/B;QACC;YACC,IAAI;YACJ,QAAQ,kBAAM,6LAAC;oBAAI,WAAU;8BAAc;;;;;;YAC3C,MAAM,CAAC,EAAE,GAAG,EAAE,iBACX,6LAAC;oBAAI,WAAU;8BACd,cAAA,6LAAC,wJAAY;;0CACX,6LAAC,+JAAmB;gCAAC,OAAO;0CAC1B,cAAA,6LAAC,wIAAM;oCAAC,SAAQ;oCAAQ,WAAU;;sDAChC,6LAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,6LAAC,qOAAc;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAG9B,6LAAC,+JAAmB;gCAAC,OAAM;;kDACzB,6LAAC,4JAAgB;wCAAC,UAAU,IAAM,OAAO;kDAAM;;;;;;kDAG/C,6LAAC,4JAAgB;wCACf,WAAU;wCACV,UAAU,IAAM,SAAS,IAAI,QAAQ;kDACtC;;;;;;;;;;;;;;;;;;;;;;;YAOT,MAAM;gBACJ,aAAa;gBACb,QAAQ;YACV;YACA,MAAM;QACR;KACD"}},
    {"offset": {"line": 2237, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/alert-dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { buttonVariants } from \"./button\"\r\n\r\nconst AlertDialog = AlertDialogPrimitive.Root\r\n\r\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\r\n\r\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\r\n\r\nconst AlertDialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80 transition-opacity duration-200 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:opacity-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\r\n\r\nconst AlertDialogContent = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPortal>\r\n    <AlertDialogOverlay />\r\n    <AlertDialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg transition-opacity duration-200 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:opacity-0 sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </AlertDialogPortal>\r\n))\r\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\r\n\r\nconst AlertDialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\r\n\r\nconst AlertDialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\r\n\r\nconst AlertDialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\r\n\r\nconst AlertDialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogDescription.displayName =\r\n  AlertDialogPrimitive.Description.displayName\r\n\r\nconst AlertDialogAction = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Action\r\n    ref={ref}\r\n    className={cn(buttonVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\r\n\r\nconst AlertDialogCancel = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Cancel\r\n    ref={ref}\r\n    className={cn(\r\n      buttonVariants({ variant: \"outline\" }),\r\n      \"mt-2 sm:mt-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\r\n\r\nexport {\r\n  AlertDialog,\r\n  AlertDialogPortal,\r\n  AlertDialogOverlay,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogFooter,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,cAAc,sLAAyB;AAE7C,MAAM,qBAAqB,yLAA4B;AAEvD,MAAM,oBAAoB,wLAA2B;AAErD,MAAM,mCAAqB,2KAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAA4B;QAC3B,WAAW,IAAA,qHAAE,EACX,wIACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,2KAAgB,OAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,qHAAE,EACX,yQACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,2KAAgB,OAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,uBAAuB,WAAW,GAChC,6LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,IAAA,gJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,2KAAgB,QAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,IAAA,gJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 2397, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Textarea = React.forwardRef<\r\n  HTMLTextAreaElement,\r\n  React.ComponentProps<\"textarea\">\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <textarea\r\n      className={cn(\r\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 2431, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/job-titles/job-title-form.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useForm } from \"react-hook-form\"\r\nimport type { JobTitle } from \"./types\"\r\nimport { useJobTitles } from \"./hooks/use-job-titles\";\r\n\r\nimport { Button } from \"../../../components/ui/button\"\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"../../../components/ui/form\"\r\nimport { Input } from \"../../../components/ui/input\"\r\nimport { Textarea } from \"../../../components/ui/textarea\";\r\n\r\nexport type JobTitleFormValues = Omit<JobTitle, 'systemId'>;\r\n\r\ntype JobTitleFormProps = {\r\n  initialData: JobTitle | null\r\n  onSubmit: (values: JobTitleFormValues) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport function JobTitleForm({ initialData, onSubmit, onCancel }: JobTitleFormProps) {\r\n  const { data: jobTitlesData } = useJobTitles();\r\n  const jobTitles = jobTitlesData?.data || [];\r\n  const form = useForm<JobTitleFormValues>({\r\n    defaultValues: initialData || {\r\n      id: \"\", // ✅ Empty string = auto-generate\r\n      name: \"\",\r\n      description: \"\",\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\r\n         <FormField\r\n          control={form.control}\r\n          name=\"id\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Mã chức vụ</FormLabel>\r\n              <FormControl>\r\n                <Input placeholder=\"VD: NV, TP\" {...field} value={field.value ?? ''} />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n        <FormField\r\n          control={form.control}\r\n          name=\"name\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Tên chức vụ</FormLabel>\r\n              <FormControl>\r\n                <Input placeholder=\"VD: Trưởng phòng\" {...field} value={field.value ?? ''} />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n        <FormField\r\n          control={form.control}\r\n          name=\"description\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Mô tả</FormLabel>\r\n              <FormControl>\r\n                <Textarea placeholder=\"Mô tả vai trò, trách nhiệm của chức vụ...\" {...field} value={field.value ?? ''} />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n        <div className=\"flex justify-end space-x-2 pt-4\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={onCancel}>Hủy</Button>\r\n            <Button type=\"submit\">Lưu</Button>\r\n        </div>\r\n      </form>\r\n    </Form>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;AAEA;AACA;AAQA;AACA;;;;;;;;;AAUO,SAAS,aAAa,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAqB;;IACjF,MAAM,EAAE,MAAM,aAAa,EAAE,GAAG,IAAA,yLAAY;IAC5C,MAAM,YAAY,eAAe,QAAQ,EAAE;IAC3C,MAAM,OAAO,IAAA,4KAAO,EAAqB;QACvC,eAAe,eAAe;YAC5B,IAAI;YACJ,MAAM;YACN,aAAa;QACf;IACF;IAEA,qBACE,6LAAC,oIAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,6LAAC;YAAK,UAAU,KAAK,YAAY,CAAC;YAAW,WAAU;;8BACpD,6LAAC,yIAAS;oBACT,SAAS,KAAK,OAAO;oBACrB,MAAK;oBACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,6LAAC,wIAAQ;;8CACP,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,2IAAW;8CACV,cAAA,6LAAC,sIAAK;wCAAC,aAAY;wCAAc,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAEnE,6LAAC,2IAAW;;;;;;;;;;;;;;;;8BAIlB,6LAAC,yIAAS;oBACR,SAAS,KAAK,OAAO;oBACrB,MAAK;oBACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,6LAAC,wIAAQ;;8CACP,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,2IAAW;8CACV,cAAA,6LAAC,sIAAK;wCAAC,aAAY;wCAAoB,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAEzE,6LAAC,2IAAW;;;;;;;;;;;;;;;;8BAIlB,6LAAC,yIAAS;oBACR,SAAS,KAAK,OAAO;oBACrB,MAAK;oBACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,6LAAC,wIAAQ;;8CACP,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,2IAAW;8CACV,cAAA,6LAAC,4IAAQ;wCAAC,aAAY;wCAA6C,GAAG,KAAK;wCAAE,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;8CAErG,6LAAC,2IAAW;;;;;;;;;;;;;;;;8BAIlB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,wIAAM;4BAAC,MAAK;4BAAS,SAAQ;4BAAU,SAAS;sCAAU;;;;;;sCAC3D,6LAAC,wIAAM;4BAAC,MAAK;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAKlC;GA5DgB;;QACkB,yLAAY;QAE/B,4KAAO;;;KAHN"}},
    {"offset": {"line": 2651, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/id-types.ts"],"sourcesContent":["/**\r\n * Type-safe ID System\r\n * \r\n * Prevents mixing systemId with business ID at compile time\r\n */\r\n\r\n// Branded types for type safety\r\nexport type SystemId = string & { readonly __brand: 'SystemId' };\r\nexport type BusinessId = string & { readonly __brand: 'BusinessId' };\r\n\r\n/**\r\n * Create a SystemId from a string\r\n * Use this when you know for sure it's a systemId\r\n */\r\nexport function asSystemId(id: string): SystemId {\r\n  return id as SystemId;\r\n}\r\n\r\n/**\r\n * Create a BusinessId from a string\r\n * Use this when you know for sure it's a business ID\r\n */\r\nexport function asBusinessId(id: string): BusinessId {\r\n  return id as BusinessId;\r\n}\r\n\r\n/**\r\n * Check if a string is a valid systemId format\r\n */\r\nexport function isSystemIdFormat(id: string): boolean {\r\n  // SystemId: 8 digits + prefix (e.g., NV00000001, VOUCHER00000123)\r\n  return /^[A-Z]+\\d{8}$/.test(id);\r\n}\r\n\r\n/**\r\n * Check if a string is a valid business ID format\r\n */\r\nexport function isBusinessIdFormat(id: string): boolean {\r\n  // Business ID: shorter, variable length (e.g., NV001, PT000001)\r\n  return /^[A-Z]+\\d{3,6}$/.test(id);\r\n}\r\n\r\n/**\r\n * Safely convert unknown ID to proper type\r\n */\r\nexport function parseId(id: string): { type: 'system' | 'business'; value: SystemId | BusinessId } {\r\n  if (isSystemIdFormat(id)) {\r\n    return { type: 'system', value: asSystemId(id) };\r\n  }\r\n  if (isBusinessIdFormat(id)) {\r\n    return { type: 'business', value: asBusinessId(id) };\r\n  }\r\n  throw new Error(`Invalid ID format: ${id}`);\r\n}\r\n\r\n/**\r\n * ID Pair - Always keep systemId and businessId together\r\n */\r\nexport interface IDPair {\r\n  systemId: SystemId;\r\n  businessId: BusinessId;\r\n}\r\n\r\n/**\r\n * Entity with dual IDs\r\n */\r\nexport interface DualIDEntity {\r\n  systemId: SystemId;\r\n  id: BusinessId;\r\n}\r\n\r\n/**\r\n * Store methods with type-safe IDs\r\n */\r\nexport interface TypeSafeStore<T extends DualIDEntity> {\r\n  /** Find by systemId (for queries, relationships) */\r\n  findBySystemId(systemId: SystemId): T | null;\r\n  \r\n  /** Find by business ID (for user input, display) */\r\n  findByBusinessId(businessId: BusinessId): T | null;\r\n  \r\n  /** Update by systemId (always use systemId for updates) */\r\n  updateBySystemId(systemId: SystemId, updates: Partial<T>): void;\r\n  \r\n  /** Delete by systemId (always use systemId for deletes) */\r\n  deleteBySystemId(systemId: SystemId): void;\r\n}\r\n\r\n/**\r\n * Route params with type-safe IDs\r\n */\r\nexport interface RouteParams {\r\n  systemId?: SystemId;\r\n  id?: BusinessId;\r\n}\r\n\r\n/**\r\n * Link builder - always uses systemId\r\n */\r\nexport function buildEntityLink(path: string, entity: DualIDEntity): string {\r\n  return path.replace(':systemId', entity.systemId);\r\n}\r\n\r\n/**\r\n * Display ID - always uses business ID\r\n */\r\nexport function getDisplayId(entity: DualIDEntity): string {\r\n  return entity.id;\r\n}\r\n\r\n/**\r\n * Runtime guard: ensures a string is valid SystemId format and casts it\r\n * Logs warning if format is invalid\r\n */\r\nexport function ensureSystemId(id: string, context?: string): SystemId {\r\n  if (!isSystemIdFormat(id)) {\r\n    console.warn(`[ensureSystemId] Invalid SystemId format: \"${id}\"${context ? ` in ${context}` : ''}`);\r\n  }\r\n  return asSystemId(id);\r\n}\r\n\r\n/**\r\n * Runtime guard: ensures a string is valid BusinessId format and casts it\r\n * Logs warning if format is invalid\r\n */\r\nexport function ensureBusinessId(id: string, context?: string): BusinessId {\r\n  if (!isBusinessIdFormat(id)) {\r\n    console.warn(`[ensureBusinessId] Invalid BusinessId format: \"${id}\"${context ? ` in ${context}` : ''}`);\r\n  }\r\n  return asBusinessId(id);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC,GAED,gCAAgC;;;;;;;;;;;;;;;;;;;;;AAQzB,SAAS,WAAW,EAAU;IACnC,OAAO;AACT;AAMO,SAAS,aAAa,EAAU;IACrC,OAAO;AACT;AAKO,SAAS,iBAAiB,EAAU;IACzC,kEAAkE;IAClE,OAAO,gBAAgB,IAAI,CAAC;AAC9B;AAKO,SAAS,mBAAmB,EAAU;IAC3C,gEAAgE;IAChE,OAAO,kBAAkB,IAAI,CAAC;AAChC;AAKO,SAAS,QAAQ,EAAU;IAChC,IAAI,iBAAiB,KAAK;QACxB,OAAO;YAAE,MAAM;YAAU,OAAO,WAAW;QAAI;IACjD;IACA,IAAI,mBAAmB,KAAK;QAC1B,OAAO;YAAE,MAAM;YAAY,OAAO,aAAa;QAAI;IACrD;IACA,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,IAAI;AAC5C;AA8CO,SAAS,gBAAgB,IAAY,EAAE,MAAoB;IAChE,OAAO,KAAK,OAAO,CAAC,aAAa,OAAO,QAAQ;AAClD;AAKO,SAAS,aAAa,MAAoB;IAC/C,OAAO,OAAO,EAAE;AAClB;AAMO,SAAS,eAAe,EAAU,EAAE,OAAgB;IACzD,IAAI,CAAC,iBAAiB,KAAK;QACzB,QAAQ,IAAI,CAAC,CAAC,2CAA2C,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI;IACpG;IACA,OAAO,WAAW;AACpB;AAMO,SAAS,iBAAiB,EAAU,EAAE,OAAgB;IAC3D,IAAI,CAAC,mBAAmB,KAAK;QAC3B,QAAQ,IAAI,CAAC,CAAC,+CAA+C,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI;IACxG;IACA,OAAO,aAAa;AACtB"}},
    {"offset": {"line": 2730, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Table = React.forwardRef<\r\n  HTMLTableElement,\r\n  React.HTMLAttributes<HTMLTableElement>\r\n>(({ className, ...props }, ref) => (\r\n    <table\r\n      ref={ref}\r\n      className={cn(\"w-full caption-bottom text-sm\", className)}\r\n      {...props}\r\n    />\r\n))\r\nTable.displayName = \"Table\"\r\n\r\nconst TableHeader = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <thead ref={ref} className={cn(\"[&_tr]:border-b [&_tr]:border-border\", className)} {...props} />\r\n))\r\nTableHeader.displayName = \"TableHeader\"\r\n\r\nconst TableBody = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tbody\r\n    ref={ref}\r\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableBody.displayName = \"TableBody\"\r\n\r\nconst TableFooter = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tfoot\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-t border-border bg-muted/50 font-medium [&>tr]:last:border-b-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableFooter.displayName = \"TableFooter\"\r\n\r\nconst TableRow = React.forwardRef<\r\n  HTMLTableRowElement,\r\n  React.HTMLAttributes<HTMLTableRowElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tr\r\n    ref={ref}\r\n    className={cn(\r\n      \"group border-b border-border transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableRow.displayName = \"TableRow\"\r\n\r\nconst TableHead = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.ThHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <th\r\n    ref={ref}\r\n    className={cn(\r\n      \"h-9 px-4 text-left align-middle font-medium text-foreground [&:has([role=checkbox])]:px-3 [&:has([role=checkbox])]:w-12 [&:has([role=checkbox])]:text-center whitespace-nowrap\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableHead.displayName = \"TableHead\"\r\n\r\nconst TableCell = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.TdHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <td\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-4 py-1 align-middle whitespace-nowrap [&:has([role=checkbox])]:px-3 [&:has([role=checkbox])]:w-12 [&:has([role=checkbox])]:text-center\", \r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableCell.displayName = \"TableCell\"\r\n\r\nconst TableCaption = React.forwardRef<\r\n  HTMLTableCaptionElement,\r\n  React.HTMLAttributes<HTMLTableCaptionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <caption\r\n    ref={ref}\r\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableCaption.displayName = \"TableCaption\"\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,wCAAwC;QAAa,GAAG,KAAK;;;;;;;AAE9F,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,yEACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,mGACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,kLACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,6IACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGb,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 2867, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SimpleSettingsTable.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"../ui/table\";\r\nimport type { ColumnDef } from \"../data-table/types\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\ninterface SimpleSettingsTableProps<TData extends { systemId: string }> {\r\n  data: TData[];\r\n  columns: ColumnDef<TData>[];\r\n  emptyTitle: string;\r\n  emptyDescription?: string;\r\n  emptyAction?: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport function SimpleSettingsTable<TData extends { systemId: string }>(\r\n  props: SimpleSettingsTableProps<TData>\r\n) {\r\n  const { data, columns, emptyTitle, emptyDescription, emptyAction, className } = props;\r\n\r\n  const renderedColumns = React.useMemo(() => columns.filter(Boolean), [columns]);\r\n  const colSpan = Math.max(renderedColumns.length, 1);\r\n\r\n  const renderHeader = (column: ColumnDef<TData>) => {\r\n    if (typeof column.header === \"function\") {\r\n      return column.header({\r\n        isAllPageRowsSelected: false,\r\n        isSomePageRowsSelected: false,\r\n        onToggleAll: () => {},\r\n        setSorting: () => {},\r\n      });\r\n    }\r\n    return column.header;\r\n  };\r\n\r\n  const renderCell = (column: ColumnDef<TData>, row: TData) =>\r\n    column.cell({\r\n      row,\r\n      isSelected: false,\r\n      isExpanded: false,\r\n      onToggleSelect: () => {},\r\n      onToggleExpand: () => {},\r\n    });\r\n\r\n  return (\r\n    <div className={cn(\"overflow-x-auto\", className)}>\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            {renderedColumns.map((column) => (\r\n              <TableHead key={column.id} style={column.size ? { width: column.size } : undefined}>\r\n                {renderHeader(column)}\r\n              </TableHead>\r\n            ))}\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {data.length === 0 ? (\r\n            <TableRow>\r\n              <TableCell colSpan={colSpan} className=\"h-24 text-center\">\r\n                <div className=\"space-y-2\">\r\n                  <p className=\"font-medium text-muted-foreground\">{emptyTitle}</p>\r\n                  {emptyDescription ? (\r\n                    <p className=\"text-sm text-muted-foreground\">{emptyDescription}</p>\r\n                  ) : null}\r\n                  {emptyAction}\r\n                </div>\r\n              </TableCell>\r\n            </TableRow>\r\n          ) : (\r\n            data.map((item) => (\r\n              <TableRow key={item.systemId}>\r\n                {renderedColumns.map((column) => (\r\n                  <TableCell key={column.id}>{renderCell(column, item)}</TableCell>\r\n                ))}\r\n              </TableRow>\r\n            ))\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AASA;;;;;;AAWO,SAAS,oBACd,KAAsC;;IAEtC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,gBAAgB,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG;IAEhF,MAAM,kBAAkB,wKAAa;wDAAC,IAAM,QAAQ,MAAM,CAAC;uDAAU;QAAC;KAAQ;IAC9E,MAAM,UAAU,KAAK,GAAG,CAAC,gBAAgB,MAAM,EAAE;IAEjD,MAAM,eAAe,CAAC;QACpB,IAAI,OAAO,OAAO,MAAM,KAAK,YAAY;YACvC,OAAO,OAAO,MAAM,CAAC;gBACnB,uBAAuB;gBACvB,wBAAwB;gBACxB,aAAa,KAAO;gBACpB,YAAY,KAAO;YACrB;QACF;QACA,OAAO,OAAO,MAAM;IACtB;IAEA,MAAM,aAAa,CAAC,QAA0B,MAC5C,OAAO,IAAI,CAAC;YACV;YACA,YAAY;YACZ,YAAY;YACZ,gBAAgB,KAAO;YACvB,gBAAgB,KAAO;QACzB;IAEF,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,mBAAmB;kBACpC,cAAA,6LAAC,sIAAK;;8BACJ,6LAAC,4IAAW;8BACV,cAAA,6LAAC,yIAAQ;kCACN,gBAAgB,GAAG,CAAC,CAAC,uBACpB,6LAAC,0IAAS;gCAAiB,OAAO,OAAO,IAAI,GAAG;oCAAE,OAAO,OAAO,IAAI;gCAAC,IAAI;0CACtE,aAAa;+BADA,OAAO,EAAE;;;;;;;;;;;;;;;8BAM/B,6LAAC,0IAAS;8BACP,KAAK,MAAM,KAAK,kBACf,6LAAC,yIAAQ;kCACP,cAAA,6LAAC,0IAAS;4BAAC,SAAS;4BAAS,WAAU;sCACrC,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAqC;;;;;;oCACjD,iCACC,6LAAC;wCAAE,WAAU;kDAAiC;;;;;+CAC5C;oCACH;;;;;;;;;;;;;;;;+BAKP,KAAK,GAAG,CAAC,CAAC,qBACR,6LAAC,yIAAQ;sCACN,gBAAgB,GAAG,CAAC,CAAC,uBACpB,6LAAC,0IAAS;8CAAkB,WAAW,QAAQ;mCAA/B,OAAO,EAAE;;;;;2BAFd,KAAK,QAAQ;;;;;;;;;;;;;;;;;;;;;AAW1C;GAnEgB;KAAA"}},
    {"offset": {"line": 3014, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/job-titles/page-content.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { useJobTitles, useJobTitleMutations } from \"./hooks/use-job-titles\"\r\nimport { getColumns } from \"./columns\"\r\nimport { Card, CardContent } from \"../../../components/ui/card\"\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"../../../components/ui/alert-dialog\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"../../../components/ui/dialog\"\r\nimport { JobTitleForm, type JobTitleFormValues } from \"./job-title-form\"\r\nimport type { JobTitle } from \"./types\"\r\nimport { Button } from \"../../../components/ui/button\"\r\nimport { PlusCircle } from \"lucide-react\"\r\nimport Fuse from \"fuse.js\"\r\nimport { asBusinessId, asSystemId, type SystemId } from \"@/lib/id-types\"\r\nimport { Input } from \"../../../components/ui/input\"\r\nimport { SimpleSettingsTable } from \"../../../components/settings/SimpleSettingsTable\"\r\n\r\nexport function JobTitlesPageContent() {\r\n  const { data: jobTitlesData } = useJobTitles();\r\n  const jobTitles = jobTitlesData?.data || [];\r\n  const { create, update, remove } = useJobTitleMutations();\r\n  \r\n  const [isAlertOpen, setIsAlertOpen] = React.useState(false)\r\n  const [idToDelete, setIdToDelete] = React.useState<SystemId | null>(null)\r\n  const [isFormOpen, setIsFormOpen] = React.useState(false)\r\n  const [editingJobTitle, setEditingJobTitle] = React.useState<JobTitle | null>(null)\r\n  \r\n  const [globalFilter, setGlobalFilter] = React.useState('');\r\n\r\n  const handleDelete = React.useCallback((systemId: SystemId) => {\r\n    setIdToDelete(systemId)\r\n    setIsAlertOpen(true)\r\n  }, [])\r\n\r\n  const handleEdit = React.useCallback((jobTitle: JobTitle) => {\r\n    setEditingJobTitle(jobTitle)\r\n    setIsFormOpen(true)\r\n  }, [])\r\n\r\n  const columns = React.useMemo(() => getColumns(handleDelete, handleEdit), [handleDelete, handleEdit]);\r\n  \r\n  const fuse = React.useMemo(() => new Fuse(jobTitles, { keys: [\"id\", \"name\", \"description\"] }), [jobTitles]);\r\n  \r\n  const confirmDelete = () => {\r\n    if (idToDelete) {\r\n      remove.mutate(idToDelete as string);\r\n    }\r\n    setIsAlertOpen(false)\r\n    setIdToDelete(null)\r\n  }\r\n\r\n  const handleAddNew = () => {\r\n    setEditingJobTitle(null);\r\n    setIsFormOpen(true);\r\n  }\r\n\r\n  const handleSubmit = (values: JobTitleFormValues) => {\r\n    if (editingJobTitle) {\r\n      update.mutate({ \r\n        systemId: editingJobTitle.systemId as string, \r\n        data: {\r\n          ...values,\r\n          id: asBusinessId(values.id),\r\n        }\r\n      });\r\n    } else {\r\n      create.mutate({\r\n        ...values,\r\n        id: asBusinessId(values.id),\r\n      } as Omit<JobTitle, 'systemId'>);\r\n    }\r\n    setIsFormOpen(false);\r\n    setEditingJobTitle(null);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsFormOpen(false);\r\n    setEditingJobTitle(null);\r\n  };\r\n  \r\n  const filteredData = React.useMemo(() => globalFilter ? fuse.search(globalFilter).map(result => result.item) : jobTitles, [jobTitles, globalFilter, fuse]);\r\n  \r\n  const sortedData = React.useMemo(() => {\r\n    return [...filteredData].sort((a, b) => a.name.localeCompare(b.name));\r\n  }, [filteredData]);\r\n\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n        <Input\r\n          value={globalFilter}\r\n          onChange={(event) => setGlobalFilter(event.target.value)}\r\n          placeholder=\"Tìm kiếm chức vụ...\"\r\n          className=\"sm:max-w-sm\"\r\n        />\r\n        <Button onClick={handleAddNew} size=\"sm\">\r\n          <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n          Thêm chức vụ\r\n        </Button>\r\n      </div>\r\n\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          <SimpleSettingsTable\r\n            data={sortedData}\r\n            columns={columns}\r\n            emptyTitle=\"Chưa có chức vụ\"\r\n            emptyDescription=\"Tạo chức vụ đầu tiên để phân quyền nhân sự\"\r\n            emptyAction={\r\n              <Button size=\"sm\" onClick={handleAddNew}>\r\n                Thêm chức vụ\r\n              </Button>\r\n            }\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n      \r\n      <AlertDialog open={isAlertOpen} onOpenChange={setIsAlertOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Bạn có chắc chắn muốn xóa?</AlertDialogTitle>\r\n            <AlertDialogDescription>Hành động này không thể được hoàn tác. Dữ liệu chức vụ sẽ bị xóa vĩnh viễn.</AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Hủy</AlertDialogCancel>\r\n            <AlertDialogAction onClick={confirmDelete}>Tiếp tục</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n      \r\n      <Dialog open={isFormOpen} onOpenChange={setIsFormOpen}>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle>{editingJobTitle ? 'Chỉnh sửa chức vụ' : 'Thêm chức vụ mới'}</DialogTitle>\r\n              <DialogDescription>{editingJobTitle ? 'Cập nhật thông tin cho chức vụ.' : 'Điền thông tin để tạo mới.'}</DialogDescription>\r\n            </DialogHeader>\r\n            <JobTitleForm \r\n              initialData={editingJobTitle} \r\n              onSubmit={handleSubmit} \r\n              onCancel={handleCancel} \r\n            />\r\n          </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3342, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Separator = React.forwardRef<\r\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\r\n>(\r\n  (\r\n    { className, orientation = \"horizontal\", decorative = true, ...props },\r\n    ref\r\n  ) => (\r\n    <SeparatorPrimitive.Root\r\n      ref={ref}\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"shrink-0 bg-border\",\r\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n)\r\nSeparator.displayName = SeparatorPrimitive.Root.displayName\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,2KAAgB,MAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,gLAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,qHAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,gLAAuB,CAAC,WAAW"}},
    {"offset": {"line": 3379, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/departments/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { \r\n  DndContext, \r\n  DragOverlay,\r\n  useSensor, \r\n  useSensors, \r\n  PointerSensor,\r\n  closestCorners,\r\n  DragStartEvent,\r\n  DragEndEvent,\r\n  DragOverEvent\r\n} from '@dnd-kit/core';\r\nimport { Search, Users, Crown, MoreHorizontal, PlusCircle, Eye, Copy, Check, GripVertical } from 'lucide-react';\r\nimport { formatDate, formatDateTime, formatDateTimeSeconds, formatDateCustom, parseDate, getCurrentDate } from '@/lib/date-utils';\r\nimport { useSettingsPageHeader } from '../use-settings-page-header';\r\nimport { useAllDepartments } from './hooks/use-all-departments';\r\nimport { useDepartmentMutations } from './hooks/use-departments';\r\nimport { useAllEmployees } from '../../employees/hooks/use-all-employees';\r\nimport { useEmployeeMutations } from '../../employees/hooks/use-employees';\r\nimport { useJobTitleStore } from '../job-titles/store';\r\nimport type { Department } from './types';\r\nimport type { Employee } from '../../employees/types';\r\nimport type { JobTitle } from '../job-titles/types';\r\nimport { cn } from '../../../lib/utils';\r\nimport { Button } from '../../../components/ui/button';\r\nimport { SettingsActionButton } from '../../../components/settings/SettingsActionButton';\r\nimport { Input } from '../../../components/ui/input';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '../../../components/ui/avatar';\r\nimport { ScrollArea } from '../../../components/ui/scroll-area';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../../../components/ui/card';\r\nimport { SortableCard } from '../../../components/settings/SortableCard';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '../../../components/ui/dialog';\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from '../../../components/ui/alert-dialog';\r\nimport { DepartmentForm, type DepartmentFormValues } from './department-form';\r\nimport { JobTitlesPageContent } from '../job-titles/page-content';\r\nimport { Separator } from '../../../components/ui/separator';\r\nimport { useDroppable } from '@dnd-kit/core';\r\nimport { useDraggable } from '@dnd-kit/core';\r\nimport { CSS } from '@dnd-kit/utilities';\r\nimport { toast } from 'sonner';\r\n\r\n\r\nconst getInitials = (name: string) => {\r\n    if (!name) return '';\r\n    const parts = name.split(' ');\r\n    return parts.length > 1 \r\n      ? `${parts[parts.length - 2][0]}${parts[parts.length - 1][0]}`.toUpperCase()\r\n      : name.substring(0, 2).toUpperCase();\r\n};\r\n\r\nconst CopyableDetailField = ({ label, value }: { label: string; value?: string }) => {\r\n    const [isCopied, setIsCopied] = React.useState(false);\r\n\r\n    const handleCopy = (e: React.MouseEvent) => {\r\n        e.stopPropagation();\r\n        if (value) {\r\n            navigator.clipboard.writeText(value);\r\n            setIsCopied(true);\r\n            setTimeout(() => setIsCopied(false), 2000);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-3 items-center gap-2 group/item\">\r\n            <dt className=\"text-sm text-muted-foreground\">{label}</dt>\r\n            <dd className=\"col-span-2 text-sm font-medium flex items-center justify-between\">\r\n                <span className=\"truncate\">{value || '-'}</span>\r\n                {value && (\r\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7 opacity-0 group-hover/item:opacity-100 transition-opacity\" onClick={handleCopy}>\r\n                        {isCopied ? <Check className=\"h-4 w-4 text-green-500\" /> : <Copy className=\"h-4 w-4 text-muted-foreground\" />}\r\n                    </Button>\r\n                )}\r\n            </dd>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst EmployeeCard = React.memo(function EmployeeCard({ employee, onView, isDragging }: { employee: Employee; onView: (employee: Employee) => void; isDragging?: boolean }) {\r\n  const { attributes, listeners, setNodeRef, transform } = useDraggable({\r\n    id: employee.systemId,\r\n    data: {\r\n      type: 'employee',\r\n      employee,\r\n    },\r\n  });\r\n\r\n  const cardStyle = React.useMemo(() => ({\r\n    transform: CSS.Translate.toString(transform),\r\n    willChange: transform ? 'transform' : undefined,\r\n  }), [transform]);\r\n\r\n  const dragHandleProps = listeners as React.HTMLAttributes<HTMLButtonElement> | undefined;\r\n  const dragProps = dragHandleProps ? { dragHandleProps } : {};\r\n  const dragging = Boolean(isDragging);\r\n\r\n  return (\r\n    <SortableCard\r\n      ref={setNodeRef}\r\n      style={cardStyle}\r\n      {...attributes}\r\n      {...dragProps}\r\n      title={employee.fullName}\r\n      description={employee.jobTitle || 'Chưa có chức vụ'}\r\n      media={\r\n        <Avatar className=\"h-10 w-10 ring-2 ring-background\">\r\n          {employee.avatarUrl && <AvatarImage src={employee.avatarUrl} alt={employee.fullName} />}\r\n          <AvatarFallback className=\"text-xs font-semibold\">{getInitials(employee.fullName)}</AvatarFallback>\r\n        </Avatar>\r\n      }\r\n      actions={\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          className=\"h-8 w-8 opacity-0 transition-opacity group-hover:opacity-100\"\r\n          onClick={(event) => {\r\n            event.stopPropagation();\r\n            onView(employee);\r\n          }}\r\n        >\r\n          <Eye className=\"h-4 w-4\" />\r\n        </Button>\r\n      }\r\n      isDragging={dragging}\r\n      className={cn('touch-none select-none')}\r\n    />\r\n  );\r\n});\r\n\r\nconst DropZone = React.memo(function DropZone({\r\n  id,\r\n  icon: Icon,\r\n  title,\r\n  count,\r\n  children,\r\n  isOver,\r\n  helperText,\r\n}: React.PropsWithChildren<{\r\n  id: string;\r\n  icon: React.ElementType;\r\n  title: string;\r\n  count: number;\r\n  isOver?: boolean;\r\n  helperText?: string;\r\n}>) {\r\n  const { setNodeRef } = useDroppable({\r\n    id,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      className={cn(\r\n        'rounded-2xl border border-dashed border-border/70 bg-background/80 p-3 transition-all',\r\n        'shadow-[inset_0_1px_0_rgba(0,0,0,0.02)]',\r\n        isOver && 'border-primary/60 bg-primary/5 shadow-lg shadow-primary/10'\r\n      )}\r\n    >\r\n      <div className=\"mb-3 flex items-center gap-2 text-xs font-medium text-muted-foreground\">\r\n        <div className=\"flex h-8 w-8 items-center justify-center rounded-xl bg-muted text-muted-foreground\">\r\n          <Icon className=\"h-3.5 w-3.5\" />\r\n        </div>\r\n        <span className=\"flex-1 text-sm text-foreground\">{title}</span>\r\n        <span className=\"rounded-full bg-muted px-2 py-0.5 text-[11px] font-semibold text-foreground\">\r\n          {count}\r\n        </span>\r\n      </div>\r\n      <div className=\"space-y-2\">\r\n        {children || (\r\n          <div className=\"flex min-h-[72px] flex-col items-center justify-center rounded-xl border border-dashed border-border/60 p-4 text-center text-xs text-muted-foreground\">\r\n            <span>{helperText ?? 'Kéo thả để thêm vào nhóm này'}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\nconst DepartmentColumn = React.memo(function DepartmentColumn({\r\n  department,\r\n  employees,\r\n  onViewEmployee,\r\n  activeId,\r\n  overId,\r\n}: {\r\n  department: Department;\r\n  employees: Employee[];\r\n  onViewEmployee: (employee: Employee) => void;\r\n  activeId: string | null;\r\n  overId: string | null;\r\n}) {\r\n  const manager = React.useMemo(\r\n    () => employees.find((employee) => employee.systemId === department.managerId),\r\n    [employees, department.managerId],\r\n  );\r\n  const members = React.useMemo(\r\n    () => employees.filter((employee) => employee.department === department.name && employee.systemId !== department.managerId),\r\n    [employees, department],\r\n  );\r\n\r\n  const managerZoneId = `dept-${department.systemId}-manager`;\r\n  const memberZoneId = `dept-${department.systemId}-members`;\r\n\r\n  return (\r\n    <Card className=\"flex h-full w-[280px] flex-shrink-0 flex-col sm:w-[300px] md:w-[320px]\">\r\n      <CardHeader className=\"border-b bg-muted/40 py-3\">\r\n        <div className=\"flex items-center justify-between gap-2\">\r\n          <div>\r\n            <CardTitle className=\"text-base leading-6\">{department.name}</CardTitle>\r\n            <CardDescription>{employees.length} thành viên</CardDescription>\r\n          </div>\r\n          <span className=\"rounded-full bg-background px-3 py-1 text-xs font-semibold text-primary\">\r\n            {manager ? 'Đang có trưởng phòng' : 'Chưa có trưởng phòng'}\r\n          </span>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"flex flex-1 flex-col overflow-hidden px-3 py-3\">\r\n        <ScrollArea className=\"flex-1\">\r\n          <div className=\"space-y-3 pr-2\">\r\n            <DropZone\r\n              id={managerZoneId}\r\n              icon={Crown}\r\n              title=\"Trưởng phòng\"\r\n              count={manager ? 1 : 0}\r\n              isOver={overId === managerZoneId}\r\n              helperText=\"Kéo nhân viên bất kỳ để bổ nhiệm trưởng phòng\"\r\n            >\r\n              {manager && (\r\n                <EmployeeCard\r\n                  employee={manager}\r\n                  onView={onViewEmployee}\r\n                  isDragging={activeId === manager.systemId}\r\n                />\r\n              )}\r\n            </DropZone>\r\n            <DropZone\r\n              id={memberZoneId}\r\n              icon={Users}\r\n              title=\"Nhân viên\"\r\n              count={members.length}\r\n              isOver={overId === memberZoneId}\r\n              helperText=\"Thả nhân viên vào đây để thêm vào phòng ban\"\r\n            >\r\n              {members.map((emp) => (\r\n                <EmployeeCard\r\n                  key={emp.systemId}\r\n                  employee={emp}\r\n                  onView={onViewEmployee}\r\n                  isDragging={activeId === emp.systemId}\r\n                />\r\n              ))}\r\n            </DropZone>\r\n          </div>\r\n        </ScrollArea>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nconst UnassignedColumn = React.memo(function UnassignedColumn({\r\n  employees,\r\n  onViewEmployee,\r\n  activeId,\r\n  overId,\r\n}: {\r\n  employees: Employee[];\r\n  onViewEmployee: (employee: Employee) => void;\r\n  activeId: string | null;\r\n  overId: string | null;\r\n}) {\r\n  const [search, setSearch] = React.useState('');\r\n  const filteredEmployees = React.useMemo(\r\n    () => (search ? employees.filter((employee) => employee.fullName.toLowerCase().includes(search.toLowerCase())) : employees),\r\n    [employees, search],\r\n  );\r\n\r\n  const unassignedZoneId = 'unassigned';\r\n  const { setNodeRef, isOver } = useDroppable({ id: unassignedZoneId });\r\n\r\n  return (\r\n    <Card className=\"flex h-full w-[280px] flex-shrink-0 flex-col bg-gradient-to-br from-orange-50/60 to-card dark:from-orange-950/20 dark:to-card sm:w-[300px] md:w-[320px]\">\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"mb-2 flex items-center justify-between\">\r\n          <CardTitle className=\"text-base\">Chưa có phòng ban</CardTitle>\r\n          <span className=\"rounded-full bg-orange-500 px-2 py-0.5 text-xs font-semibold text-white\">\r\n            {employees.length}\r\n          </span>\r\n        </div>\r\n        <CardDescription className=\"text-xs\">\r\n          Kéo nhân viên sang phòng ban phù hợp hoặc sử dụng ô tìm kiếm để lọc nhanh.\r\n        </CardDescription>\r\n        <div className=\"relative pt-3\">\r\n          <Search className=\"absolute left-2.5 top-[22px] h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\r\n          <Input\r\n            placeholder=\"Tìm nhân viên...\"\r\n            className=\"h-9 w-full pl-8\"\r\n            value={search}\r\n            onChange={(event) => setSearch(event.target.value)}\r\n          />\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"flex flex-1 flex-col overflow-hidden px-3 py-3\">\r\n        <div\r\n          ref={setNodeRef}\r\n          className={cn(\r\n            'flex-1 rounded-2xl border border-dashed border-orange-200/80 bg-background/70 p-3 transition-all dark:border-orange-900/50',\r\n            isOver && 'border-primary/50 bg-primary/5 shadow-lg shadow-primary/10'\r\n          )}\r\n        >\r\n          <ScrollArea className=\"h-full\" style={{ scrollbarGutter: 'stable' }}>\r\n            <div className=\"space-y-2 pr-2\">\r\n              {filteredEmployees.length === 0 ? (\r\n                <div className=\"rounded-xl border border-dashed border-border/60 bg-background/70 px-4 py-8 text-center text-sm text-muted-foreground\">\r\n                  {search ? 'Không tìm thấy nhân viên' : 'Tất cả nhân viên đã có phòng ban'}\r\n                </div>\r\n              ) : (\r\n                filteredEmployees.map((emp) => (\r\n                  <EmployeeCard\r\n                    key={emp.systemId}\r\n                    employee={emp}\r\n                    onView={onViewEmployee}\r\n                    isDragging={activeId === emp.systemId}\r\n                  />\r\n                ))\r\n              )}\r\n            </div>\r\n          </ScrollArea>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nconst ManageDepartmentsDialog = React.memo(function ManageDepartmentsDialog({ isOpen, onOpenChange }: { isOpen: boolean; onOpenChange: (open: boolean) => void; }) {\r\n    const { data } = useAllDepartments();\r\n    const { create, update, remove } = useDepartmentMutations();\r\n    const [editingDepartment, setEditingDepartment] = React.useState<Department | null>(null);\r\n\r\n    const handleFormSubmit = (values: DepartmentFormValues) => {\r\n        if (editingDepartment) {\r\n            update.mutate({ systemId: editingDepartment.systemId, data: { ...editingDepartment, ...values } });\r\n        } else {\r\n            create.mutate(values as Omit<Department, 'systemId'>);\r\n        }\r\n        setEditingDepartment(null);\r\n    };\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"sm:max-w-2xl\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Quản lý Phòng ban</DialogTitle>\r\n                </DialogHeader>\r\n                <div className=\"grid grid-cols-2 gap-6 pt-4\">\r\n                    <div>\r\n                         <h4 className=\"font-semibold mb-2\">{editingDepartment ? 'Chỉnh sửa' : 'Thêm mới'}</h4>\r\n                        <React.Fragment key={editingDepartment?.systemId || 'new'}>\r\n                          <DepartmentForm\r\n                              initialData={editingDepartment ? { ...editingDepartment, jobTitleIds: [] } : null}\r\n                              onSubmit={handleFormSubmit}\r\n                          />\r\n                        </React.Fragment>\r\n                        <DialogFooter className=\"mt-4\">\r\n                           {editingDepartment && <Button variant=\"outline\" onClick={() => setEditingDepartment(null)}>Hủy sửa</Button>}\r\n                            <Button type=\"submit\" form=\"department-form\">Lưu</Button>\r\n                        </DialogFooter>\r\n                    </div>\r\n                    <div>\r\n                         <h4 className=\"font-semibold mb-2\">Danh sách phòng ban</h4>\r\n                        <ScrollArea className=\"h-72 border rounded-md\">\r\n                            {data.map(dep => (\r\n                                <div key={dep.systemId} className=\"flex items-center p-2 border-b\">\r\n                                    <span className=\"flex-grow\">{dep.name}</span>\r\n                                    <Button variant=\"ghost\" size=\"sm\" onClick={() => setEditingDepartment(dep)}>Sửa</Button>\r\n                                    <Button variant=\"ghost\" size=\"sm\" className=\"text-destructive\" onClick={() => remove.mutate(dep.systemId)}>Xóa</Button>\r\n                                </div>\r\n                            ))}\r\n                        </ScrollArea>\r\n                    </div>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n});\r\n\r\nconst ManageJobTitlesDialog = React.memo(function ManageJobTitlesDialog({ isOpen, onOpenChange }: { isOpen: boolean, onOpenChange: (open: boolean) => void }) {\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"sm:max-w-4xl\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Quản lý Chức vụ</DialogTitle>\r\n                    <DialogDescription>Thêm, sửa, xóa các chức vụ trong công ty.</DialogDescription>\r\n                </DialogHeader>\r\n                <JobTitlesPageContent />\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n});\r\n\r\n\r\nexport function DepartmentsPage() {\r\n  const { data: departments } = useAllDepartments();\r\n  const { data: employees } = useAllEmployees();\r\n  const { update: updateDepartmentMutation } = useDepartmentMutations();\r\n  const { update: updateEmployeeMutation } = useEmployeeMutations();\r\n  const router = useRouter();\r\n\r\n  const [isDeptFormOpen, setIsDeptFormOpen] = React.useState(false);\r\n  const [isJobTitleFormOpen, setIsJobTitleFormOpen] = React.useState(false);\r\n  const [selectedEmployee, setSelectedEmployee] = React.useState<Employee | null>(null);\r\n  const [isDetailDialogOpen, setIsDetailDialogOpen] = React.useState(false);\r\n\r\n  // DND-Kit state\r\n  const [activeId, setActiveId] = React.useState<string | null>(null);\r\n  const [overId, setOverId] = React.useState<string | null>(null);\r\n  const [activeEmployee, setActiveEmployee] = React.useState<Employee | null>(null);\r\n\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor, {\r\n      activationConstraint: { distance: 8 }  // Prevent accidental drags\r\n    })\r\n  );\r\n\r\n  const unassignedEmployees = React.useMemo(() => employees.filter(e => !e.department), [employees]);\r\n  \r\n  // Memoize stats to prevent re-calculation\r\n  const stats = React.useMemo(() => ({\r\n    totalDepartments: departments.length,\r\n    totalEmployees: employees.length,\r\n    assigned: employees.length - unassignedEmployees.length,\r\n    unassigned: unassignedEmployees.length\r\n  }), [departments.length, employees.length, unassignedEmployees.length]);\r\n  \r\n  // Memoized callbacks to prevent re-renders\r\n  const handleViewEmployee = React.useCallback((employee: Employee) => {\r\n    setSelectedEmployee(employee);\r\n    setIsDetailDialogOpen(true);\r\n  }, []);\r\n\r\n  // Wrapper functions to maintain backward compatible API\r\n  const updateDepartment = React.useCallback((systemId: string, data: Department) => {\r\n    updateDepartmentMutation.mutate({ systemId, data });\r\n  }, [updateDepartmentMutation]);\r\n\r\n  const updateEmployee = React.useCallback((systemId: string, data: Partial<Employee>) => {\r\n    updateEmployeeMutation.mutate({ systemId, ...data });\r\n  }, [updateEmployeeMutation]);\r\n\r\n  const handleDrop = React.useCallback((employeeId: string, departmentId: string, isManager: boolean) => {\r\n    const employee = employees.find(e => e.systemId === employeeId);\r\n    const department = departments.find(d => d.systemId === departmentId);\r\n    if (!employee || !department) return;\r\n\r\n    // ✅ Validation: Check if employee is already manager elsewhere\r\n    const isManagerElsewhere = departments.find(d => \r\n      d.managerId === employee.systemId && d.systemId !== departmentId\r\n    );\r\n    \r\n    if (isManager && isManagerElsewhere) {\r\n      toast.warning(\"Nhân viên đã là trưởng phòng\", {\r\n        description: `${employee.fullName} đang quản lý ${isManagerElsewhere.name}. Hãy gỡ vai trò trưởng phòng cũ trước.`,\r\n        action: {\r\n          label: \"Gỡ và chuyển\",\r\n          onClick: () => {\r\n            // Demote old position\r\n            updateDepartment(isManagerElsewhere.systemId, { \r\n              ...isManagerElsewhere, \r\n              managerId: undefined \r\n            });\r\n            // Perform the drop\r\n            performActualDrop(employee, department, isManager, employeeId, departmentId);\r\n            toast.info(\"Đã chuyển vai trò\", {\r\n              description: `${employee.fullName} không còn quản lý ${isManagerElsewhere.name}`\r\n            });\r\n          }\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    performActualDrop(employee, department, isManager, employeeId, departmentId);\r\n  }, [employees, departments, updateEmployee, updateDepartment]);\r\n\r\n  const performActualDrop = (employee: any, department: any, isManager: boolean, employeeId: string, departmentId: string) => {\r\n    // Update employee's department\r\n    updateEmployee(employee.systemId, { ...employee, department: department.name } as any);\r\n\r\n    // Update manager status\r\n    if (isManager) {\r\n        // If there was an old manager, demote them\r\n        const oldManager = employees.find(e => e.systemId === department.managerId);\r\n        if(oldManager && oldManager.systemId !== employeeId) {\r\n            updateEmployee(oldManager.systemId, {...oldManager, jobTitle: 'Nhân viên'} as any);\r\n            toast.info(\"Đã hạ chức trưởng phòng cũ\", {\r\n              description: `${oldManager.fullName} không còn là trưởng phòng ${department.name}`\r\n            });\r\n        }\r\n        updateDepartment(departmentId as any, { ...department, managerId: employee.systemId });\r\n        updateEmployee(employeeId as any, { ...employee, department: department.name, jobTitle: 'Trưởng phòng' } as any);\r\n        toast.success(\"Đã bổ nhiệm trưởng phòng\", {\r\n          description: `${employee.fullName} là trưởng phòng ${department.name}`\r\n        });\r\n    } else {\r\n        // If the dropped employee was the manager, unset them\r\n        if (department.managerId === employee.systemId) {\r\n            updateDepartment(departmentId as any, { ...department, managerId: undefined });\r\n        }\r\n        toast.success(\"Đã thêm nhân viên\", {\r\n          description: `${employee.fullName} vào ${department.name}`\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleUnassign = React.useCallback((employeeId: string) => {\r\n    const employee = employees.find(e => e.systemId === employeeId);\r\n    if (!employee) return;\r\n    \r\n    // Check if they are a manager and unset them\r\n    const managedDept = departments.find(d => d.managerId === employee.systemId);\r\n    if(managedDept) {\r\n        updateDepartment(managedDept.systemId, { ...managedDept, managerId: undefined });\r\n        toast.info(\"Đã gỡ chức trưởng phòng\", {\r\n          description: `${employee.fullName} không còn quản lý ${managedDept.name}`\r\n        });\r\n    }\r\n\r\n    updateEmployee(employee.systemId, { ...employee, department: undefined });\r\n    toast.success(\"Đã gỡ phòng ban\", {\r\n      description: `${employee.fullName} chuyển về chưa có phòng ban`\r\n    });\r\n  }, [employees, departments, updateEmployee, updateDepartment]);\r\n\r\n  const headerActions = React.useMemo(() => [\r\n    <SettingsActionButton \r\n      key=\"manage-job-titles\"\r\n      variant=\"outline\" \r\n      onClick={() => setIsJobTitleFormOpen(true)}\r\n    >\r\n      Quản lý Chức vụ\r\n    </SettingsActionButton>,\r\n    <SettingsActionButton \r\n      key=\"manage-departments\"\r\n      variant=\"outline\" \r\n      onClick={() => setIsDeptFormOpen(true)}\r\n    >\r\n      Quản lý Phòng ban\r\n    </SettingsActionButton>,\r\n    <SettingsActionButton \r\n      key=\"view-org-chart\"\r\n      onClick={() => router.push('/departments/organization-chart')}\r\n    >\r\n      <Users className=\"h-4 w-4\" />\r\n      Sơ đồ tổ chức\r\n    </SettingsActionButton>\r\n  ], [router]);\r\n\r\n  useSettingsPageHeader({\r\n    title: 'Quản lý Phòng ban',\r\n    breadcrumb: [\r\n      { label: 'Phòng ban', href: '/departments', isCurrent: true }\r\n    ],\r\n    actions: headerActions,\r\n  });\r\n\r\n  const SimpleDetailField = ({ label, value }: { label: string; value?: React.ReactNode }) => (\r\n    <div className=\"grid grid-cols-3 items-center gap-2\">\r\n      <dt className=\"text-sm text-muted-foreground\">{label}</dt>\r\n      <dd className=\"col-span-2 text-sm font-medium\">{value || '-'}</dd>\r\n    </div>\r\n  );\r\n\r\n  // DND-Kit event handlers\r\n  const handleDragStart = React.useCallback((event: DragStartEvent) => {\r\n    setActiveId(event.active.id as string);\r\n    const emp = employees.find(e => e.systemId === event.active.id);\r\n    setActiveEmployee(emp || null);\r\n  }, [employees]);\r\n\r\n  const handleDragOver = React.useCallback((event: DragOverEvent) => {\r\n    setOverId(event.over?.id as string | null);\r\n  }, []);\r\n\r\n  const handleDragEnd = React.useCallback((event: DragEndEvent) => {\r\n    const { active, over } = event;\r\n    \r\n    if (!over) {\r\n      setActiveId(null);\r\n      setOverId(null);\r\n      setActiveEmployee(null);\r\n      return;\r\n    }\r\n\r\n    const employeeId = active.id as string;\r\n    const zoneId = over.id as string;\r\n\r\n    // Parse zone ID: 'unassigned' or 'dept-{id}-manager' or 'dept-{id}-members'\r\n    if (zoneId === 'unassigned') {\r\n      handleUnassign(employeeId);\r\n    } else if (zoneId.startsWith('dept-')) {\r\n      const parts = zoneId.split('-');\r\n      const deptId = parts[1];\r\n      const isManager = parts[2] === 'manager';\r\n      handleDrop(employeeId, deptId, isManager);\r\n    }\r\n\r\n    setActiveId(null);\r\n    setOverId(null);\r\n    setActiveEmployee(null);\r\n  }, [handleUnassign, handleDrop]);\r\n  \r\n  return (\r\n    <DndContext\r\n      sensors={sensors}\r\n      collisionDetection={closestCorners}\r\n      onDragStart={handleDragStart}\r\n      onDragOver={handleDragOver}\r\n      onDragEnd={handleDragEnd}\r\n    >\r\n      <div className=\"h-full flex flex-col gap-4 p-4 md:p-0\">\r\n        {/* Mobile: Stats Summary */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 lg:hidden\">\r\n          <div className=\"bg-card rounded-lg border border-border p-3 shadow-sm\">\r\n            <div className=\"text-xs text-muted-foreground mb-1\">Tổng phòng ban</div>\r\n            <div className=\"text-2xl font-bold\">{stats.totalDepartments}</div>\r\n          </div>\r\n          <div className=\"bg-card rounded-lg border border-border p-3 shadow-sm\">\r\n            <div className=\"text-xs text-muted-foreground mb-1\">Tổng nhân viên</div>\r\n            <div className=\"text-2xl font-bold\">{stats.totalEmployees}</div>\r\n          </div>\r\n          <div className=\"bg-card rounded-lg border border-border p-3 shadow-sm\">\r\n            <div className=\"text-xs text-muted-foreground mb-1\">Có phòng ban</div>\r\n            <div className=\"text-2xl font-bold text-green-600\">{stats.assigned}</div>\r\n          </div>\r\n          <div className=\"bg-card rounded-lg border border-border p-3 shadow-sm\">\r\n            <div className=\"text-xs text-muted-foreground mb-1\">Chưa phân bổ</div>\r\n            <div className=\"text-2xl font-bold text-orange-600\">{stats.unassigned}</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Desktop & Mobile: Columns */}\r\n        <div \r\n          className=\"flex-grow flex items-stretch gap-3 md:gap-4 pb-4 -mx-4 px-4 md:mx-0 md:px-0\"\r\n          style={{\r\n            overflowX: 'scroll',  // Force horizontal scrollbar always visible\r\n            scrollbarWidth: 'thin',  // Firefox\r\n          }}\r\n        >\r\n          <UnassignedColumn \r\n            employees={unassignedEmployees} \r\n            onViewEmployee={handleViewEmployee}\r\n            activeId={activeId}\r\n            overId={overId}\r\n          />\r\n          {departments.map(dept => {\r\n            const deptEmployees = employees.filter(e => e.department === dept.name);\r\n            return (\r\n              <React.Fragment key={dept.systemId}>\r\n                <DepartmentColumn \r\n                  department={dept} \r\n                  employees={deptEmployees} \r\n                  onViewEmployee={handleViewEmployee}\r\n                  activeId={activeId}\r\n                  overId={overId}\r\n                />\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* DragOverlay for visual feedback during drag */}\r\n      <DragOverlay>\r\n        {activeEmployee && (\r\n          <div \r\n            className=\"cursor-grabbing rotate-3 opacity-90\"\r\n            style={{ pointerEvents: 'none' }}  // Prevent interference with drop detection\r\n          >\r\n            <EmployeeCard \r\n              employee={activeEmployee}\r\n              onView={() => {}}\r\n              isDragging={false}\r\n            />\r\n          </div>\r\n        )}\r\n      </DragOverlay>\r\n\r\n      <ManageDepartmentsDialog isOpen={isDeptFormOpen} onOpenChange={setIsDeptFormOpen} />\r\n      <ManageJobTitlesDialog isOpen={isJobTitleFormOpen} onOpenChange={setIsJobTitleFormOpen} />\r\n\r\n      <Dialog open={isDetailDialogOpen} onOpenChange={setIsDetailDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-md\">\r\n            <DialogHeader>\r\n                <DialogTitle>Thông tin nhân viên</DialogTitle>\r\n            </DialogHeader>\r\n            {selectedEmployee && (\r\n                <div className=\"py-4 space-y-4\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Avatar className=\"h-16 w-16\">\r\n                            {selectedEmployee.avatarUrl && <AvatarImage src={selectedEmployee.avatarUrl} alt={selectedEmployee.fullName} />}\r\n                            <AvatarFallback className=\"text-xl\">{getInitials(selectedEmployee.fullName)}</AvatarFallback>\r\n                        </Avatar>\r\n                        <div>\r\n                            <p className=\"font-semibold text-lg\">{selectedEmployee.fullName}</p>\r\n                            <p className=\"text-sm text-muted-foreground\">{selectedEmployee.jobTitle}</p>\r\n                        </div>\r\n                    </div>\r\n                    <Separator />\r\n                    <div className=\"text-sm space-y-2\">\r\n                        <CopyableDetailField label=\"Mã NV\" value={selectedEmployee.id} />\r\n                        <CopyableDetailField label=\"SĐT\" value={selectedEmployee.phone} />\r\n                        <CopyableDetailField label=\"Email\" value={selectedEmployee.workEmail} />\r\n                        <SimpleDetailField label=\"Phòng ban\" value={selectedEmployee.department} />\r\n                        <SimpleDetailField label=\"Ngày vào làm\" value={formatDate(selectedEmployee.hireDate)} />\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <DialogFooter>\r\n                <Button variant=\"outline\" onClick={() => setIsDetailDialogOpen(false)}>Đóng</Button>\r\n                <Button onClick={() => {\r\n                    setIsDetailDialogOpen(false);\r\n                    router.push(`/employees/${selectedEmployee!.systemId}`);\r\n                }}>Xem chi tiết</Button>\r\n            </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </DndContext>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4951, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/app/%28authenticated%29/departments/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { DepartmentsPage } from '@/features/settings/departments/page'\r\nexport default DepartmentsPage\r\n"],"names":[],"mappings":";;;;AACA;AADA;;uCAEe,kKAAe"}}]
}