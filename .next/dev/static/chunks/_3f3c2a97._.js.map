{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/id-types.ts"],"sourcesContent":["/**\r\n * Type-safe ID System\r\n * \r\n * Prevents mixing systemId with business ID at compile time\r\n */\r\n\r\n// Branded types for type safety\r\nexport type SystemId = string & { readonly __brand: 'SystemId' };\r\nexport type BusinessId = string & { readonly __brand: 'BusinessId' };\r\n\r\n/**\r\n * Create a SystemId from a string\r\n * Use this when you know for sure it's a systemId\r\n */\r\nexport function asSystemId(id: string): SystemId {\r\n  return id as SystemId;\r\n}\r\n\r\n/**\r\n * Create a BusinessId from a string\r\n * Use this when you know for sure it's a business ID\r\n */\r\nexport function asBusinessId(id: string): BusinessId {\r\n  return id as BusinessId;\r\n}\r\n\r\n/**\r\n * Check if a string is a valid systemId format\r\n */\r\nexport function isSystemIdFormat(id: string): boolean {\r\n  // SystemId: 8 digits + prefix (e.g., NV00000001, VOUCHER00000123)\r\n  return /^[A-Z]+\\d{8}$/.test(id);\r\n}\r\n\r\n/**\r\n * Check if a string is a valid business ID format\r\n */\r\nexport function isBusinessIdFormat(id: string): boolean {\r\n  // Business ID: shorter, variable length (e.g., NV001, PT000001)\r\n  return /^[A-Z]+\\d{3,6}$/.test(id);\r\n}\r\n\r\n/**\r\n * Safely convert unknown ID to proper type\r\n */\r\nexport function parseId(id: string): { type: 'system' | 'business'; value: SystemId | BusinessId } {\r\n  if (isSystemIdFormat(id)) {\r\n    return { type: 'system', value: asSystemId(id) };\r\n  }\r\n  if (isBusinessIdFormat(id)) {\r\n    return { type: 'business', value: asBusinessId(id) };\r\n  }\r\n  throw new Error(`Invalid ID format: ${id}`);\r\n}\r\n\r\n/**\r\n * ID Pair - Always keep systemId and businessId together\r\n */\r\nexport interface IDPair {\r\n  systemId: SystemId;\r\n  businessId: BusinessId;\r\n}\r\n\r\n/**\r\n * Entity with dual IDs\r\n */\r\nexport interface DualIDEntity {\r\n  systemId: SystemId;\r\n  id: BusinessId;\r\n}\r\n\r\n/**\r\n * Store methods with type-safe IDs\r\n */\r\nexport interface TypeSafeStore<T extends DualIDEntity> {\r\n  /** Find by systemId (for queries, relationships) */\r\n  findBySystemId(systemId: SystemId): T | null;\r\n  \r\n  /** Find by business ID (for user input, display) */\r\n  findByBusinessId(businessId: BusinessId): T | null;\r\n  \r\n  /** Update by systemId (always use systemId for updates) */\r\n  updateBySystemId(systemId: SystemId, updates: Partial<T>): void;\r\n  \r\n  /** Delete by systemId (always use systemId for deletes) */\r\n  deleteBySystemId(systemId: SystemId): void;\r\n}\r\n\r\n/**\r\n * Route params with type-safe IDs\r\n */\r\nexport interface RouteParams {\r\n  systemId?: SystemId;\r\n  id?: BusinessId;\r\n}\r\n\r\n/**\r\n * Link builder - always uses systemId\r\n */\r\nexport function buildEntityLink(path: string, entity: DualIDEntity): string {\r\n  return path.replace(':systemId', entity.systemId);\r\n}\r\n\r\n/**\r\n * Display ID - always uses business ID\r\n */\r\nexport function getDisplayId(entity: DualIDEntity): string {\r\n  return entity.id;\r\n}\r\n\r\n/**\r\n * Runtime guard: ensures a string is valid SystemId format and casts it\r\n * Logs warning if format is invalid\r\n */\r\nexport function ensureSystemId(id: string, context?: string): SystemId {\r\n  if (!isSystemIdFormat(id)) {\r\n    console.warn(`[ensureSystemId] Invalid SystemId format: \"${id}\"${context ? ` in ${context}` : ''}`);\r\n  }\r\n  return asSystemId(id);\r\n}\r\n\r\n/**\r\n * Runtime guard: ensures a string is valid BusinessId format and casts it\r\n * Logs warning if format is invalid\r\n */\r\nexport function ensureBusinessId(id: string, context?: string): BusinessId {\r\n  if (!isBusinessIdFormat(id)) {\r\n    console.warn(`[ensureBusinessId] Invalid BusinessId format: \"${id}\"${context ? ` in ${context}` : ''}`);\r\n  }\r\n  return asBusinessId(id);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC,GAED,gCAAgC;;;;;;;;;;;;;;;;;;;;;AAQzB,SAAS,WAAW,EAAU;IACnC,OAAO;AACT;AAMO,SAAS,aAAa,EAAU;IACrC,OAAO;AACT;AAKO,SAAS,iBAAiB,EAAU;IACzC,kEAAkE;IAClE,OAAO,gBAAgB,IAAI,CAAC;AAC9B;AAKO,SAAS,mBAAmB,EAAU;IAC3C,gEAAgE;IAChE,OAAO,kBAAkB,IAAI,CAAC;AAChC;AAKO,SAAS,QAAQ,EAAU;IAChC,IAAI,iBAAiB,KAAK;QACxB,OAAO;YAAE,MAAM;YAAU,OAAO,WAAW;QAAI;IACjD;IACA,IAAI,mBAAmB,KAAK;QAC1B,OAAO;YAAE,MAAM;YAAY,OAAO,aAAa;QAAI;IACrD;IACA,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,IAAI;AAC5C;AA8CO,SAAS,gBAAgB,IAAY,EAAE,MAAoB;IAChE,OAAO,KAAK,OAAO,CAAC,aAAa,OAAO,QAAQ;AAClD;AAKO,SAAS,aAAa,MAAoB;IAC/C,OAAO,OAAO,EAAE;AAClB;AAMO,SAAS,eAAe,EAAU,EAAE,OAAgB;IACzD,IAAI,CAAC,iBAAiB,KAAK;QACzB,QAAQ,IAAI,CAAC,CAAC,2CAA2C,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI;IACpG;IACA,OAAO,WAAW;AACpB;AAMO,SAAS,iBAAiB,EAAU,EAAE,OAAgB;IAC3D,IAAI,CAAC,mBAAmB,KAAK;QAC3B,QAAQ,IAAI,CAAC,CAAC,+CAA+C,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI;IACxG;IACA,OAAO,aAAa;AACtB"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border border-border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-h3 font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,0EACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/tabs.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-9 items-center justify-center rounded-md bg-muted p-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium text-muted-foreground ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,2KAAkB;QACjB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,uEACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,6ZACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Table = React.forwardRef<\r\n  HTMLTableElement,\r\n  React.HTMLAttributes<HTMLTableElement>\r\n>(({ className, ...props }, ref) => (\r\n    <table\r\n      ref={ref}\r\n      className={cn(\"w-full caption-bottom text-sm\", className)}\r\n      {...props}\r\n    />\r\n))\r\nTable.displayName = \"Table\"\r\n\r\nconst TableHeader = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <thead ref={ref} className={cn(\"[&_tr]:border-b [&_tr]:border-border\", className)} {...props} />\r\n))\r\nTableHeader.displayName = \"TableHeader\"\r\n\r\nconst TableBody = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tbody\r\n    ref={ref}\r\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableBody.displayName = \"TableBody\"\r\n\r\nconst TableFooter = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tfoot\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-t border-border bg-muted/50 font-medium [&>tr]:last:border-b-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableFooter.displayName = \"TableFooter\"\r\n\r\nconst TableRow = React.forwardRef<\r\n  HTMLTableRowElement,\r\n  React.HTMLAttributes<HTMLTableRowElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tr\r\n    ref={ref}\r\n    className={cn(\r\n      \"group border-b border-border transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableRow.displayName = \"TableRow\"\r\n\r\nconst TableHead = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.ThHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <th\r\n    ref={ref}\r\n    className={cn(\r\n      \"h-9 px-4 text-left align-middle font-medium text-foreground [&:has([role=checkbox])]:px-3 [&:has([role=checkbox])]:w-12 [&:has([role=checkbox])]:text-center whitespace-nowrap\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableHead.displayName = \"TableHead\"\r\n\r\nconst TableCell = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.TdHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <td\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-4 py-1 align-middle whitespace-nowrap [&:has([role=checkbox])]:px-3 [&:has([role=checkbox])]:w-12 [&:has([role=checkbox])]:text-center\", \r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableCell.displayName = \"TableCell\"\r\n\r\nconst TableCaption = React.forwardRef<\r\n  HTMLTableCaptionElement,\r\n  React.HTMLAttributes<HTMLTableCaptionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <caption\r\n    ref={ref}\r\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableCaption.displayName = \"TableCaption\"\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,wCAAwC;QAAa,GAAG,KAAK;;;;;;;AAE9F,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,yEACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,mGACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,kLACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,6IACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGb,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SimpleSettingsTable.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"../ui/table\";\r\nimport type { ColumnDef } from \"../data-table/types\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\ninterface SimpleSettingsTableProps<TData extends { systemId: string }> {\r\n  data: TData[];\r\n  columns: ColumnDef<TData>[];\r\n  emptyTitle: string;\r\n  emptyDescription?: string;\r\n  emptyAction?: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport function SimpleSettingsTable<TData extends { systemId: string }>(\r\n  props: SimpleSettingsTableProps<TData>\r\n) {\r\n  const { data, columns, emptyTitle, emptyDescription, emptyAction, className } = props;\r\n\r\n  const renderedColumns = React.useMemo(() => columns.filter(Boolean), [columns]);\r\n  const colSpan = Math.max(renderedColumns.length, 1);\r\n\r\n  const renderHeader = (column: ColumnDef<TData>) => {\r\n    if (typeof column.header === \"function\") {\r\n      return column.header({\r\n        isAllPageRowsSelected: false,\r\n        isSomePageRowsSelected: false,\r\n        onToggleAll: () => {},\r\n        setSorting: () => {},\r\n      });\r\n    }\r\n    return column.header;\r\n  };\r\n\r\n  const renderCell = (column: ColumnDef<TData>, row: TData) =>\r\n    column.cell({\r\n      row,\r\n      isSelected: false,\r\n      isExpanded: false,\r\n      onToggleSelect: () => {},\r\n      onToggleExpand: () => {},\r\n    });\r\n\r\n  return (\r\n    <div className={cn(\"overflow-x-auto\", className)}>\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            {renderedColumns.map((column) => (\r\n              <TableHead key={column.id} style={column.size ? { width: column.size } : undefined}>\r\n                {renderHeader(column)}\r\n              </TableHead>\r\n            ))}\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {data.length === 0 ? (\r\n            <TableRow>\r\n              <TableCell colSpan={colSpan} className=\"h-24 text-center\">\r\n                <div className=\"space-y-2\">\r\n                  <p className=\"font-medium text-muted-foreground\">{emptyTitle}</p>\r\n                  {emptyDescription ? (\r\n                    <p className=\"text-sm text-muted-foreground\">{emptyDescription}</p>\r\n                  ) : null}\r\n                  {emptyAction}\r\n                </div>\r\n              </TableCell>\r\n            </TableRow>\r\n          ) : (\r\n            data.map((item) => (\r\n              <TableRow key={item.systemId}>\r\n                {renderedColumns.map((column) => (\r\n                  <TableCell key={column.id}>{renderCell(column, item)}</TableCell>\r\n                ))}\r\n              </TableRow>\r\n            ))\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AASA;;;;;;AAWO,SAAS,oBACd,KAAsC;;IAEtC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,gBAAgB,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG;IAEhF,MAAM,kBAAkB,wKAAa;wDAAC,IAAM,QAAQ,MAAM,CAAC;uDAAU;QAAC;KAAQ;IAC9E,MAAM,UAAU,KAAK,GAAG,CAAC,gBAAgB,MAAM,EAAE;IAEjD,MAAM,eAAe,CAAC;QACpB,IAAI,OAAO,OAAO,MAAM,KAAK,YAAY;YACvC,OAAO,OAAO,MAAM,CAAC;gBACnB,uBAAuB;gBACvB,wBAAwB;gBACxB,aAAa,KAAO;gBACpB,YAAY,KAAO;YACrB;QACF;QACA,OAAO,OAAO,MAAM;IACtB;IAEA,MAAM,aAAa,CAAC,QAA0B,MAC5C,OAAO,IAAI,CAAC;YACV;YACA,YAAY;YACZ,YAAY;YACZ,gBAAgB,KAAO;YACvB,gBAAgB,KAAO;QACzB;IAEF,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,mBAAmB;kBACpC,cAAA,6LAAC,sIAAK;;8BACJ,6LAAC,4IAAW;8BACV,cAAA,6LAAC,yIAAQ;kCACN,gBAAgB,GAAG,CAAC,CAAC,uBACpB,6LAAC,0IAAS;gCAAiB,OAAO,OAAO,IAAI,GAAG;oCAAE,OAAO,OAAO,IAAI;gCAAC,IAAI;0CACtE,aAAa;+BADA,OAAO,EAAE;;;;;;;;;;;;;;;8BAM/B,6LAAC,0IAAS;8BACP,KAAK,MAAM,KAAK,kBACf,6LAAC,yIAAQ;kCACP,cAAA,6LAAC,0IAAS;4BAAC,SAAS;4BAAS,WAAU;sCACrC,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAqC;;;;;;oCACjD,iCACC,6LAAC;wCAAE,WAAU;kDAAiC;;;;;+CAC5C;oCACH;;;;;;;;;;;;;;;;+BAKP,KAAK,GAAG,CAAC,CAAC,qBACR,6LAAC,yIAAQ;sCACN,gBAAgB,GAAG,CAAC,CAAC,uBACpB,6LAAC,0IAAS;8CAAkB,WAAW,QAAQ;mCAA/B,OAAO,EAAE;;;;;2BAFd,KAAK,QAAQ;;;;;;;;;;;;;;;;;;;;;AAW1C;GAnEgB;KAAA"}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\ntype SwitchProps = Omit<\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>,\r\n  \"checked\" | \"defaultChecked\"\r\n> & {\r\n  checked?: boolean | undefined\r\n  defaultChecked?: boolean | undefined\r\n}\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  SwitchProps\r\n>(({ className, checked, defaultChecked, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n      className\r\n    )}\r\n    {...props}\r\n    {...(checked !== undefined ? { checked } : {})}\r\n    {...(defaultChecked !== undefined ? { defaultChecked } : {})}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAeA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,OAAO,EAAE,oBACnD,6LAAC,6KAAqB;QACpB,WAAW,IAAA,qHAAE,EACX,sXACA;QAED,GAAG,KAAK;QACR,GAAI,YAAY,YAAY;YAAE;QAAQ,IAAI,CAAC,CAAC;QAC5C,GAAI,mBAAmB,YAAY;YAAE;QAAe,IAAI,CAAC,CAAC;QAC3D,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,qHAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/seed-audit.ts"],"sourcesContent":["import { asSystemId, type SystemId } from './id-types';\r\n\r\nexport const DEFAULT_SEED_AUTHOR = asSystemId('EMP000001');\r\n\r\ntype SeedAuditInput = {\r\n  createdAt: string;\r\n  createdBy?: SystemId;\r\n  updatedAt?: string;\r\n  updatedBy?: SystemId;\r\n};\r\n\r\nexport const buildSeedAuditFields = ({\r\n  createdAt,\r\n  createdBy = DEFAULT_SEED_AUTHOR,\r\n  updatedAt,\r\n  updatedBy,\r\n}: SeedAuditInput) => ({\r\n  createdAt,\r\n  updatedAt: updatedAt ?? createdAt,\r\n  createdBy,\r\n  updatedBy: updatedBy ?? createdBy,\r\n});\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,sBAAsB,IAAA,mIAAU,EAAC;AASvC,MAAM,uBAAuB,CAAC,EACnC,SAAS,EACT,YAAY,mBAAmB,EAC/B,SAAS,EACT,SAAS,EACM,GAAK,CAAC;QACrB;QACA,WAAW,aAAa;QACxB;QACA,WAAW,aAAa;IAC1B,CAAC"}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/sla-settings-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { CustomerSlaSetting } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\n// Đơn giản hóa: Mỗi loại SLA chỉ có 1 record, user edit trực tiếp số ngày\r\nexport const defaultCustomerSlaSettings: CustomerSlaSetting[] = [\r\n  // Follow-up SLA - Nhắc liên hệ định kỳ\r\n  {\r\n    systemId: asSystemId('CUSTSLA0000001'),\r\n    id: asBusinessId('SLA-FOLLOWUP'),\r\n    name: 'Liên hệ định kỳ',\r\n    description: 'Nhắc nhở liên hệ khách hàng sau một thời gian không tương tác',\r\n    slaType: 'follow-up',\r\n    targetDays: 14,      // Mục tiêu: liên hệ trong vòng 14 ngày\r\n    warningDays: 3,      // Cảnh báo khi còn 3 ngày\r\n    criticalDays: 7,     // Nghiêm trọng khi quá hạn 7 ngày\r\n    color: '#2196F3',    // Blue\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-01T08:00:00Z' }),\r\n  },\r\n\r\n  // Re-engagement SLA - Kích hoạt lại khách hàng không hoạt động\r\n  {\r\n    systemId: asSystemId('CUSTSLA0000002'),\r\n    id: asBusinessId('SLA-REENGAGEMENT'),\r\n    name: 'Kích hoạt lại',\r\n    description: 'Khách hàng không mua hàng cần được kích hoạt lại',\r\n    slaType: 're-engagement',\r\n    targetDays: 60,      // Mục tiêu: kích hoạt trong vòng 60 ngày\r\n    warningDays: 10,     // Cảnh báo khi còn 10 ngày\r\n    criticalDays: 14,    // Nghiêm trọng khi quá hạn 14 ngày\r\n    color: '#FF9800',    // Orange\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-02T08:00:00Z' }),\r\n  },\r\n\r\n  // Debt Payment SLA - Nhắc thanh toán công nợ\r\n  {\r\n    systemId: asSystemId('CUSTSLA0000003'),\r\n    id: asBusinessId('SLA-DEBT'),\r\n    name: 'Nhắc công nợ',\r\n    description: 'Nhắc thanh toán công nợ quá hạn',\r\n    slaType: 'debt-payment',\r\n    targetDays: 7,       // Mục tiêu: thanh toán trong vòng 7 ngày sau hạn\r\n    warningDays: 2,      // Cảnh báo khi còn 2 ngày\r\n    criticalDays: 7,     // Nghiêm trọng khi quá hạn 7 ngày\r\n    color: '#E91E63',    // Pink\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-03T08:00:00Z' }),\r\n  },\r\n];\r\n\r\n// Helper to get SLA labels\r\nexport const SLA_TYPE_LABELS: Record<string, string> = {\r\n  'follow-up': 'Liên hệ định kỳ',\r\n  're-engagement': 'Kích hoạt lại',\r\n  'debt-payment': 'Nhắc công nợ',\r\n};\r\n\r\n// Helper to get SLA descriptions\r\nexport const SLA_TYPE_DESCRIPTIONS: Record<string, string> = {\r\n  'follow-up': 'Nhắc nhở liên hệ khách hàng theo chu kỳ định kỳ',\r\n  're-engagement': 'Kích hoạt khách hàng không hoạt động trong thời gian dài',\r\n  'debt-payment': 'Nhắc thanh toán công nợ quá hạn',\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAEA;;;AAGO,MAAM,6BAAmD;IAC9D,uCAAuC;IACvC;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,aAAa;QACb,cAAc;QACd,OAAO;QACP,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IAEA,+DAA+D;IAC/D;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,aAAa;QACb,cAAc;QACd,OAAO;QACP,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IAEA,6CAA6C;IAC7C;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,aAAa;QACb,cAAc;QACd,OAAO;QACP,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD;AAGM,MAAM,kBAA0C;IACrD,aAAa;IACb,iBAAiB;IACjB,gBAAgB;AAClB;AAGO,MAAM,wBAAgD;IAC3D,aAAa;IACb,iBAAiB;IACjB,gBAAgB;AAClB"}},
    {"offset": {"line": 690, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/columns.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { Switch } from \"../../../components/ui/switch\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"../../../components/ui/dropdown-menu\";\r\nimport { MoreHorizontal } from \"lucide-react\";\r\nimport type { ColumnDef } from \"../../../components/data-table/types\";\r\nimport type {\r\n  BaseSetting,\r\n  CustomerType,\r\n  CustomerGroup,\r\n  CustomerSource,\r\n  PaymentTerm,\r\n  CreditRating,\r\n  LifecycleStage,\r\n  CustomerSlaSetting,\r\n} from \"./types\";\r\nimport { SLA_TYPE_LABELS } from \"./sla-settings-data\";\r\n\r\ninterface ColumnFactoryOptions<TItem extends BaseSetting> {\r\n  onEdit: (item: TItem) => void;\r\n  onDelete: (item: TItem) => void;\r\n  onToggleActive?: (item: TItem, value: boolean) => void;\r\n  onToggleDefault?: (item: TItem, value: boolean) => void;\r\n}\r\n\r\nconst createActionColumn = <TItem extends BaseSetting>({ onEdit, onDelete }: ColumnFactoryOptions<TItem>): ColumnDef<TItem> => ({\r\n  id: \"actions\",\r\n  header: () => <div className=\"text-right\">Thao tác</div>,\r\n  cell: ({ row }) => (\r\n    <div className=\"text-right\">\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\r\n            <span className=\"sr-only\">Mở menu</span>\r\n            <MoreHorizontal className=\"h-4 w-4\" />\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"end\">\r\n          <DropdownMenuLabel>Thao tác</DropdownMenuLabel>\r\n          <DropdownMenuSeparator />\r\n          <DropdownMenuItem onSelect={() => onEdit(row)}>\r\n            Chỉnh sửa\r\n          </DropdownMenuItem>\r\n          <DropdownMenuItem className=\"text-destructive\" onSelect={() => onDelete(row)}>\r\n            Xóa\r\n          </DropdownMenuItem>\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n    </div>\r\n  ),\r\n  meta: { displayName: \"Thao tác\" },\r\n  size: 80,\r\n});\r\n\r\n// Inline Switch for isActive\r\nconst createActiveColumn = <TItem extends BaseSetting>(onToggleActive?: (item: TItem, value: boolean) => void): ColumnDef<TItem> => ({\r\n  id: \"isActive\",\r\n  header: \"Trạng thái\",\r\n  cell: ({ row }) => (\r\n    <Switch\r\n      checked={row.isActive}\r\n      onCheckedChange={(value) => onToggleActive?.(row, value)}\r\n      aria-label=\"Toggle active\"\r\n    />\r\n  ),\r\n  meta: { displayName: \"Trạng thái\" },\r\n  size: 100,\r\n});\r\n\r\n// Inline Switch for isDefault\r\nconst createDefaultColumn = <TItem extends BaseSetting & { isDefault?: boolean }>(onToggleDefault?: (item: TItem, value: boolean) => void): ColumnDef<TItem> => ({\r\n  id: \"isDefault\",\r\n  header: \"Mặc định\",\r\n  cell: ({ row }) => (\r\n    <Switch\r\n      checked={row.isDefault ?? false}\r\n      onCheckedChange={(value) => onToggleDefault?.(row, value)}\r\n      aria-label=\"Toggle default\"\r\n    />\r\n  ),\r\n  meta: { displayName: \"Mặc định\" },\r\n  size: 100,\r\n});\r\n\r\nconst baseColumns = <TItem extends BaseSetting>() => ([\r\n  {\r\n    id: \"id\",\r\n    header: \"Mã\",\r\n    cell: ({ row }: { row: TItem }) => <span className=\"font-semibold uppercase\">{row.id}</span>,\r\n    meta: { displayName: \"Mã\" },\r\n  },\r\n  {\r\n    id: \"name\",\r\n    header: \"Tên\",\r\n    cell: ({ row }: { row: TItem }) => <span className=\"font-medium\">{row.name}</span>,\r\n    meta: { displayName: \"Tên\" },\r\n  },\r\n  {\r\n    id: \"description\",\r\n    header: \"Mô tả\",\r\n    cell: ({ row }: { row: TItem }) => (\r\n      <span className=\"text-sm text-muted-foreground\">{row.description || \"—\"}</span>\r\n    ),\r\n    meta: { displayName: \"Mô tả\" },\r\n  },\r\n] satisfies ColumnDef<TItem>[]);\r\n\r\nexport const getCustomerTypeColumns = (options: ColumnFactoryOptions<CustomerType>): ColumnDef<CustomerType>[] => [\r\n  ...baseColumns<CustomerType>(),\r\n  createDefaultColumn<CustomerType>(options.onToggleDefault),\r\n  createActiveColumn<CustomerType>(options.onToggleActive),\r\n  createActionColumn(options),\r\n];\r\n\r\nexport const getCustomerGroupColumns = (options: ColumnFactoryOptions<CustomerGroup>): ColumnDef<CustomerGroup>[] => [\r\n  ...baseColumns<CustomerGroup>(),\r\n  createDefaultColumn<CustomerGroup>(options.onToggleDefault),\r\n  createActiveColumn<CustomerGroup>(options.onToggleActive),\r\n  createActionColumn(options),\r\n];\r\n\r\nexport const getCustomerSourceColumns = (options: ColumnFactoryOptions<CustomerSource>): ColumnDef<CustomerSource>[] => [\r\n  ...baseColumns<CustomerSource>(),\r\n  {\r\n    id: \"type\",\r\n    header: \"Kênh\",\r\n    cell: ({ row }) => row.type ? <span className=\"text-sm\">{row.type}</span> : <span>—</span>,\r\n    meta: { displayName: \"Kênh\" },\r\n    size: 100,\r\n  },\r\n  createDefaultColumn<CustomerSource>(options.onToggleDefault),\r\n  createActiveColumn<CustomerSource>(options.onToggleActive),\r\n  createActionColumn(options),\r\n];\r\n\r\nexport const getPaymentTermColumns = (options: ColumnFactoryOptions<PaymentTerm>): ColumnDef<PaymentTerm>[] => [\r\n  ...baseColumns<PaymentTerm>(),\r\n  {\r\n    id: \"days\",\r\n    header: \"Số ngày\",\r\n    cell: ({ row }) => <span className=\"text-sm\">{row.days} ngày</span>,\r\n    meta: { displayName: \"Số ngày\" },\r\n    size: 100,\r\n  },\r\n  createDefaultColumn<PaymentTerm>(options.onToggleDefault),\r\n  createActiveColumn<PaymentTerm>(options.onToggleActive),\r\n  createActionColumn(options),\r\n];\r\n\r\nexport const getCreditRatingColumns = (options: ColumnFactoryOptions<CreditRating>): ColumnDef<CreditRating>[] => [\r\n  ...baseColumns<CreditRating>(),\r\n  {\r\n    id: \"level\",\r\n    header: \"Level\",\r\n    cell: ({ row }) => <span className=\"font-medium\">{row.level}</span>,\r\n    meta: { displayName: \"Level\" },\r\n    size: 80,\r\n  },\r\n  {\r\n    id: \"maxCreditLimit\",\r\n    header: \"Hạn mức\",\r\n    cell: ({ row }) => (\r\n      row.maxCreditLimit !== undefined && row.maxCreditLimit > 0 ? (\r\n        <span className=\"text-sm\">{(row.maxCreditLimit / 1000000).toLocaleString('vi-VN')}tr</span>\r\n      ) : (\r\n        <span>—</span>\r\n      )\r\n    ),\r\n    meta: { displayName: \"Hạn mức\" },\r\n    size: 100,\r\n  },\r\n  createDefaultColumn<CreditRating>(options.onToggleDefault),\r\n  createActiveColumn<CreditRating>(options.onToggleActive),\r\n  createActionColumn(options),\r\n];\r\n\r\nexport const getLifecycleStageColumns = (options: ColumnFactoryOptions<LifecycleStage>): ColumnDef<LifecycleStage>[] => [\r\n  ...baseColumns<LifecycleStage>(),\r\n  {\r\n    id: \"orderIndex\",\r\n    header: \"Thứ tự\",\r\n    cell: ({ row }) => <span className=\"font-medium\">{row.orderIndex}</span>,\r\n    meta: { displayName: \"Thứ tự\" },\r\n    size: 80,\r\n  },\r\n  {\r\n    id: \"probability\",\r\n    header: \"Xác suất\",\r\n    cell: ({ row }) => (\r\n      row.probability !== undefined ? (\r\n        <span className=\"text-sm\">{row.probability}%</span>\r\n      ) : (\r\n        <span>—</span>\r\n      )\r\n    ),\r\n    meta: { displayName: \"Xác suất\" },\r\n    size: 90,\r\n  },\r\n  createDefaultColumn<LifecycleStage>(options.onToggleDefault),\r\n  createActiveColumn<LifecycleStage>(options.onToggleActive),\r\n  createActionColumn(options),\r\n];\r\n\r\n// SLA columns - đơn giản hóa: không có Mặc định, không có Trạng thái, không có Xóa\r\n// Chỉ có 3 loại SLA cố định, user chỉ có thể edit\r\nexport const getCustomerSlaColumns = (options: ColumnFactoryOptions<CustomerSlaSetting>): ColumnDef<CustomerSlaSetting>[] => [\r\n  {\r\n    id: \"slaType\",\r\n    header: \"Loại SLA\",\r\n    cell: ({ row }) => (\r\n      <span className=\"font-medium whitespace-nowrap\">\r\n        {SLA_TYPE_LABELS[row.slaType] || row.slaType}\r\n      </span>\r\n    ),\r\n    meta: { displayName: \"Loại SLA\" },\r\n    size: 130,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    header: \"Tên\",\r\n    cell: ({ row }) => <span className=\"font-medium\">{row.name}</span>,\r\n    meta: { displayName: \"Tên\" },\r\n    size: 150,\r\n  },\r\n  {\r\n    id: \"targetDays\",\r\n    header: \"Mục tiêu\",\r\n    cell: ({ row }) => (\r\n      <span className=\"text-sm\">\r\n        {row.targetDays} ngày\r\n      </span>\r\n    ),\r\n    meta: { displayName: \"Mục tiêu\" },\r\n    size: 100,\r\n  },\r\n  {\r\n    id: \"warningDays\",\r\n    header: \"Cảnh báo\",\r\n    cell: ({ row }) => (\r\n      <span className=\"text-sm text-yellow-700\">\r\n        Trước {row.warningDays} ngày\r\n      </span>\r\n    ),\r\n    meta: { displayName: \"Ngưỡng cảnh báo\" },\r\n    size: 120,\r\n  },\r\n  {\r\n    id: \"criticalDays\",\r\n    header: \"Nghiêm trọng\",\r\n    cell: ({ row }) => (\r\n      <span className=\"text-sm text-red-700\">\r\n        Quá {row.criticalDays} ngày\r\n      </span>\r\n    ),\r\n    meta: { displayName: \"Ngưỡng nghiêm trọng\" },\r\n    size: 120,\r\n  },\r\n  {\r\n    id: \"actions\",\r\n    header: () => <div className=\"text-right\">Thao tác</div>,\r\n    cell: ({ row }) => (\r\n      <div className=\"text-right\">\r\n        <Button \r\n          variant=\"ghost\" \r\n          size=\"sm\" \r\n          onClick={() => options.onEdit(row)}\r\n        >\r\n          Sửa\r\n        </Button>\r\n      </div>\r\n    ),\r\n    meta: { displayName: \"Thao tác\" },\r\n    size: 100,\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAQA;AAYA;;;;;;;AASA,MAAM,qBAAqB,CAA4B,EAAE,MAAM,EAAE,QAAQ,EAA+B,GAAuB,CAAC;QAC9H,IAAI;QACJ,QAAQ,kBAAM,6LAAC;gBAAI,WAAU;0BAAa;;;;;;QAC1C,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,wJAAY;;sCACX,6LAAC,+JAAmB;4BAAC,OAAO;sCAC1B,cAAA,6LAAC,wIAAM;gCAAC,SAAQ;gCAAQ,WAAU;;kDAChC,6LAAC;wCAAK,WAAU;kDAAU;;;;;;kDAC1B,6LAAC,qOAAc;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAG9B,6LAAC,+JAAmB;4BAAC,OAAM;;8CACzB,6LAAC,6JAAiB;8CAAC;;;;;;8CACnB,6LAAC,iKAAqB;;;;;8CACtB,6LAAC,4JAAgB;oCAAC,UAAU,IAAM,OAAO;8CAAM;;;;;;8CAG/C,6LAAC,4JAAgB;oCAAC,WAAU;oCAAmB,UAAU,IAAM,SAAS;8CAAM;;;;;;;;;;;;;;;;;;;;;;;QAOtF,MAAM;YAAE,aAAa;QAAW;QAChC,MAAM;IACR,CAAC;AAED,6BAA6B;AAC7B,MAAM,qBAAqB,CAA4B,iBAA6E,CAAC;QACnI,IAAI;QACJ,QAAQ;QACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,6LAAC,wIAAM;gBACL,SAAS,IAAI,QAAQ;gBACrB,iBAAiB,CAAC,QAAU,iBAAiB,KAAK;gBAClD,cAAW;;;;;;QAGf,MAAM;YAAE,aAAa;QAAa;QAClC,MAAM;IACR,CAAC;AAED,8BAA8B;AAC9B,MAAM,sBAAsB,CAAsD,kBAA8E,CAAC;QAC/J,IAAI;QACJ,QAAQ;QACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,6LAAC,wIAAM;gBACL,SAAS,IAAI,SAAS,IAAI;gBAC1B,iBAAiB,CAAC,QAAU,kBAAkB,KAAK;gBACnD,cAAW;;;;;;QAGf,MAAM;YAAE,aAAa;QAAW;QAChC,MAAM;IACR,CAAC;AAED,MAAM,cAAc,IAAkC;QACpD;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAkB,iBAAK,6LAAC;oBAAK,WAAU;8BAA2B,IAAI,EAAE;;;;;;YACpF,MAAM;gBAAE,aAAa;YAAK;QAC5B;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAkB,iBAAK,6LAAC;oBAAK,WAAU;8BAAe,IAAI,IAAI;;;;;;YAC1E,MAAM;gBAAE,aAAa;YAAM;QAC7B;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAkB,iBAC5B,6LAAC;oBAAK,WAAU;8BAAiC,IAAI,WAAW,IAAI;;;;;;YAEtE,MAAM;gBAAE,aAAa;YAAQ;QAC/B;KACD;AAEM,MAAM,yBAAyB,CAAC,UAA2E;WAC7G;QACH,oBAAkC,QAAQ,eAAe;QACzD,mBAAiC,QAAQ,cAAc;QACvD,mBAAmB;KACpB;AAEM,MAAM,0BAA0B,CAAC,UAA6E;WAChH;QACH,oBAAmC,QAAQ,eAAe;QAC1D,mBAAkC,QAAQ,cAAc;QACxD,mBAAmB;KACpB;AAEM,MAAM,2BAA2B,CAAC,UAA+E;WACnH;QACH;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,GAAK,IAAI,IAAI,iBAAG,6LAAC;oBAAK,WAAU;8BAAW,IAAI,IAAI;;;;;6EAAW,6LAAC;8BAAK;;;;;;YAClF,MAAM;gBAAE,aAAa;YAAO;YAC5B,MAAM;QACR;QACA,oBAAoC,QAAQ,eAAe;QAC3D,mBAAmC,QAAQ,cAAc;QACzD,mBAAmB;KACpB;AAEM,MAAM,wBAAwB,CAAC,UAAyE;WAC1G;QACH;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,6LAAC;oBAAK,WAAU;;wBAAW,IAAI,IAAI;wBAAC;;;;;;;YACvD,MAAM;gBAAE,aAAa;YAAU;YAC/B,MAAM;QACR;QACA,oBAAiC,QAAQ,eAAe;QACxD,mBAAgC,QAAQ,cAAc;QACtD,mBAAmB;KACpB;AAEM,MAAM,yBAAyB,CAAC,UAA2E;WAC7G;QACH;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,6LAAC;oBAAK,WAAU;8BAAe,IAAI,KAAK;;;;;;YAC3D,MAAM;gBAAE,aAAa;YAAQ;YAC7B,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,GACZ,IAAI,cAAc,KAAK,aAAa,IAAI,cAAc,GAAG,kBACvD,6LAAC;oBAAK,WAAU;;wBAAW,CAAC,IAAI,cAAc,GAAG,OAAO,EAAE,cAAc,CAAC;wBAAS;;;;;;6EAElF,6LAAC;8BAAK;;;;;;YAGV,MAAM;gBAAE,aAAa;YAAU;YAC/B,MAAM;QACR;QACA,oBAAkC,QAAQ,eAAe;QACzD,mBAAiC,QAAQ,cAAc;QACvD,mBAAmB;KACpB;AAEM,MAAM,2BAA2B,CAAC,UAA+E;WACnH;QACH;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,6LAAC;oBAAK,WAAU;8BAAe,IAAI,UAAU;;;;;;YAChE,MAAM;gBAAE,aAAa;YAAS;YAC9B,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,GACZ,IAAI,WAAW,KAAK,0BAClB,6LAAC;oBAAK,WAAU;;wBAAW,IAAI,WAAW;wBAAC;;;;;;6EAE3C,6LAAC;8BAAK;;;;;;YAGV,MAAM;gBAAE,aAAa;YAAW;YAChC,MAAM;QACR;QACA,oBAAoC,QAAQ,eAAe;QAC3D,mBAAmC,QAAQ,cAAc;QACzD,mBAAmB;KACpB;AAIM,MAAM,wBAAwB,CAAC,UAAuF;QAC3H;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,6LAAC;oBAAK,WAAU;8BACb,kLAAe,CAAC,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO;;;;;;YAGhD,MAAM;gBAAE,aAAa;YAAW;YAChC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,6LAAC;oBAAK,WAAU;8BAAe,IAAI,IAAI;;;;;;YAC1D,MAAM;gBAAE,aAAa;YAAM;YAC3B,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,6LAAC;oBAAK,WAAU;;wBACb,IAAI,UAAU;wBAAC;;;;;;;YAGpB,MAAM;gBAAE,aAAa;YAAW;YAChC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,6LAAC;oBAAK,WAAU;;wBAA0B;wBACjC,IAAI,WAAW;wBAAC;;;;;;;YAG3B,MAAM;gBAAE,aAAa;YAAkB;YACvC,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,6LAAC;oBAAK,WAAU;;wBAAuB;wBAChC,IAAI,YAAY;wBAAC;;;;;;;YAG1B,MAAM;gBAAE,aAAa;YAAsB;YAC3C,MAAM;QACR;QACA;YACE,IAAI;YACJ,QAAQ,kBAAM,6LAAC;oBAAI,WAAU;8BAAa;;;;;;YAC1C,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,wIAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,QAAQ,MAAM,CAAC;kCAC/B;;;;;;;;;;;YAKL,MAAM;gBAAE,aAAa;YAAW;YAChC,MAAM;QACR;KACD"}},
    {"offset": {"line": 1192, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/use-settings-page-header.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Settings2 } from 'lucide-react';\r\nimport { usePageHeader, type PageHeaderState, type PageHeaderDocLink } from '../../contexts/page-header-context';\r\nimport type { BreadcrumbItem } from '../../lib/breadcrumb-system';\r\n\r\nexport type SettingsPageHeaderOptions = Omit<PageHeaderState, 'title' | 'docLink'> & {\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  docLink?: string | PageHeaderDocLink;\r\n};\r\n\r\nconst defaultDocLabel = 'Xem hướng dẫn';\r\nconst baseBreadcrumb: BreadcrumbItem[] = [\r\n  { label: 'Trang chủ', href: '/', isCurrent: false },\r\n  { label: 'Cài đặt', href: '/settings', isCurrent: false },\r\n];\r\n\r\nconst normalizeLabel = (label?: string) => label?.trim().toLocaleLowerCase('vi');\r\nconst isHomeCrumb = (item: BreadcrumbItem) => item.href === '/' || normalizeLabel(item.label) === 'trang chủ';\r\nconst isSettingsCrumb = (item: BreadcrumbItem) => item.href === '/settings' || normalizeLabel(item.label) === 'cài đặt';\r\n\r\nexport function useSettingsPageHeader(options: SettingsPageHeaderOptions) {\r\n  const pathname = usePathname();\r\n  const { title, icon, docLink, breadcrumb, ...rest } = options;\r\n\r\n  const normalizedDocLink = React.useMemo<PageHeaderDocLink | undefined>(() => {\r\n    if (!docLink) return undefined;\r\n    if (typeof docLink === 'string') {\r\n      return { href: docLink, label: defaultDocLabel };\r\n    }\r\n    return {\r\n      href: docLink.href,\r\n      label: docLink.label ?? defaultDocLabel,\r\n    };\r\n  }, [docLink]);\r\n\r\n  const decoratedTitle = React.useMemo(() => (\r\n    <span className=\"inline-flex items-center gap-2\">\r\n      {(icon ?? <Settings2 className=\"h-5 w-5 text-muted-foreground\" aria-hidden=\"true\" />)}\r\n      <span>{title}</span>\r\n    </span>\r\n  ), [icon, title]);\r\n\r\n  const normalizedBreadcrumb = React.useMemo(() => {\r\n    const custom = (breadcrumb ?? []).map((item) => ({\r\n      ...item,\r\n      href: item.href || pathname,\r\n    }));\r\n\r\n    let merged: BreadcrumbItem[] = custom.length\r\n      ? [...custom]\r\n      : [{ label: title, href: pathname, isCurrent: true }];\r\n\r\n    if (!merged.some(isHomeCrumb)) {\r\n      merged = [{ ...baseBreadcrumb[0] }, ...merged];\r\n    }\r\n\r\n    if (!merged.some(isSettingsCrumb)) {\r\n      const homeIndex = merged.findIndex(isHomeCrumb);\r\n      const insertionIndex = homeIndex >= 0 ? homeIndex + 1 : 0;\r\n      merged = [\r\n        ...merged.slice(0, insertionIndex),\r\n        { ...baseBreadcrumb[1] },\r\n        ...merged.slice(insertionIndex),\r\n      ];\r\n    }\r\n\r\n    return merged.map((item, index) => ({\r\n      ...item,\r\n      isCurrent: index === merged.length - 1,\r\n    }));\r\n  }, [breadcrumb, pathname, title]);\r\n\r\n  return usePageHeader({\r\n    ...rest,\r\n    breadcrumb: normalizedBreadcrumb,\r\n    title: decoratedTitle,\r\n    docLink: normalizedDocLink,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;AASA,MAAM,kBAAkB;AACxB,MAAM,iBAAmC;IACvC;QAAE,OAAO;QAAa,MAAM;QAAK,WAAW;IAAM;IAClD;QAAE,OAAO;QAAW,MAAM;QAAa,WAAW;IAAM;CACzD;AAED,MAAM,iBAAiB,CAAC,QAAmB,OAAO,OAAO,kBAAkB;AAC3E,MAAM,cAAc,CAAC,OAAyB,KAAK,IAAI,KAAK,OAAO,eAAe,KAAK,KAAK,MAAM;AAClG,MAAM,kBAAkB,CAAC,OAAyB,KAAK,IAAI,KAAK,eAAe,eAAe,KAAK,KAAK,MAAM;AAEvG,SAAS,sBAAsB,OAAkC;;IACtE,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,MAAM,GAAG;IAEtD,MAAM,oBAAoB,wKAAa;4DAAgC;YACrE,IAAI,CAAC,SAAS,OAAO;YACrB,IAAI,OAAO,YAAY,UAAU;gBAC/B,OAAO;oBAAE,MAAM;oBAAS,OAAO;gBAAgB;YACjD;YACA,OAAO;gBACL,MAAM,QAAQ,IAAI;gBAClB,OAAO,QAAQ,KAAK,IAAI;YAC1B;QACF;2DAAG;QAAC;KAAQ;IAEZ,MAAM,iBAAiB,wKAAa;yDAAC,kBACnC,6LAAC;gBAAK,WAAU;;oBACZ,sBAAQ,6LAAC,gOAAS;wBAAC,WAAU;wBAAgC,eAAY;;;;;;kCAC3E,6LAAC;kCAAM;;;;;;;;;;;;wDAER;QAAC;QAAM;KAAM;IAEhB,MAAM,uBAAuB,wKAAa;+DAAC;YACzC,MAAM,SAAS,CAAC,cAAc,EAAE,EAAE,GAAG;8EAAC,CAAC,OAAS,CAAC;wBAC/C,GAAG,IAAI;wBACP,MAAM,KAAK,IAAI,IAAI;oBACrB,CAAC;;YAED,IAAI,SAA2B,OAAO,MAAM,GACxC;mBAAI;aAAO,GACX;gBAAC;oBAAE,OAAO;oBAAO,MAAM;oBAAU,WAAW;gBAAK;aAAE;YAEvD,IAAI,CAAC,OAAO,IAAI,CAAC,cAAc;gBAC7B,SAAS;oBAAC;wBAAE,GAAG,cAAc,CAAC,EAAE;oBAAC;uBAAM;iBAAO;YAChD;YAEA,IAAI,CAAC,OAAO,IAAI,CAAC,kBAAkB;gBACjC,MAAM,YAAY,OAAO,SAAS,CAAC;gBACnC,MAAM,iBAAiB,aAAa,IAAI,YAAY,IAAI;gBACxD,SAAS;uBACJ,OAAO,KAAK,CAAC,GAAG;oBACnB;wBAAE,GAAG,cAAc,CAAC,EAAE;oBAAC;uBACpB,OAAO,KAAK,CAAC;iBACjB;YACH;YAEA,OAAO,OAAO,GAAG;uEAAC,CAAC,MAAM,QAAU,CAAC;wBAClC,GAAG,IAAI;wBACP,WAAW,UAAU,OAAO,MAAM,GAAG;oBACvC,CAAC;;QACH;8DAAG;QAAC;QAAY;QAAU;KAAM;IAEhC,OAAO,IAAA,0JAAa,EAAC;QACnB,GAAG,IAAI;QACP,YAAY;QACZ,OAAO;QACP,SAAS;IACX;AACF;GA1DgB;;QACG,oJAAW;QAmDrB,0JAAa"}},
    {"offset": {"line": 1341, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SettingsActionButton.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Button, type ButtonProps } from '../ui/button';\r\nimport { cn } from '../../lib/utils';\r\n\r\n/**\r\n * SettingsActionButton chuẩn hóa các nút hành động của module Cài đặt\r\n * để luôn tuân thủ chiều cao h-9 và padding đồng nhất.\r\n */\r\nexport const SettingsActionButton = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, size, children, ...props }, ref) => {\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size={size ?? 'sm'}\r\n        className={cn('h-9 px-4 font-medium gap-2', className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nSettingsActionButton.displayName = 'SettingsActionButton';\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAMO,MAAM,qCAAuB,2KAAgB,MAClD,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACxC,qBACE,6LAAC,wIAAM;QACL,KAAK;QACL,MAAM,QAAQ;QACd,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;kBAER;;;;;;AAGP;;AAGF,qBAAqB,WAAW,GAAG"}},
    {"offset": {"line": 1378, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/settings/SettingsVerticalTabs.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Tabs, TabsList, TabsTrigger } from \"../ui/tabs\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\ntype SettingsVerticalTabsItem = {\r\n  value: string;\r\n  label: React.ReactNode;\r\n  disabled?: boolean;\r\n  className?: string;\r\n};\r\n\r\ntype SettingsVerticalTabsProps = {\r\n  value: string;\r\n  onValueChange: (value: string) => void;\r\n  tabs: SettingsVerticalTabsItem[];\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  listClassName?: string;\r\n  contentWrapperClassName?: string;\r\n};\r\n\r\n/**\r\n * Shared layout for Settings pages that need sticky vertical tabs.\r\n * Uses shadcn/ui Tabs component with custom styling for vertical layout on desktop.\r\n */\r\nexport function SettingsVerticalTabs({\r\n  value,\r\n  onValueChange,\r\n  tabs,\r\n  children,\r\n  className,\r\n  listClassName,\r\n  contentWrapperClassName,\r\n}: SettingsVerticalTabsProps) {\r\n  return (\r\n    <Tabs \r\n      value={value} \r\n      onValueChange={onValueChange} \r\n      className={cn(\"flex flex-col md:flex-row md:gap-8\", className)}\r\n    >\r\n      {/* Mobile: horizontal scrollable tabs, Desktop: vertical sidebar */}\r\n      <TabsList\r\n        className={cn(\r\n          // Base styles\r\n          \"h-auto w-full justify-start rounded-lg bg-muted p-1\",\r\n          // Mobile: horizontal with scroll\r\n          \"flex flex-row gap-1 overflow-x-auto\",\r\n          // Desktop: vertical sidebar\r\n          \"md:flex-col md:w-[200px] md:shrink-0 md:bg-transparent md:p-0\",\r\n          \"md:sticky md:top-6 md:self-start\",\r\n          listClassName,\r\n        )}\r\n      >\r\n        {tabs.map((tab) => (\r\n          <TabsTrigger\r\n            key={tab.value}\r\n            value={tab.value}\r\n            disabled={tab.disabled}\r\n            className={cn(\r\n              // Mobile: compact horizontal tabs\r\n              \"flex-shrink-0 px-3 py-1.5 text-sm text-foreground\",\r\n              // Desktop: full-width vertical tabs\r\n              \"md:w-full md:justify-start md:px-4 md:py-2\",\r\n              \"md:data-[state=active]:bg-muted md:data-[state=active]:shadow-none\",\r\n              tab.className\r\n            )}\r\n          >\r\n            {tab.label}\r\n          </TabsTrigger>\r\n        ))}\r\n      </TabsList>\r\n      \r\n      {/* Content area */}\r\n      <div className={cn(\r\n        \"flex-1 min-w-0 mt-4 md:mt-0\",\r\n        contentWrapperClassName\r\n      )}>\r\n        {children}\r\n      </div>\r\n    </Tabs>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAuBO,SAAS,qBAAqB,EACnC,KAAK,EACL,aAAa,EACb,IAAI,EACJ,QAAQ,EACR,SAAS,EACT,aAAa,EACb,uBAAuB,EACG;IAC1B,qBACE,6LAAC,oIAAI;QACH,OAAO;QACP,eAAe;QACf,WAAW,IAAA,qHAAE,EAAC,sCAAsC;;0BAGpD,6LAAC,wIAAQ;gBACP,WAAW,IAAA,qHAAE,EACX,cAAc;gBACd,uDACA,iCAAiC;gBACjC,uCACA,4BAA4B;gBAC5B,iEACA,oCACA;0BAGD,KAAK,GAAG,CAAC,CAAC,oBACT,6LAAC,2IAAW;wBAEV,OAAO,IAAI,KAAK;wBAChB,UAAU,IAAI,QAAQ;wBACtB,WAAW,IAAA,qHAAE,EACX,kCAAkC;wBAClC,qDACA,oCAAoC;wBACpC,8CACA,sEACA,IAAI,SAAS;kCAGd,IAAI,KAAK;uBAZL,IAAI,KAAK;;;;;;;;;;0BAkBpB,6LAAC;gBAAI,WAAW,IAAA,qHAAE,EAChB,+BACA;0BAEC;;;;;;;;;;;;AAIT;KAxDgB"}},
    {"offset": {"line": 1441, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/id-utils.ts"],"sourcesContent":["/**\r\n * ID Utilities\r\n * Helpers for generating and validating IDs (systemId & business id)\r\n */\r\n\r\nimport { getPrefix, type EntityType } from './smart-prefix';\r\nimport { ID_CONFIG } from './id-config';\r\n\r\n// Re-export EntityType for convenience\r\nexport type { EntityType } from './smart-prefix';\r\n\r\n/**\r\n * Generate SystemId (6 digits, immutable, internal use only)\r\n * Format: SYSTEMID_PREFIX + 6 digits (e.g., \"EMP000001\", \"CUSTOMER000001\", \"ORDER000001\")\r\n * Uses systemIdPrefix from ID_CONFIG (English full words)\r\n */\r\nexport function generateSystemId(entityType: EntityType, counter: number): string {\r\n  const config = ID_CONFIG[entityType];\r\n  if (!config) {\r\n    throw new Error(`No configuration found for entity type: ${entityType}`);\r\n  }\r\n  const prefix = config.systemIdPrefix;\r\n  const digitCount = config.digitCount || 6;\r\n  return `${prefix}${String(counter).padStart(digitCount, '0')}`;\r\n}\r\n\r\n/**\r\n * Generate Business ID (6 digits, user-facing, editable)\r\n * Format: PREFIX + 6 digits (e.g., \"NV000001\", \"KH000001\", \"CTV000001\")\r\n * All entities use same 6-digit format for consistency\r\n * \r\n * @param entityType - Entity type from smart-prefix\r\n * @param counter - Current counter value\r\n * @param customId - Optional custom ID from user input\r\n * @returns Generated ID or validated custom ID\r\n */\r\nexport function generateBusinessId(\r\n  entityType: EntityType, \r\n  counter: number,\r\n  customId?: string\r\n): string {\r\n  // If user provided custom ID, validate and return it\r\n  if (customId && customId.trim()) {\r\n    const sanitized = sanitizeBusinessId(customId);\r\n    if (!sanitized) {\r\n      throw new Error('Mã không hợp lệ! Chỉ được phép sử dụng chữ cái và số.');\r\n    }\r\n    return sanitized;\r\n  }\r\n  \r\n  // Otherwise, auto-generate\r\n  const prefix = getPrefix(entityType);\r\n  return `${prefix}${String(counter).padStart(6, '0')}`;\r\n}\r\n\r\n/**\r\n * Sanitize business ID\r\n * - Remove special characters (keep only letters and numbers)\r\n * - Convert to uppercase\r\n * - Trim whitespace\r\n * \r\n * @param id - Raw user input\r\n * @returns Sanitized ID or null if invalid\r\n */\r\nexport function sanitizeBusinessId(id: string): string | null {\r\n  if (!id || typeof id !== 'string') return null;\r\n  \r\n  // Remove all special characters, keep only alphanumeric\r\n  const cleaned = id.trim().replace(/[^a-zA-Z0-9]/g, '');\r\n  \r\n  if (!cleaned) return null;\r\n  \r\n  // Convert to uppercase for consistency\r\n  return cleaned.toUpperCase();\r\n}\r\n\r\n/**\r\n * Validate business ID uniqueness (case-insensitive)\r\n * \r\n * @param id - ID to check\r\n * @param existingIds - Array of existing IDs in the system\r\n * @param currentId - Current ID (for edit mode, to exclude self)\r\n * @returns true if unique, false if duplicate\r\n */\r\nexport function isBusinessIdUnique(\r\n  id: string,\r\n  existingIds: string[],\r\n  currentId?: string\r\n): boolean {\r\n  if (!id) return false;\r\n  \r\n  const normalizedId = id.toUpperCase();\r\n  const normalizedCurrentId = currentId?.toUpperCase();\r\n  \r\n  return !existingIds.some(existingId => {\r\n    // ✅ Filter out empty/undefined IDs\r\n    if (!existingId || existingId.trim() === '') return false;\r\n    \r\n    const normalizedExisting = existingId.toUpperCase();\r\n    // Skip self-comparison in edit mode\r\n    if (normalizedCurrentId && normalizedExisting === normalizedCurrentId) {\r\n      return false;\r\n    }\r\n    return normalizedExisting === normalizedId;\r\n  });\r\n}\r\n\r\n/**\r\n * Extract counter from system ID\r\n * Used to initialize counter when loading from localStorage\r\n * Supports both 6, 7 and 8 digits\r\n * \r\n * @param systemId - System ID to parse (e.g., \"EMP000001\", \"CUSTOMER000001\", \"WARRANTY0000001\")\r\n * @param prefix - Expected systemIdPrefix (e.g., \"EMP\", \"CUSTOMER\", \"WARRANTY\")\r\n * @returns Counter value or 0 if invalid\r\n */\r\nexport function extractCounterFromSystemId(systemId: string, prefix: string): number {\r\n  if (!systemId || typeof systemId !== 'string') return 0;\r\n  \r\n  // Try different digit counts (most entities use 6 digits, some use 7-8)\r\n  const regex8 = new RegExp(`^${prefix}(\\\\d{8})$`);\r\n  const regex7 = new RegExp(`^${prefix}(\\\\d{7})$`);\r\n  const regex6 = new RegExp(`^${prefix}(\\\\d{6})$`);\r\n  \r\n  const match8 = systemId.match(regex8);\r\n  if (match8) return parseInt(match8[1], 10);\r\n  \r\n  const match7 = systemId.match(regex7);\r\n  if (match7) return parseInt(match7[1], 10);\r\n  \r\n  const match6 = systemId.match(regex6);\r\n  if (match6) return parseInt(match6[1], 10);\r\n  \r\n  return 0;\r\n}\r\n\r\n/**\r\n * Extract counter from business ID\r\n * Used to initialize counter when loading from localStorage\r\n * \r\n * @param businessId - Business ID to parse (e.g., \"NV000001\")\r\n * @param prefix - Expected prefix (e.g., \"NV\")\r\n * @returns Counter value or 0 if invalid\r\n */\r\nexport function extractCounterFromBusinessId(businessId: string, prefix: string): number {\r\n  if (!businessId || typeof businessId !== 'string') return 0;\r\n  const regex = new RegExp(`^${prefix}(\\\\d+)$`);\r\n  const match = businessId.match(regex);\r\n  return match ? parseInt(match[1], 10) : 0;\r\n}\r\n\r\n/**\r\n * Get max counter from array of items (for systemId)\r\n * \r\n * @param items - Array of items with systemId\r\n * @param prefix - Prefix to match\r\n * @returns Maximum counter value\r\n */\r\nexport function getMaxSystemIdCounter<T extends { systemId: string }>(\r\n  items: T[],\r\n  prefix: string\r\n): number {\r\n  if (!items || !Array.isArray(items)) return 0;\r\n  \r\n  let maxCounter = 0;\r\n  \r\n  items.forEach(item => {\r\n    if (!item || !item.systemId) return;\r\n    const counter = extractCounterFromSystemId(item.systemId, prefix);\r\n    if (counter > maxCounter) {\r\n      maxCounter = counter;\r\n    }\r\n  });\r\n  \r\n  return maxCounter;\r\n}\r\n\r\n/**\r\n * Get max counter from array of items (for business id)\r\n * Only counts auto-generated IDs (PREFIX + digits)\r\n * \r\n * @param items - Array of items with id\r\n * @param prefix - Prefix to match\r\n * @returns Maximum counter value\r\n */\r\nexport function getMaxBusinessIdCounter<T extends { id: string }>(\r\n  items: T[],\r\n  prefix: string\r\n): number {\r\n  if (!items || !Array.isArray(items)) return 0;\r\n  \r\n  let maxCounter = 0;\r\n  \r\n  items.forEach(item => {\r\n    if (!item || !item.id) return;\r\n    const counter = extractCounterFromBusinessId(item.id, prefix);\r\n    if (counter > maxCounter) {\r\n      maxCounter = counter;\r\n    }\r\n  });\r\n  \r\n  return maxCounter;\r\n}\r\n\r\n/**\r\n * Format ID for display\r\n * Adds spacing for readability\r\n * \r\n * @param id - ID to format\r\n * @returns Formatted ID (e.g., \"NV-000001\", \"KH-000123\")\r\n */\r\nexport function formatIdForDisplay(id: string): string {\r\n  // Match pattern: PREFIX followed by numbers\r\n  const match = id.match(/^([A-Z]+)(\\d+)$/);\r\n  if (!match) return id;\r\n  \r\n  const [, prefix, numbers] = match;\r\n  return `${prefix}-${numbers}`;\r\n}\r\n\r\n/**\r\n * Validate ID format\r\n * Check if ID follows valid pattern (letters + numbers only)\r\n * \r\n * @param id - ID to validate\r\n * @returns true if valid format\r\n */\r\nexport function isValidIdFormat(id: string): boolean {\r\n  if (!id || typeof id !== 'string') return false;\r\n  \r\n  // Only alphanumeric characters allowed\r\n  const regex = /^[A-Z0-9]+$/i;\r\n  return regex.test(id);\r\n}\r\n\r\n/**\r\n * Generate suggested IDs based on entity type\r\n * Useful for autocomplete or placeholder text\r\n * \r\n * @param entityType - Entity type\r\n * @param counter - Current counter\r\n * @param count - Number of suggestions\r\n * @returns Array of suggested IDs\r\n */\r\nexport function generateSuggestedIds(\r\n  entityType: EntityType,\r\n  counter: number,\r\n  count: number = 3\r\n): string[] {\r\n  const suggestions: string[] = [];\r\n  const prefix = getPrefix(entityType);\r\n  \r\n  for (let i = 0; i < count; i++) {\r\n    suggestions.push(`${prefix}${String(counter + i + 1).padStart(6, '0')}`);\r\n  }\r\n  \r\n  return suggestions;\r\n}\r\n\r\n/**\r\n * ✨ Find next available business ID\r\n * Checks existing IDs and increments counter until finding a unique ID\r\n * \r\n * @param prefix - ID prefix (e.g., 'PT', 'PC', 'NV')\r\n * @param existingIds - Array of existing business IDs\r\n * @param startCounter - Starting counter value\r\n * @param digitCount - Number of digits (default: 6)\r\n * @returns Object with nextId and updatedCounter\r\n */\r\nexport function findNextAvailableBusinessId(\r\n  prefix: string,\r\n  existingIds: string[],\r\n  startCounter: number,\r\n  digitCount: number = 6\r\n): { nextId: string; updatedCounter: number } {\r\n  let counter = startCounter;\r\n  let nextId: string;\r\n  \r\n  // Keep incrementing until we find a unique ID\r\n  do {\r\n    counter++;\r\n    nextId = `${prefix}${String(counter).padStart(digitCount, '0')}`;\r\n  } while (existingIds.some(id => id === nextId));\r\n  \r\n  return {\r\n    nextId,\r\n    updatedCounter: counter\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;CAGC,GAED;AACA;;;AAUO,SAAS,iBAAiB,UAAsB,EAAE,OAAe;IACtE,MAAM,SAAS,mIAAS,CAAC,WAAW;IACpC,IAAI,CAAC,QAAQ;QACX,MAAM,IAAI,MAAM,CAAC,wCAAwC,EAAE,YAAY;IACzE;IACA,MAAM,SAAS,OAAO,cAAc;IACpC,MAAM,aAAa,OAAO,UAAU,IAAI;IACxC,OAAO,GAAG,SAAS,OAAO,SAAS,QAAQ,CAAC,YAAY,MAAM;AAChE;AAYO,SAAS,mBACd,UAAsB,EACtB,OAAe,EACf,QAAiB;IAEjB,qDAAqD;IACrD,IAAI,YAAY,SAAS,IAAI,IAAI;QAC/B,MAAM,YAAY,mBAAmB;QACrC,IAAI,CAAC,WAAW;YACd,MAAM,IAAI,MAAM;QAClB;QACA,OAAO;IACT;IAEA,2BAA2B;IAC3B,MAAM,SAAS,IAAA,sIAAS,EAAC;IACzB,OAAO,GAAG,SAAS,OAAO,SAAS,QAAQ,CAAC,GAAG,MAAM;AACvD;AAWO,SAAS,mBAAmB,EAAU;IAC3C,IAAI,CAAC,MAAM,OAAO,OAAO,UAAU,OAAO;IAE1C,wDAAwD;IACxD,MAAM,UAAU,GAAG,IAAI,GAAG,OAAO,CAAC,iBAAiB;IAEnD,IAAI,CAAC,SAAS,OAAO;IAErB,uCAAuC;IACvC,OAAO,QAAQ,WAAW;AAC5B;AAUO,SAAS,mBACd,EAAU,EACV,WAAqB,EACrB,SAAkB;IAElB,IAAI,CAAC,IAAI,OAAO;IAEhB,MAAM,eAAe,GAAG,WAAW;IACnC,MAAM,sBAAsB,WAAW;IAEvC,OAAO,CAAC,YAAY,IAAI,CAAC,CAAA;QACvB,mCAAmC;QACnC,IAAI,CAAC,cAAc,WAAW,IAAI,OAAO,IAAI,OAAO;QAEpD,MAAM,qBAAqB,WAAW,WAAW;QACjD,oCAAoC;QACpC,IAAI,uBAAuB,uBAAuB,qBAAqB;YACrE,OAAO;QACT;QACA,OAAO,uBAAuB;IAChC;AACF;AAWO,SAAS,2BAA2B,QAAgB,EAAE,MAAc;IACzE,IAAI,CAAC,YAAY,OAAO,aAAa,UAAU,OAAO;IAEtD,wEAAwE;IACxE,MAAM,SAAS,IAAI,OAAO,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC;IAC/C,MAAM,SAAS,IAAI,OAAO,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC;IAC/C,MAAM,SAAS,IAAI,OAAO,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC;IAE/C,MAAM,SAAS,SAAS,KAAK,CAAC;IAC9B,IAAI,QAAQ,OAAO,SAAS,MAAM,CAAC,EAAE,EAAE;IAEvC,MAAM,SAAS,SAAS,KAAK,CAAC;IAC9B,IAAI,QAAQ,OAAO,SAAS,MAAM,CAAC,EAAE,EAAE;IAEvC,MAAM,SAAS,SAAS,KAAK,CAAC;IAC9B,IAAI,QAAQ,OAAO,SAAS,MAAM,CAAC,EAAE,EAAE;IAEvC,OAAO;AACT;AAUO,SAAS,6BAA6B,UAAkB,EAAE,MAAc;IAC7E,IAAI,CAAC,cAAc,OAAO,eAAe,UAAU,OAAO;IAC1D,MAAM,QAAQ,IAAI,OAAO,CAAC,CAAC,EAAE,OAAO,OAAO,CAAC;IAC5C,MAAM,QAAQ,WAAW,KAAK,CAAC;IAC/B,OAAO,QAAQ,SAAS,KAAK,CAAC,EAAE,EAAE,MAAM;AAC1C;AASO,SAAS,sBACd,KAAU,EACV,MAAc;IAEd,IAAI,CAAC,SAAS,CAAC,MAAM,OAAO,CAAC,QAAQ,OAAO;IAE5C,IAAI,aAAa;IAEjB,MAAM,OAAO,CAAC,CAAA;QACZ,IAAI,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;QAC7B,MAAM,UAAU,2BAA2B,KAAK,QAAQ,EAAE;QAC1D,IAAI,UAAU,YAAY;YACxB,aAAa;QACf;IACF;IAEA,OAAO;AACT;AAUO,SAAS,wBACd,KAAU,EACV,MAAc;IAEd,IAAI,CAAC,SAAS,CAAC,MAAM,OAAO,CAAC,QAAQ,OAAO;IAE5C,IAAI,aAAa;IAEjB,MAAM,OAAO,CAAC,CAAA;QACZ,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE;QACvB,MAAM,UAAU,6BAA6B,KAAK,EAAE,EAAE;QACtD,IAAI,UAAU,YAAY;YACxB,aAAa;QACf;IACF;IAEA,OAAO;AACT;AASO,SAAS,mBAAmB,EAAU;IAC3C,4CAA4C;IAC5C,MAAM,QAAQ,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,GAAG,QAAQ,QAAQ,GAAG;IAC5B,OAAO,GAAG,OAAO,CAAC,EAAE,SAAS;AAC/B;AASO,SAAS,gBAAgB,EAAU;IACxC,IAAI,CAAC,MAAM,OAAO,OAAO,UAAU,OAAO;IAE1C,uCAAuC;IACvC,MAAM,QAAQ;IACd,OAAO,MAAM,IAAI,CAAC;AACpB;AAWO,SAAS,qBACd,UAAsB,EACtB,OAAe,EACf,QAAgB,CAAC;IAEjB,MAAM,cAAwB,EAAE;IAChC,MAAM,SAAS,IAAA,sIAAS,EAAC;IAEzB,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,IAAK;QAC9B,YAAY,IAAI,CAAC,GAAG,SAAS,OAAO,UAAU,IAAI,GAAG,QAAQ,CAAC,GAAG,MAAM;IACzE;IAEA,OAAO;AACT;AAYO,SAAS,4BACd,MAAc,EACd,WAAqB,EACrB,YAAoB,EACpB,aAAqB,CAAC;IAEtB,IAAI,UAAU;IACd,IAAI;IAEJ,8CAA8C;IAC9C,GAAG;QACD;QACA,SAAS,GAAG,SAAS,OAAO,SAAS,QAAQ,CAAC,YAAY,MAAM;IAClE,QAAS,YAAY,IAAI,CAAC,CAAA,KAAM,OAAO,QAAS;IAEhD,OAAO;QACL;QACA,gBAAgB;IAClB;AACF"}},
    {"offset": {"line": 1604, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/lib/store-factory.ts"],"sourcesContent":["import { create } from 'zustand';\r\n// persist, createJSONStorage removed - database is now source of truth\r\nimport { \r\n  generateSystemId, \r\n  generateBusinessId, \r\n  isBusinessIdUnique,\r\n  getMaxSystemIdCounter,\r\n  getMaxBusinessIdCounter,\r\n  findNextAvailableBusinessId,\r\n  type EntityType \r\n} from './id-utils';\r\nimport { getPrefix } from './smart-prefix';\r\nimport { ID_CONFIG, type SystemId, type BusinessId, createSystemId, createBusinessId as brandBusinessId } from './id-config';\r\n\r\nconst SYSTEM_FALLBACK_ID: SystemId = createSystemId('SYS000000');\r\n\r\nconst asSystemIdFallback = (): SystemId => SYSTEM_FALLBACK_ID;\r\n\r\n// ✅ API Sync helper for store-factory\r\nasync function syncToAPI<T>(\r\n  apiEndpoint: string,\r\n  action: 'create' | 'update' | 'delete' | 'restore',\r\n  data: T | { systemId: SystemId },\r\n  systemId?: SystemId\r\n): Promise<boolean> {\r\n  try {\r\n    const endpoint = action === 'create' \r\n      ? apiEndpoint \r\n      : `${apiEndpoint}/${systemId || (data as any).systemId}`;\r\n    \r\n    const method = action === 'create' ? 'POST' \r\n      : action === 'update' ? 'PATCH' \r\n      : action === 'delete' ? 'DELETE'\r\n      : 'PATCH'; // restore uses PATCH\r\n    \r\n    const response = await fetch(endpoint, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include',\r\n      body: action !== 'delete' ? JSON.stringify(data) : undefined,\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      console.warn(`[Store Factory API] ${action} failed for ${apiEndpoint}:`, response.status);\r\n    }\r\n    return response.ok;\r\n  } catch (error) {\r\n    console.error(`[Store Factory API] ${action} error for ${apiEndpoint}:`, error);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Item with SystemId (branded type)\r\nexport type ItemWithSystemId = { systemId: SystemId; [key: string]: any };\r\n\r\n// ✅ Counter state for ID generation\r\nexport type CounterState = {\r\n  systemId: number;\r\n  businessId: number;\r\n};\r\n\r\nexport type CrudState<T extends ItemWithSystemId> = {\r\n  data: T[];\r\n  _counters: CounterState; // ✅ Persisted counters\r\n  _initialized: boolean; // ✅ Track if loaded from API\r\n  add: (item: Omit<T, 'systemId'>) => T;\r\n  addMultiple: (items: Omit<T, 'systemId'>[]) => void;\r\n  update: (systemId: SystemId, item: Partial<T>) => void; // ✅ Accept partial updates\r\n  remove: (systemId: SystemId) => void; // ✅ Branded type\r\n  hardDelete: (systemId: SystemId) => void; // ✅ Branded type\r\n  restore: (systemId: SystemId) => void; // ✅ Branded type\r\n  findById: (systemId: SystemId | string) => T | undefined; // ✅ Branded type\r\n  getActive: () => T[];\r\n  getDeleted: () => T[];\r\n  loadFromAPI: () => Promise<void>; // ✅ Load data from database\r\n};\r\n\r\nexport const createCrudStore = <T extends ItemWithSystemId>(\r\n  _initialData: T[], // @deprecated - Kept for backward compatibility but NO LONGER USED\r\n  entityType: EntityType, // Changed from idPrefix to entityType\r\n  options?: {\r\n    businessIdField?: keyof T; // Field name for business ID (default: 'id')\r\n    persistKey?: string; // @deprecated - No longer used, kept for backward compatibility\r\n    getCurrentUser?: () => string | undefined; // Function to get current user systemId\r\n    apiEndpoint?: string; // ✅ API endpoint for database sync (e.g., '/api/employees')\r\n  }\r\n) => {\r\n  const businessPrefix = getPrefix(entityType); // Vietnamese prefix for Business ID (NV, KH, DH)\r\n  const config = ID_CONFIG[entityType];\r\n  const systemIdPrefix = config?.systemIdPrefix || entityType.toUpperCase(); // English prefix for SystemId (EMP, CUSTOMER, ORDER)\r\n  \r\n  const businessIdField = options?.businessIdField ?? 'id';\r\n  // const persistKey = options?.persistKey; // @deprecated - No longer used\r\n  const getCurrentUser = options?.getCurrentUser;\r\n  const apiEndpoint = options?.apiEndpoint;\r\n\r\n  // ✅ CHANGED: Start with empty array - database is source of truth\r\n  // Mock data files (data.ts) are NO LONGER USED for runtime\r\n  const normalizedInitialData: T[] = [];\r\n\r\n  const storeConfig = (set: any, get: any) => ({\r\n    data: normalizedInitialData, // ✅ Start empty - data loaded via React Query\r\n    // ✅ Counters start at 0 - will be initialized from API via loadFromAPI()\r\n    _counters: {\r\n      systemId: 0,\r\n      businessId: 0\r\n    },\r\n    _initialized: false, // ✅ Track API initialization\r\n    add: (item: Omit<T, 'systemId'>): T => {\r\n        // ✅ Get counters from state (persisted)\r\n        const currentCounters = get()._counters;\r\n        const newSystemIdCounter = currentCounters.systemId + 1;\r\n        const newSystemId = createSystemId(generateSystemId(entityType, newSystemIdCounter));\r\n        \r\n        // Generate or validate Business ID (if field exists)\r\n        let finalItem = { ...item } as any;\r\n        let newBusinessIdCounter = currentCounters.businessId;\r\n        \r\n        if (businessIdField in item) {\r\n          const customId = (item as any)[businessIdField];\r\n          const existingIds = get().data.map((d: any) => d[businessIdField]);\r\n          \r\n          // ✅ If customId provided, validate uniqueness\r\n          if (customId && customId.trim()) {\r\n            if (!isBusinessIdUnique(customId, existingIds)) {\r\n              throw new Error(`Mã \"${customId}\" đã tồn tại! Vui lòng sử dụng mã khác.`);\r\n            }\r\n            finalItem[businessIdField] = customId.trim().toUpperCase();\r\n          } else {\r\n            // ✅ Auto-generate with findNextAvailableBusinessId\r\n            const digitCount = 6; // All entities use 6 digits\r\n            const result = findNextAvailableBusinessId(businessPrefix, existingIds, newBusinessIdCounter, digitCount);\r\n            finalItem[businessIdField] = result.nextId;\r\n            newBusinessIdCounter = result.updatedCounter;\r\n          }\r\n        }\r\n        \r\n        const now = new Date().toISOString();\r\n        const currentUser = getCurrentUser?.();\r\n        const newItem = { \r\n          ...finalItem, \r\n          systemId: newSystemId, // ✅ Branded SystemId\r\n          createdAt: finalItem.createdAt || now,\r\n          updatedAt: now,\r\n          createdBy: finalItem.createdBy || currentUser,\r\n          updatedBy: currentUser,\r\n        } as unknown as T;\r\n        \r\n        // ✅ Update both data and counters atomically\r\n        set((state: any) => ({ \r\n          data: [...state.data, newItem],\r\n          _counters: {\r\n            systemId: newSystemIdCounter,\r\n            businessId: newBusinessIdCounter\r\n          }\r\n        }));\r\n        \r\n        // ✅ Sync to API in background\r\n        if (apiEndpoint) {\r\n          syncToAPI(apiEndpoint, 'create', newItem).catch(console.error);\r\n        }\r\n        \r\n        return newItem;\r\n    },\r\n    addMultiple: (items: Omit<T, 'systemId'>[]) => \r\n        set((state: any) => {\r\n            const now = new Date().toISOString();\r\n            const currentUser = getCurrentUser?.();\r\n            const newItems: T[] = [];\r\n            const digitCount = 6; // All entities use 6 digits\r\n            \r\n            // ✅ Start from current counters\r\n            let currentSystemIdCounter = state._counters.systemId;\r\n            let currentBusinessIdCounter = state._counters.businessId;\r\n            \r\n            items.forEach(item => {\r\n                // ✅ Generate SystemId from current counter\r\n                currentSystemIdCounter++;\r\n                const newSystemId = createSystemId(generateSystemId(entityType, currentSystemIdCounter));\r\n                \r\n                // Generate or validate Business ID (if field exists)\r\n                let finalItem = { ...item } as any;\r\n                if (businessIdField in item) {\r\n                  const customId = (item as any)[businessIdField];\r\n                  \r\n                  // Collect existing IDs (from state + already added in this batch)\r\n                  const existingIds = [\r\n                    ...state.data.map((d: any) => d[businessIdField]),\r\n                    ...newItems.map((d: any) => d[businessIdField])\r\n                  ];\r\n                  \r\n                  // ✅ If customId provided, validate uniqueness\r\n                  if (customId && customId.trim()) {\r\n                    if (!isBusinessIdUnique(customId, existingIds)) {\r\n                      throw new Error(`Mã \"${customId}\" đã tồn tại! Vui lòng sử dụng mã khác.`);\r\n                    }\r\n                    finalItem[businessIdField] = customId.trim().toUpperCase();\r\n                  } else {\r\n                    // ✅ Auto-generate with findNextAvailableBusinessId\r\n                    const result = findNextAvailableBusinessId(businessPrefix, existingIds, currentBusinessIdCounter, digitCount);\r\n                    finalItem[businessIdField] = result.nextId;\r\n                    currentBusinessIdCounter = result.updatedCounter;\r\n                  }\r\n                }\r\n                \r\n                newItems.push({ \r\n                  ...finalItem, \r\n                  systemId: newSystemId,\r\n                  createdAt: now,\r\n                  updatedAt: now,\r\n                  createdBy: currentUser,\r\n                  updatedBy: currentUser,\r\n                } as unknown as T);\r\n            });\r\n            \r\n            // ✅ Update both data and counters\r\n            const result = { \r\n              data: [...state.data, ...newItems],\r\n              _counters: {\r\n                systemId: currentSystemIdCounter,\r\n                businessId: currentBusinessIdCounter\r\n              }\r\n            };\r\n            \r\n            // ✅ Sync to API in background (batch)\r\n            if (apiEndpoint) {\r\n              newItems.forEach(item => {\r\n                syncToAPI(apiEndpoint, 'create', item).catch(console.error);\r\n              });\r\n            }\r\n            \r\n            return result;\r\n        }),\r\n    update: (systemId: SystemId, updatedItem: Partial<T>) => {\r\n      // Validate unique business ID (case-insensitive, skip self)\r\n      if (businessIdField in updatedItem) {\r\n        const businessId = (updatedItem as any)[businessIdField];\r\n        const existingIds = get().data\r\n          .filter((d: any) => d.systemId !== systemId)\r\n          .map((d: any) => d[businessIdField]);\r\n        \r\n        if (businessId && !isBusinessIdUnique(businessId, existingIds)) {\r\n          throw new Error(`Mã \"${businessId}\" đã tồn tại! Vui lòng sử dụng mã khác.`);\r\n        }\r\n      }\r\n\r\n      const now = new Date().toISOString();\r\n      const currentUser = getCurrentUser?.();\r\n      set((state: any) => ({\r\n        data: state.data.map((item: T) =>\r\n          item.systemId === systemId \r\n            ? { ...item, ...updatedItem, updatedAt: now, updatedBy: currentUser } as T\r\n            : item\r\n        ),\r\n      }));\r\n      \r\n      // ✅ Sync to API in background\r\n      if (apiEndpoint) {\r\n        const fullItem = get().data.find((item: T) => item.systemId === systemId);\r\n        if (fullItem) {\r\n          syncToAPI(apiEndpoint, 'update', fullItem, systemId).catch(console.error);\r\n        }\r\n      }\r\n    },\r\n    remove: (systemId: SystemId) => {\r\n      // Soft delete - mark as deleted\r\n      const now = new Date().toISOString();\r\n      set((state: any) => ({\r\n        data: state.data.map((item: T) =>\r\n          item.systemId === systemId\r\n            ? { ...item, isDeleted: true, deletedAt: now } as T\r\n            : item\r\n        ),\r\n      }));\r\n      \r\n      // ✅ Sync to API in background\r\n      if (apiEndpoint) {\r\n        const item = get().data.find((item: T) => item.systemId === systemId);\r\n        if (item) {\r\n          syncToAPI(apiEndpoint, 'update', { ...item, isDeleted: true, deletedAt: now }, systemId).catch(console.error);\r\n        }\r\n      }\r\n    },\r\n    hardDelete: (systemId: SystemId) => {\r\n      // Permanent delete - remove from array\r\n      set((state: any) => ({\r\n        data: state.data.filter((item: T) => item.systemId !== systemId),\r\n      }));\r\n      \r\n      // ✅ Sync to API in background\r\n      if (apiEndpoint) {\r\n        syncToAPI(apiEndpoint, 'delete', { systemId }, systemId).catch(console.error);\r\n      }\r\n    },\r\n    restore: (systemId: SystemId) => {\r\n      // Restore soft-deleted item\r\n      set((state: any) => ({\r\n        data: state.data.map((item: T) =>\r\n          item.systemId === systemId\r\n            ? { ...item, isDeleted: false, deletedAt: null } as T\r\n            : item\r\n        ),\r\n      }));\r\n      \r\n      // ✅ Sync to API in background\r\n      if (apiEndpoint) {\r\n        const item = get().data.find((item: T) => item.systemId === systemId);\r\n        if (item) {\r\n          syncToAPI(apiEndpoint, 'restore', { ...item, isDeleted: false, deletedAt: null }, systemId).catch(console.error);\r\n        }\r\n      }\r\n    },\r\n    getActive: () => get().data.filter((item: any) => !item.isDeleted),\r\n    getDeleted: () => get().data.filter((item: any) => item.isDeleted),\r\n    findById: (id: SystemId | string) => get().data.find((item: T) => item.systemId === id || (item as any).id === id),\r\n    \r\n    // ✅ Load data from database API - OPTIMIZED: No more limit=10000!\r\n    // This is now only used for counter initialization, NOT for loading all data\r\n    // Use React Query hooks for data fetching with proper pagination\r\n    loadFromAPI: async () => {\r\n      if (!apiEndpoint) return;\r\n      if (get()._initialized) return;\r\n      \r\n      try {\r\n        // Only fetch minimal data needed to initialize counters\r\n        // Actual data loading should be done via React Query hooks\r\n        const response = await fetch(`${apiEndpoint}?limit=1&sortBy=systemId&sortOrder=desc`, {\r\n          credentials: 'include',\r\n        });\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          const pagination = json.pagination || {};\r\n          const lastItem = json.data?.[0];\r\n          \r\n          // Initialize counters from the latest item (highest IDs)\r\n          const newCounters = {\r\n            systemId: lastItem ? getMaxSystemIdCounter([lastItem], systemIdPrefix) : 0,\r\n            businessId: (lastItem && options?.businessIdField)\r\n              ? getMaxBusinessIdCounter([lastItem] as any[], businessPrefix)\r\n              : 0\r\n          };\r\n          \r\n          set({ \r\n            data: [], // Don't store data in Zustand anymore - use React Query\r\n            _counters: newCounters,\r\n            _initialized: true \r\n          });\r\n          \r\n          console.log(`[Store Factory] ${apiEndpoint} initialized. Total records: ${pagination.total || 'unknown'}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(`[Store Factory] loadFromAPI error for ${apiEndpoint}:`, error);\r\n        // Still mark as initialized to prevent infinite retry\r\n        set({ _initialized: true });\r\n      }\r\n    },\r\n  });\r\n\r\n  // ✅ SIMPLIFIED: No localStorage persistence, database is source of truth\r\n  // Data is loaded via ApiSyncProvider on app init\r\n  return create<CrudState<T>>(storeConfig);\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1915, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-types-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { CustomerType } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultCustomerTypes: CustomerType[] = [\r\n  {\r\n    systemId: asSystemId('CTYPE00000001'),\r\n    id: asBusinessId('CANHAN'),\r\n    name: 'Cá nhân',\r\n    description: 'Khách hàng cá nhân, mua lẻ',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-05T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CTYPE00000002'),\r\n    id: asBusinessId('DOANHNGHIEP'),\r\n    name: 'Doanh nghiệp',\r\n    description: 'Khách hàng là công ty, doanh nghiệp',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-06T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,uBAAuC;IAClD;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD"}},
    {"offset": {"line": 1952, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-types-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CustomerType } from './types';\r\nimport { defaultCustomerTypes } from './customer-types-data';\r\n\r\nexport const useCustomerTypeStore = createCrudStore<CustomerType>(\r\n  defaultCustomerTypes, 'customer-types',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=customer-type',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,uBAAuB,IAAA,6IAAe,EACjD,yLAAoB,EAAE,kBACtB;IACE,aAAa;AACf"}},
    {"offset": {"line": 1970, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-groups-data.ts"],"sourcesContent":["import type { CustomerGroup } from './types';\r\nimport { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultCustomerGroups: CustomerGroup[] = [\r\n  {\r\n    systemId: asSystemId('CGROUP00000001'),\r\n    id: asBusinessId('VIP'),\r\n    name: 'VIP',\r\n    description: 'Khách hàng VIP, mua nhiều, giá trị cao',\r\n    color: '#FFD700',\r\n    defaultCreditLimit: 50000000,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-01T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CGROUP00000002'),\r\n    id: asBusinessId('THUONGXUYEN'),\r\n    name: 'Thường xuyên',\r\n    description: 'Khách hàng mua thường xuyên',\r\n    color: '#4CAF50',\r\n    defaultCreditLimit: 20000000,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-02T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CGROUP00000003'),\r\n    id: asBusinessId('MOI'),\r\n    name: 'Mới',\r\n    description: 'Khách hàng mới, lần đầu mua',\r\n    color: '#2196F3',\r\n    defaultCreditLimit: 5000000,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-03T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CGROUP00000004'),\r\n    id: asBusinessId('TIEMNANG'),\r\n    name: 'Tiềm năng',\r\n    description: 'Khách hàng tiềm năng, đang tìm hiểu',\r\n    color: '#FF9800',\r\n    defaultCreditLimit: 0,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-04T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAEO,MAAM,wBAAyC;IACpD;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,oBAAoB;QACpB,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,oBAAoB;QACpB,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,oBAAoB;QACpB,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,oBAAoB;QACpB,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD"}},
    {"offset": {"line": 2035, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-groups-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CustomerGroup } from './types';\r\nimport { defaultCustomerGroups } from './customer-groups-data';\r\n\r\nexport const useCustomerGroupStore = createCrudStore<CustomerGroup>(\r\n  defaultCustomerGroups, 'customer-groups',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=customer-group',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,wBAAwB,IAAA,6IAAe,EAClD,2LAAqB,EAAE,mBACvB;IACE,aAAa;AACf"}},
    {"offset": {"line": 2053, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-sources-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { CustomerSource } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultCustomerSources: CustomerSource[] = [\r\n  {\r\n    systemId: asSystemId('CSOURCE00000001'),\r\n    id: asBusinessId('WEBSITE'),\r\n    name: 'Website',\r\n    description: 'Khách hàng đến từ website công ty',\r\n    type: 'Online',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-07T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000002'),\r\n    id: asBusinessId('FACEBOOK'),\r\n    name: 'Facebook',\r\n    description: 'Khách hàng từ quảng cáo Facebook',\r\n    type: 'Online',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-08T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000003'),\r\n    id: asBusinessId('ZALO'),\r\n    name: 'Zalo',\r\n    description: 'Khách hàng từ Zalo',\r\n    type: 'Online',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-09T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000004'),\r\n    id: asBusinessId('GIOITHIEU'),\r\n    name: 'Giới thiệu',\r\n    description: 'Khách hàng được giới thiệu bởi khách cũ',\r\n    type: 'Referral',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-10T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000005'),\r\n    id: asBusinessId('CUAHANG'),\r\n    name: 'Cửa hàng',\r\n    description: 'Khách hàng đến trực tiếp cửa hàng',\r\n    type: 'Offline',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-11T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CSOURCE00000006'),\r\n    id: asBusinessId('DOITAC'),\r\n    name: 'Đối tác',\r\n    description: 'Khách hàng từ đối tác liên kết',\r\n    type: 'Other',\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-12T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,yBAA2C;IACtD;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD"}},
    {"offset": {"line": 2136, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/customer-sources-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CustomerSource } from './types';\r\nimport { defaultCustomerSources } from './customer-sources-data';\r\n\r\nexport const useCustomerSourceStore = createCrudStore<CustomerSource>(\r\n  defaultCustomerSources, 'customer-sources',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=customer-source',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,yBAAyB,IAAA,6IAAe,EACnD,6LAAsB,EAAE,oBACxB;IACE,aAAa;AACf"}},
    {"offset": {"line": 2154, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/payment-terms-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { PaymentTerm } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultPaymentTerms: PaymentTerm[] = [\r\n  {\r\n    systemId: asSystemId('PTERM00000001'),\r\n    id: asBusinessId('COD'),\r\n    name: 'Thanh toán ngay (COD)',\r\n    description: 'Thanh toán khi nhận hàng',\r\n    days: 0,\r\n    isDefault: true,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-19T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000002'),\r\n    id: asBusinessId('NET7'),\r\n    name: 'Thanh toán trong 7 ngày',\r\n    description: 'Thanh toán trong vòng 7 ngày kể từ ngày nhận hàng',\r\n    days: 7,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-20T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000003'),\r\n    id: asBusinessId('NET15'),\r\n    name: 'Thanh toán trong 15 ngày',\r\n    description: 'Thanh toán trong vòng 15 ngày kể từ ngày nhận hàng',\r\n    days: 15,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-21T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000004'),\r\n    id: asBusinessId('NET30'),\r\n    name: 'Thanh toán trong 30 ngày',\r\n    description: 'Thanh toán trong vòng 30 ngày kể từ ngày nhận hàng',\r\n    days: 30,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-22T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000005'),\r\n    id: asBusinessId('NET60'),\r\n    name: 'Thanh toán trong 60 ngày',\r\n    description: 'Thanh toán trong vòng 60 ngày kể từ ngày nhận hàng',\r\n    days: 60,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-23T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('PTERM00000006'),\r\n    id: asBusinessId('NET90'),\r\n    name: 'Thanh toán trong 90 ngày',\r\n    description: 'Thanh toán trong vòng 90 ngày kể từ ngày nhận hàng',\r\n    days: 90,\r\n    isDefault: false,\r\n    isActive: true,\r\n     ...buildSeedAuditFields({ createdAt: '2024-01-24T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,sBAAqC;IAChD;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,MAAM;QACN,WAAW;QACX,UAAU;QACT,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IACjE;CACD"}},
    {"offset": {"line": 2243, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/payment-terms-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { PaymentTerm } from './types';\r\nimport { defaultPaymentTerms } from './payment-terms-data';\r\n\r\nexport const usePaymentTermStore = createCrudStore<PaymentTerm>(\r\n  defaultPaymentTerms, 'payment-terms',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=payment-term',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,sBAAsB,IAAA,6IAAe,EAChD,uLAAmB,EAAE,iBACrB;IACE,aAAa;AACf"}},
    {"offset": {"line": 2261, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/credit-ratings-data.ts"],"sourcesContent":["import { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport type { CreditRating } from './types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultCreditRatings: CreditRating[] = [\r\n  {\r\n    systemId: asSystemId('CRATING00000001'),\r\n      id: asBusinessId('AAA'),\r\n    name: 'AAA - Xuất sắc',\r\n    description: 'Khách hàng có lịch sử thanh toán hoàn hảo, tín dụng cao',\r\n    level: 1,\r\n    maxCreditLimit: 1000000000, // 1 tỷ\r\n    color: '#4CAF50',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-13T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000002'),\r\n      id: asBusinessId('AA'),\r\n    name: 'AA - Rất tốt',\r\n    description: 'Khách hàng có lịch sử thanh toán rất tốt',\r\n    level: 2,\r\n    maxCreditLimit: 500000000, // 500 triệu\r\n    color: '#8BC34A',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-14T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000003'),\r\n      id: asBusinessId('A'),\r\n    name: 'A - Tốt',\r\n    description: 'Khách hàng có lịch sử thanh toán tốt',\r\n    level: 3,\r\n    maxCreditLimit: 200000000, // 200 triệu\r\n    color: '#CDDC39',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-15T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000004'),\r\n      id: asBusinessId('B'),\r\n    name: 'B - Trung bình',\r\n    description: 'Khách hàng có lịch sử thanh toán trung bình',\r\n    level: 4,\r\n    maxCreditLimit: 50000000, // 50 triệu\r\n    color: '#FF9800',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-16T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000005'),\r\n      id: asBusinessId('C'),\r\n    name: 'C - Yếu',\r\n    description: 'Khách hàng có lịch sử thanh toán chậm trễ',\r\n    level: 5,\r\n    maxCreditLimit: 10000000, // 10 triệu\r\n    color: '#FF5722',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-17T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('CRATING00000006'),\r\n      id: asBusinessId('D'),\r\n    name: 'D - Rủi ro cao',\r\n    description: 'Khách hàng có lịch sử thanh toán kém, rủi ro cao',\r\n    level: 6,\r\n    maxCreditLimit: 0,\r\n    color: '#F44336',\r\n    isActive: true,\r\n      ...buildSeedAuditFields({ createdAt: '2024-01-18T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,uBAAuC;IAClD;QACE,UAAU,IAAA,mIAAU,EAAC;QACnB,IAAI,IAAA,qIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACnB,IAAI,IAAA,qIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACnB,IAAI,IAAA,qIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACnB,IAAI,IAAA,qIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACnB,IAAI,IAAA,qIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACnB,IAAI,IAAA,qIAAY,EAAC;QACnB,MAAM;QACN,aAAa;QACb,OAAO;QACP,gBAAgB;QAChB,OAAO;QACP,UAAU;QACR,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAClE;CACD"}},
    {"offset": {"line": 2356, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/credit-ratings-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CreditRating } from './types';\r\nimport { defaultCreditRatings } from './credit-ratings-data';\r\n\r\nexport const useCreditRatingStore = createCrudStore<CreditRating>(\r\n  defaultCreditRatings, 'credit-ratings',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=credit-rating',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,uBAAuB,IAAA,6IAAe,EACjD,yLAAoB,EAAE,kBACtB;IACE,aAAa;AACf"}},
    {"offset": {"line": 2374, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/lifecycle-stages-data.ts"],"sourcesContent":["import type { LifecycleStage } from './types';\r\nimport { asSystemId, asBusinessId } from '../../../lib/id-types';\r\nimport { buildSeedAuditFields } from '@/lib/seed-audit';\r\n\r\nexport const defaultLifecycleStages: LifecycleStage[] = [\r\n  {\r\n    systemId: asSystemId('LSTAGE00000001'),\r\n    id: asBusinessId('LEAD'),\r\n    name: 'Tiềm năng (Lead)',\r\n    description: 'Khách hàng mới tiếp cận, chưa có nhu cầu rõ ràng',\r\n    color: '#9E9E9E',\r\n    orderIndex: 1,\r\n    probability: 10,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-01T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('LSTAGE00000002'),\r\n    id: asBusinessId('OPPORTUNITY'),\r\n    name: 'Cơ hội (Opportunity)',\r\n    description: 'Khách hàng đã thể hiện sự quan tâm, có nhu cầu',\r\n    color: '#2196F3',\r\n    orderIndex: 2,\r\n    probability: 30,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-02T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('LSTAGE00000003'),\r\n    id: asBusinessId('CUSTOMER'),\r\n    name: 'Khách hàng (Customer)',\r\n    description: 'Đã mua hàng',\r\n    color: '#4CAF50',\r\n    orderIndex: 3,\r\n    probability: 100,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-03T08:00:00Z' }),\r\n  },\r\n  {\r\n    systemId: asSystemId('LSTAGE00000004'),\r\n    id: asBusinessId('CHURNED'),\r\n    name: 'Rời bỏ (Churned)',\r\n    description: 'Khách hàng đã ngừng mua hàng',\r\n    color: '#F44336',\r\n    orderIndex: 4,\r\n    probability: 0,\r\n    isActive: true,\r\n    ...buildSeedAuditFields({ createdAt: '2024-01-04T08:00:00Z' }),\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAEO,MAAM,yBAA2C;IACtD;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,YAAY;QACZ,aAAa;QACb,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,YAAY;QACZ,aAAa;QACb,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,YAAY;QACZ,aAAa;QACb,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;IACA;QACE,UAAU,IAAA,mIAAU,EAAC;QACrB,IAAI,IAAA,qIAAY,EAAC;QACjB,MAAM;QACN,aAAa;QACb,OAAO;QACP,YAAY;QACZ,aAAa;QACb,UAAU;QACV,GAAG,IAAA,+IAAoB,EAAC;YAAE,WAAW;QAAuB,EAAE;IAChE;CACD"}},
    {"offset": {"line": 2443, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/lifecycle-stages-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { LifecycleStage } from './types';\r\nimport { defaultLifecycleStages } from './lifecycle-stages-data';\r\n\r\nexport const useLifecycleStageStore = createCrudStore<LifecycleStage>(\r\n  defaultLifecycleStages, 'lifecycle-stages',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=lifecycle-stage',\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,yBAAyB,IAAA,6IAAe,EACnD,6LAAsB,EAAE,oBACxB;IACE,aAAa;AACf"}},
    {"offset": {"line": 2461, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/sla-settings-store.ts"],"sourcesContent":["import { createCrudStore } from '../../../lib/store-factory';\r\nimport type { CustomerSlaSetting, CustomerSlaType } from './types';\r\nimport { defaultCustomerSlaSettings } from './sla-settings-data';\r\n\r\nexport const useCustomerSlaStore = createCrudStore<CustomerSlaSetting>(\r\n  defaultCustomerSlaSettings, 'sla-settings',\r\n  {\r\n    apiEndpoint: '/api/settings/customers?type=sla-setting',\r\n  }\r\n);\r\n\r\n// Helper function to get SLA by type (simplified - only 1 per type)\r\nexport function getSlaBySlaType(slaType: CustomerSlaType): CustomerSlaSetting | undefined {\r\n  return useCustomerSlaStore.getState().data.find(\r\n    (sla) => sla.slaType === slaType && sla.isActive\r\n  );\r\n}\r\n\r\n// Helper to load all active SLA settings\r\nexport function loadCustomerSlaSettings() {\r\n  return useCustomerSlaStore.getState().data.filter((sla) => sla.isActive);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAEA;;;AAEO,MAAM,sBAAsB,IAAA,6IAAe,EAChD,6LAA0B,EAAE,gBAC5B;IACE,aAAa;AACf;AAIK,SAAS,gBAAgB,OAAwB;IACtD,OAAO,oBAAoB,QAAQ,GAAG,IAAI,CAAC,IAAI,CAC7C,CAAC,MAAQ,IAAI,OAAO,KAAK,WAAW,IAAI,QAAQ;AAEpD;AAGO,SAAS;IACd,OAAO,oBAAoB,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,MAAQ,IAAI,QAAQ;AACzE"}},
    {"offset": {"line": 2489, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { useModal } from \"../../contexts/modal-context\"\r\n\r\n// Use the original Dialog component\r\nconst Dialog = DialogPrimitive.Root\r\n\r\n// Create a Context to pass ID through the Dialog component tree\r\nconst DialogContext = React.createContext<string>(\"\");\r\n\r\n// Provider component that accepts an ID\r\nconst DialogProvider = ({ id, children }: { id: string; children: React.ReactNode }) => {\r\n  return <DialogContext.Provider value={id}>{children}</DialogContext.Provider>;\r\n};\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & { \r\n    id?: string;\r\n    open?: boolean;\r\n  }\r\n>(({ className, children, id: propId, open, ...props }, ref) => {\r\n  // Use either the prop id or the id from context\r\n  const contextId = React.useContext(DialogContext);\r\n  const id = propId || contextId || `dialog-${React.useId()}`;\r\n  \r\n  // Register with our modal context using the open prop\r\n  const { zIndex } = useModal(id, !!open, 'dialog');\r\n  \r\n  return (\r\n    <DialogPortal>\r\n      {/* Sử dụng overlay chỉ dành cho Dialog */}\r\n      <DialogOverlay style={{ zIndex: zIndex - 1 }} />\r\n      <DialogPrimitive.Content\r\n        ref={ref}\r\n        className={cn(\r\n          \"dialog-content fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg sm:rounded-lg\",\r\n          className\r\n        )}\r\n        style={{ zIndex }}\r\n        {...props}\r\n      >\r\n        <DialogProvider id={id}>\r\n          {children}\r\n          <DialogPrimitive.Close\r\n            aria-label=\"Đóng\"\r\n            className=\"absolute right-4 top-4 flex h-9 w-9 items-center justify-center rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\"\r\n          >\r\n            <X className=\"h-4 w-4\" />\r\n            <span className=\"sr-only\">Đóng</span>\r\n          </DialogPrimitive.Close>\r\n        </DialogProvider>\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  );\r\n})\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n  DialogProvider,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;;;;;;;;AAEA,oCAAoC;AACpC,MAAM,SAAS,6KAAoB;AAEnC,gEAAgE;AAChE,MAAM,8BAAgB,8KAAmB,CAAS;AAElD,wCAAwC;AACxC,MAAM,iBAAiB,CAAC,EAAE,EAAE,EAAE,QAAQ,EAA6C;IACjF,qBAAO,6LAAC,cAAc,QAAQ;QAAC,OAAO;kBAAK;;;;;;AAC7C;KAFM;AAIN,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;MAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,GAAA,2KAAgB,UAMpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;;IACtD,gDAAgD;IAChD,MAAM,YAAY,2KAAgB,CAAC;IACnC,MAAM,KAAK,UAAU,aAAa,CAAC,OAAO,EAAE,sKAAW,IAAI;IAE3D,sDAAsD;IACtD,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,4IAAQ,EAAC,IAAI,CAAC,CAAC,MAAM;IAExC,qBACE,6LAAC;;0BAEC,6LAAC;gBAAc,OAAO;oBAAE,QAAQ,SAAS;gBAAE;;;;;;0BAC3C,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,qHAAE,EACX,kLACA;gBAEF,OAAO;oBAAE;gBAAO;gBACf,GAAG,KAAK;0BAET,cAAA,6LAAC;oBAAe,IAAI;;wBACjB;sCACD,6LAAC,8KAAqB;4BACpB,cAAW;4BACX,WAAU;;8CAEV,6LAAC,oMAAC;oCAAC,WAAU;;;;;;8CACb,6LAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;;QA5BqB,4IAAQ;;;;QAAR,4IAAQ;;;;AA6B7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 2699, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 2736, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport {\r\n  Controller,\r\n  FormProvider,\r\n  useFormContext,\r\n  type ControllerProps,\r\n  type FieldPath,\r\n  type FieldValues,\r\n} from \"react-hook-form\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { Label } from \"./label\"\r\n\r\nconst Form = FormProvider\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n> = {\r\n  name: TName\r\n}\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null)\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  )\r\n}\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext)\r\n  const itemContext = React.useContext(FormItemContext)\r\n  const { getFieldState, formState } = useFormContext()\r\n\r\n  if (!fieldContext) {\r\n    throw new Error(\"useFormField should be used within <FormField>\")\r\n  }\r\n\r\n  if (!itemContext) {\r\n    throw new Error(\"useFormField should be used within <FormItem>\")\r\n  }\r\n\r\n  const fieldState = getFieldState(fieldContext.name, formState)\r\n\r\n  const { id } = itemContext\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  }\r\n}\r\n\r\ntype FormItemContextValue = {\r\n  id: string\r\n}\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue | null>(null)\r\n\r\nconst FormItem = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => {\r\n  const id = React.useId()\r\n\r\n  return (\r\n    <FormItemContext.Provider value={{ id }}>\r\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\r\n    </FormItemContext.Provider>\r\n  )\r\n})\r\nFormItem.displayName = \"FormItem\"\r\n\r\nconst FormLabel = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  const { error, formItemId } = useFormField()\r\n\r\n  return (\r\n    <Label\r\n      ref={ref}\r\n      className={cn(error && \"text-destructive\", className)}\r\n      htmlFor={formItemId}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormLabel.displayName = \"FormLabel\"\r\n\r\nconst FormControl = React.forwardRef<\r\n  React.ElementRef<typeof Slot>,\r\n  React.ComponentPropsWithoutRef<typeof Slot>\r\n>(({ children, ...props }, ref) => {\r\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\r\n\r\n  const childElements = React.Children\r\n    .toArray(children)\r\n    .filter((child): child is React.ReactElement => React.isValidElement(child))\r\n\r\n  if (childElements.length === 0) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.warn('FormControl cần ít nhất một phần tử con hợp lệ')\r\n    }\r\n    return null\r\n  }\r\n\r\n  if (childElements.length > 1 && process.env.NODE_ENV === 'development') {\r\n    console.warn('FormControl chỉ hỗ trợ một phần tử con. Đang dùng phần tử đầu tiên.')\r\n  }\r\n\r\n  return (\r\n    <Slot\r\n      ref={ref}\r\n      id={formItemId}\r\n      aria-describedby={\r\n        !error\r\n          ? `${formDescriptionId}`\r\n          : `${formDescriptionId} ${formMessageId}`\r\n      }\r\n      aria-invalid={!!error}\r\n      {...props}\r\n    >\r\n      {childElements[0]}\r\n    </Slot>\r\n  )\r\n})\r\nFormControl.displayName = \"FormControl\"\r\n\r\nconst FormDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => {\r\n  const { formDescriptionId } = useFormField()\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      id={formDescriptionId}\r\n      className={cn(\"text-sm text-muted-foreground\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormDescription.displayName = \"FormDescription\"\r\n\r\nconst FormMessage = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, children, ...props }, ref) => {\r\n  const { error, formMessageId } = useFormField()\r\n  const body = error ? String(error?.message ?? \"\") : children\r\n\r\n  if (!body) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      id={formMessageId}\r\n      className={cn(\"text-sm font-medium text-destructive\", className)}\r\n      {...props}\r\n    >\r\n      {body}\r\n    </p>\r\n  )\r\n})\r\nFormMessage.displayName = \"FormMessage\"\r\n\r\nexport {\r\n  useFormField,\r\n  Form,\r\n  FormItem,\r\n  FormLabel,\r\n  FormControl,\r\n  FormDescription,\r\n  FormMessage,\r\n  FormField,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2975, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Textarea = React.forwardRef<\r\n  HTMLTextAreaElement,\r\n  React.ComponentProps<\"textarea\">\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <textarea\r\n      className={cn(\r\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 3009, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { useModal } from \"../../contexts/modal-context\"\r\n\r\ntype BaseSelectProps = React.ComponentPropsWithoutRef<typeof SelectPrimitive.Root>\r\n\r\ntype SelectProps = Omit<BaseSelectProps, \"value\" | \"defaultValue\"> & {\r\n  value?: string | undefined\r\n  defaultValue?: string | undefined\r\n}\r\n\r\nconst Select = ({ value, defaultValue, ...props }: SelectProps) => {\r\n  const controlledProps: Partial<BaseSelectProps> = {}\r\n\r\n  if (value !== undefined) {\r\n    controlledProps.value = value\r\n  }\r\n\r\n  if (defaultValue !== undefined) {\r\n    controlledProps.defaultValue = defaultValue\r\n  }\r\n\r\n  return <SelectPrimitive.Root {...props} {...controlledProps} />\r\n}\r\nSelect.displayName = SelectPrimitive.Root.displayName\r\n\r\nconst SelectGroup = SelectPrimitive.Group\r\n\r\nconst SelectValue = SelectPrimitive.Value\r\n\r\nconst SelectTrigger = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <SelectPrimitive.Icon asChild>\r\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n    </SelectPrimitive.Icon>\r\n  </SelectPrimitive.Trigger>\r\n))\r\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\r\n\r\nconst SelectScrollUpButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollUpButton\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default items-center justify-center py-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ChevronUp className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollUpButton>\r\n))\r\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\r\n\r\nconst SelectScrollDownButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollDownButton\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default items-center justify-center py-1\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ChevronDown className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollDownButton>\r\n))\r\nSelectScrollDownButton.displayName =\r\n  SelectPrimitive.ScrollDownButton.displayName\r\n\r\nconst SelectContent = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\r\n>(({ className, children, position = \"popper\", ...props }, ref) => {\r\n  const modalId = React.useId();\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n  const { zIndex } = useModal(modalId, isOpen, 'select');\r\n\r\n  React.useEffect(() => {\r\n    const content = ref && 'current' in ref ? ref.current : null;\r\n    if (!content) return;\r\n\r\n    const observer = new MutationObserver((mutations) => {\r\n      mutations.forEach((mutation) => {\r\n        if (mutation.type === 'attributes' && mutation.attributeName === 'data-state') {\r\n          const target = mutation.target as HTMLElement;\r\n          const state = target.getAttribute('data-state');\r\n          setIsOpen(state === 'open');\r\n        }\r\n      });\r\n    });\r\n\r\n    observer.observe(content, { attributes: true, attributeFilter: ['data-state'] });\r\n\r\n    return () => observer.disconnect();\r\n  }, [ref]);\r\n\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        ref={ref}\r\n        className={cn(\r\n          \"relative max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\r\n          position === \"popper\" &&\r\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n          className\r\n        )}\r\n        style={{ zIndex }}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            \"p-1\",\r\n            position === \"popper\" &&\r\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  );\r\n})\r\nSelectContent.displayName = SelectPrimitive.Content.displayName\r\n\r\nconst SelectLabel = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSelectLabel.displayName = SelectPrimitive.Label.displayName\r\n\r\nconst SelectItem = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <SelectPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </SelectPrimitive.ItemIndicator>\r\n    </span>\r\n\r\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n  </SelectPrimitive.Item>\r\n))\r\nSelectItem.displayName = SelectPrimitive.Item.displayName\r\n\r\nconst SelectSeparator = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\r\n\r\nexport {\r\n  Select,\r\n  SelectGroup,\r\n  SelectValue,\r\n  SelectTrigger,\r\n  SelectContent,\r\n  SelectLabel,\r\n  SelectItem,\r\n  SelectSeparator,\r\n  SelectScrollUpButton,\r\n  SelectScrollDownButton,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3300, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/currency-input.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Input } from \"./input\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\nexport interface CurrencyInputProps\r\n  extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange' | 'value'> {\r\n  value?: number | undefined;\r\n  onChange?: (value: number) => void;\r\n}\r\n\r\nconst CurrencyInput = React.forwardRef<HTMLInputElement, CurrencyInputProps>(\r\n  ({ className, value, onChange, ...props }, ref) => {\r\n    const [displayValue, setDisplayValue] = React.useState(\"\");\r\n\r\n    // Format number with thousand separators\r\n    const formatNumber = (num: number): string => {\r\n      return new Intl.NumberFormat('vi-VN').format(num);\r\n    };\r\n\r\n    // Parse formatted string back to number\r\n    const parseNumber = (str: string): number => {\r\n      const cleaned = str.replace(/\\./g, '').replace(/,/g, '');\r\n      const num = parseInt(cleaned, 10);\r\n      return isNaN(num) ? 0 : Math.max(0, num); // Không cho phép số âm\r\n    };\r\n\r\n    // Sync external value to display\r\n    React.useEffect(() => {\r\n      if (value !== undefined) {\r\n        setDisplayValue(value === 0 ? \"\" : formatNumber(value));\r\n      }\r\n    }, [value]);\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      const inputValue = e.target.value;\r\n      \r\n      // Cho phép rỗng\r\n      if (inputValue === \"\") {\r\n        setDisplayValue(\"\");\r\n        onChange?.(0);\r\n        return;\r\n      }\r\n\r\n      // Chỉ cho phép số và dấu chấm, không cho phép dấu trừ\r\n      const cleaned = inputValue.replace(/[^\\d.]/g, '');\r\n      \r\n      // Không xử lý nếu có ký tự không hợp lệ (bao gồm dấu trừ)\r\n      if (inputValue.length > 0 && cleaned === \"\" && inputValue !== \"\") {\r\n        return;\r\n      }\r\n      \r\n      const num = parseNumber(cleaned);\r\n      \r\n      // Cập nhật display và gọi onChange\r\n      setDisplayValue(formatNumber(num));\r\n      onChange?.(num);\r\n    };\r\n\r\n    const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\r\n      // Format lại khi blur\r\n      if (value !== undefined && value > 0) {\r\n        setDisplayValue(formatNumber(value));\r\n      }\r\n      props.onBlur?.(e);\r\n    };\r\n\r\n    return (\r\n      <div className=\"relative\">\r\n        <Input\r\n          ref={ref}\r\n          type=\"text\"\r\n          inputMode=\"numeric\"\r\n          value={displayValue}\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n          className={cn(\"text-right pr-14 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\", className)}\r\n          {...props}\r\n        />\r\n        <span className={cn(\r\n          \"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground pointer-events-none\",\r\n          props.disabled && \"opacity-50\"\r\n        )}>\r\n          VND\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCurrencyInput.displayName = \"CurrencyInput\";\r\n\r\nexport { CurrencyInput };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAQA,MAAM,8BAAgB,GAAA,2KAAgB,SACpC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,yKAAc,CAAC;IAEvD,yCAAyC;IACzC,MAAM,eAAe,CAAC;QACpB,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;IAC/C;IAEA,wCAAwC;IACxC,MAAM,cAAc,CAAC;QACnB,MAAM,UAAU,IAAI,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM;QACrD,MAAM,MAAM,SAAS,SAAS;QAC9B,OAAO,MAAM,OAAO,IAAI,KAAK,GAAG,CAAC,GAAG,MAAM,uBAAuB;IACnE;IAEA,iCAAiC;IACjC,0KAAe;mCAAC;YACd,IAAI,UAAU,WAAW;gBACvB,gBAAgB,UAAU,IAAI,KAAK,aAAa;YAClD;QACF;kCAAG;QAAC;KAAM;IAEV,MAAM,eAAe,CAAC;QACpB,MAAM,aAAa,EAAE,MAAM,CAAC,KAAK;QAEjC,gBAAgB;QAChB,IAAI,eAAe,IAAI;YACrB,gBAAgB;YAChB,WAAW;YACX;QACF;QAEA,sDAAsD;QACtD,MAAM,UAAU,WAAW,OAAO,CAAC,WAAW;QAE9C,0DAA0D;QAC1D,IAAI,WAAW,MAAM,GAAG,KAAK,YAAY,MAAM,eAAe,IAAI;YAChE;QACF;QAEA,MAAM,MAAM,YAAY;QAExB,mCAAmC;QACnC,gBAAgB,aAAa;QAC7B,WAAW;IACb;IAEA,MAAM,aAAa,CAAC;QAClB,sBAAsB;QACtB,IAAI,UAAU,aAAa,QAAQ,GAAG;YACpC,gBAAgB,aAAa;QAC/B;QACA,MAAM,MAAM,GAAG;IACjB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,sIAAK;gBACJ,KAAK;gBACL,MAAK;gBACL,WAAU;gBACV,OAAO;gBACP,UAAU;gBACV,QAAQ;gBACR,WAAW,IAAA,qHAAE,EAAC,yIAAyI;gBACtJ,GAAG,KAAK;;;;;;0BAEX,6LAAC;gBAAK,WAAW,IAAA,qHAAE,EACjB,+FACA,MAAM,QAAQ,IAAI;0BACjB;;;;;;;;;;;;AAKT;;AAGF,cAAc,WAAW,GAAG"}},
    {"offset": {"line": 3407, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/pricing/store.ts"],"sourcesContent":["import type { SystemId } from '@/lib/id-types';\r\nimport type { UseBoundStore, StoreApi } from 'zustand';\r\n// REMOVED: import { data as initialData } from './data'; // Mock data no longer used - database is source of truth\r\nimport type { PricingPolicy } from './types';\r\nimport { createCrudStore, type CrudState } from '../../../lib/store-factory';\r\nimport { getCurrentUserSystemId } from '../../../contexts/auth-context';\r\n\r\ntype PricingPolicyStore = CrudState<PricingPolicy> & {\r\n  setDefault: (systemId: SystemId) => void;\r\n  getActive: () => PricingPolicy[];\r\n  getInactive: () => PricingPolicy[];\r\n};\r\n\r\nconst baseStore = createCrudStore<PricingPolicy>([], 'pricing-settings', {\r\n  businessIdField: 'id',\r\n  getCurrentUser: getCurrentUserSystemId,\r\n  apiEndpoint: '/api/settings/data?type=pricing-policy',\r\n}) as UseBoundStore<StoreApi<PricingPolicyStore>>;\r\n\r\nconst originalAdd = baseStore.getState().add;\r\n\r\nconst setDefaultAction = (systemId: SystemId) => {\r\n  baseStore.setState((current) => {\r\n    const target = current.data.find((policy) => policy.systemId === systemId);\r\n    if (!target) return current;\r\n\r\n    const updatedData = current.data.map((policy) => (\r\n      policy.type === target.type\r\n        ? { ...policy, isDefault: policy.systemId === systemId }\r\n        : policy\r\n    ));\r\n\r\n    return { ...current, data: updatedData };\r\n  });\r\n};\r\n\r\nconst enhancedAdd: typeof originalAdd = (item) => {\r\n  const newItem = originalAdd(item);\r\n  const storeData = baseStore.getState().data;\r\n  const hasDefaultForType = storeData\r\n    .filter((policy) => policy.type === newItem.type)\r\n    .some((policy) => policy.isDefault);\r\n\r\n  if (item.isDefault) {\r\n    setDefaultAction(newItem.systemId);\r\n  } else if (!hasDefaultForType) {\r\n    setDefaultAction(newItem.systemId);\r\n  }\r\n\r\n  return newItem;\r\n};\r\n\r\nbaseStore.setState((state) => ({\r\n  ...state,\r\n  add: enhancedAdd,\r\n  setDefault: setDefaultAction,\r\n  getActive: () => baseStore.getState().data.filter((policy) => policy.isActive),\r\n  getInactive: () => baseStore.getState().data.filter((policy) => !policy.isActive),\r\n}));\r\n\r\nexport const usePricingPolicyStore = baseStore;\r\n"],"names":[],"mappings":";;;;AAIA;AACA;;;AAQA,MAAM,YAAY,IAAA,6IAAe,EAAgB,EAAE,EAAE,oBAAoB;IACvE,iBAAiB;IACjB,gBAAgB,yJAAsB;IACtC,aAAa;AACf;AAEA,MAAM,cAAc,UAAU,QAAQ,GAAG,GAAG;AAE5C,MAAM,mBAAmB,CAAC;IACxB,UAAU,QAAQ,CAAC,CAAC;QAClB,MAAM,SAAS,QAAQ,IAAI,CAAC,IAAI,CAAC,CAAC,SAAW,OAAO,QAAQ,KAAK;QACjE,IAAI,CAAC,QAAQ,OAAO;QAEpB,MAAM,cAAc,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,SACpC,OAAO,IAAI,KAAK,OAAO,IAAI,GACvB;gBAAE,GAAG,MAAM;gBAAE,WAAW,OAAO,QAAQ,KAAK;YAAS,IACrD;QAGN,OAAO;YAAE,GAAG,OAAO;YAAE,MAAM;QAAY;IACzC;AACF;AAEA,MAAM,cAAkC,CAAC;IACvC,MAAM,UAAU,YAAY;IAC5B,MAAM,YAAY,UAAU,QAAQ,GAAG,IAAI;IAC3C,MAAM,oBAAoB,UACvB,MAAM,CAAC,CAAC,SAAW,OAAO,IAAI,KAAK,QAAQ,IAAI,EAC/C,IAAI,CAAC,CAAC,SAAW,OAAO,SAAS;IAEpC,IAAI,KAAK,SAAS,EAAE;QAClB,iBAAiB,QAAQ,QAAQ;IACnC,OAAO,IAAI,CAAC,mBAAmB;QAC7B,iBAAiB,QAAQ,QAAQ;IACnC;IAEA,OAAO;AACT;AAEA,UAAU,QAAQ,CAAC,CAAC,QAAU,CAAC;QAC7B,GAAG,KAAK;QACR,KAAK;QACL,YAAY;QACZ,WAAW,IAAM,UAAU,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,SAAW,OAAO,QAAQ;QAC7E,aAAa,IAAM,UAAU,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,SAAW,CAAC,OAAO,QAAQ;IAClF,CAAC;AAEM,MAAM,wBAAwB"}},
    {"offset": {"line": 3461, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/validation.ts"],"sourcesContent":["import { z } from 'zod';\r\n\r\n// Base validation schema\r\nconst baseSettingSchema = z.object({\r\n  id: z.string().min(1, 'Mã không được để trống'),\r\n  name: z.string().min(1, 'Tên không được để trống'),\r\n  description: z.string().optional(),\r\n  isActive: z.boolean(),\r\n});\r\n\r\n// Customer Type schema\r\nexport const customerTypeSchema = baseSettingSchema.extend({\r\n  isDefault: z.boolean().optional(),\r\n});\r\nexport type CustomerTypeFormData = z.infer<typeof customerTypeSchema>;\r\n\r\n// Customer Group schema\r\nexport const customerGroupSchema = baseSettingSchema.extend({\r\n  color: z.string().optional(),\r\n  defaultCreditLimit: z.number().min(0).optional(),\r\n  defaultPriceListId: z.string().optional(),\r\n  isDefault: z.boolean().optional(),\r\n});\r\nexport type CustomerGroupFormData = z.infer<typeof customerGroupSchema>;\r\n\r\n// Customer Source schema\r\nexport const customerSourceSchema = baseSettingSchema.extend({\r\n  type: z.enum(['Online', 'Offline', 'Referral', 'Other']).optional(),\r\n  isDefault: z.boolean().optional(),\r\n});\r\nexport type CustomerSourceFormData = z.infer<typeof customerSourceSchema>;\r\n\r\n// Payment Term schema\r\nexport const paymentTermSchema = baseSettingSchema.extend({\r\n  days: z.number().min(0, 'Số ngày phải >= 0'),\r\n  isDefault: z.boolean().optional(),\r\n});\r\nexport type PaymentTermFormData = z.infer<typeof paymentTermSchema>;\r\n\r\n// Credit Rating schema\r\nexport const creditRatingSchema = baseSettingSchema.extend({\r\n  level: z.number().min(1).max(10),\r\n  maxCreditLimit: z.number().min(0).optional(),\r\n  color: z.string().optional(),\r\n  isDefault: z.boolean().optional(),\r\n});\r\nexport type CreditRatingFormData = z.infer<typeof creditRatingSchema>;\r\n\r\n// Lifecycle Stage schema\r\nexport const lifecycleStageSchema = baseSettingSchema.extend({\r\n  color: z.string().optional(),\r\n  orderIndex: z.number().min(0).optional(),\r\n  probability: z.number().min(0).max(100).optional(),\r\n  isDefault: z.boolean().optional(),\r\n});\r\nexport type LifecycleStageFormData = z.infer<typeof lifecycleStageSchema>;\r\n\r\n// Customer SLA Setting schema\r\nexport const customerSlaSettingSchema = baseSettingSchema.extend({\r\n  slaType: z.enum(['follow-up', 're-engagement', 'debt-payment']),\r\n  targetDays: z.number().min(1, 'Mục tiêu phải >= 1 ngày'),\r\n  warningDays: z.number().min(0).optional().default(0),\r\n  criticalDays: z.number().min(0).optional().default(0),\r\n  color: z.string().optional(),\r\n  isDefault: z.boolean().optional(),\r\n});\r\nexport type CustomerSlaSettingFormData = z.infer<typeof customerSlaSettingSchema>;\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;;AAEA,yBAAyB;AACzB,MAAM,oBAAoB,qLAAC,CAAC,MAAM,CAAC;IACjC,IAAI,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACtB,MAAM,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,aAAa,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,UAAU,qLAAC,CAAC,OAAO;AACrB;AAGO,MAAM,qBAAqB,kBAAkB,MAAM,CAAC;IACzD,WAAW,qLAAC,CAAC,OAAO,GAAG,QAAQ;AACjC;AAIO,MAAM,sBAAsB,kBAAkB,MAAM,CAAC;IAC1D,OAAO,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B,oBAAoB,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ;IAC9C,oBAAoB,qLAAC,CAAC,MAAM,GAAG,QAAQ;IACvC,WAAW,qLAAC,CAAC,OAAO,GAAG,QAAQ;AACjC;AAIO,MAAM,uBAAuB,kBAAkB,MAAM,CAAC;IAC3D,MAAM,qLAAC,CAAC,IAAI,CAAC;QAAC;QAAU;QAAW;QAAY;KAAQ,EAAE,QAAQ;IACjE,WAAW,qLAAC,CAAC,OAAO,GAAG,QAAQ;AACjC;AAIO,MAAM,oBAAoB,kBAAkB,MAAM,CAAC;IACxD,MAAM,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,WAAW,qLAAC,CAAC,OAAO,GAAG,QAAQ;AACjC;AAIO,MAAM,qBAAqB,kBAAkB,MAAM,CAAC;IACzD,OAAO,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;IAC7B,gBAAgB,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ;IAC1C,OAAO,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B,WAAW,qLAAC,CAAC,OAAO,GAAG,QAAQ;AACjC;AAIO,MAAM,uBAAuB,kBAAkB,MAAM,CAAC;IAC3D,OAAO,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B,YAAY,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ;IACtC,aAAa,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,QAAQ;IAChD,WAAW,qLAAC,CAAC,OAAO,GAAG,QAAQ;AACjC;AAIO,MAAM,2BAA2B,kBAAkB,MAAM,CAAC;IAC/D,SAAS,qLAAC,CAAC,IAAI,CAAC;QAAC;QAAa;QAAiB;KAAe;IAC9D,YAAY,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC9B,aAAa,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ,GAAG,OAAO,CAAC;IAClD,cAAc,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ,GAAG,OAAO,CAAC;IACnD,OAAO,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B,WAAW,qLAAC,CAAC,OAAO,GAAG,QAAQ;AACjC"}},
    {"offset": {"line": 3539, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/setting-form-dialog.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../../../components/ui/dialog';\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from '../../../components/ui/form';\r\nimport { Input } from '../../../components/ui/input';\r\nimport { Button } from '../../../components/ui/button';\r\nimport { Textarea } from '../../../components/ui/textarea';\r\nimport { Switch } from '../../../components/ui/switch';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '../../../components/ui/select';\r\nimport { CurrencyInput } from '../../../components/ui/currency-input';\r\nimport { usePricingPolicyStore } from '../pricing/store';\r\nimport {\r\n  customerTypeSchema,\r\n  customerGroupSchema,\r\n  customerSourceSchema,\r\n  paymentTermSchema,\r\n  creditRatingSchema,\r\n  lifecycleStageSchema,\r\n  customerSlaSettingSchema,\r\n  type CustomerTypeFormData,\r\n  type CustomerGroupFormData,\r\n  type CustomerSourceFormData,\r\n  type PaymentTermFormData,\r\n  type CreditRatingFormData,\r\n  type LifecycleStageFormData,\r\n  type CustomerSlaSettingFormData,\r\n} from './validation';\r\nimport type {\r\n  CustomerType,\r\n  CustomerGroup,\r\n  CustomerSource,\r\n  PaymentTerm,\r\n  CreditRating,\r\n  LifecycleStage,\r\n  CustomerSlaSetting,\r\n} from './types';\r\nimport { SLA_TYPE_LABELS } from './sla-settings-data';\r\n\r\n// Base props interface\r\ninterface BaseFormDialogProps<T> {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  initialData?: T | null;\r\n  onSubmit: (data: any) => void;\r\n  existingIds: string[];\r\n}\r\n\r\n// Customer Type Form Dialog\r\nexport function CustomerTypeFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: BaseFormDialogProps<CustomerType>) {\r\n  const isEdit = !!initialData;\r\n\r\n  const form = useForm<CustomerTypeFormData>({\r\n    resolver: zodResolver(customerTypeSchema) as any,\r\n    defaultValues: initialData as any || {\r\n      id: '',\r\n      name: '',\r\n      description: '',\r\n      isDefault: false,\r\n      isActive: true,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      form.reset((initialData as any) || {\r\n        id: '',\r\n        name: '',\r\n        description: '',\r\n        isDefault: false,\r\n        isActive: true,\r\n      });\r\n    }\r\n  }, [open, initialData]);\r\n\r\n  const handleSubmit = (values: CustomerTypeFormData) => {\r\n    // Validate unique ID\r\n    if (!isEdit || values.id !== initialData?.id) {\r\n      if (existingIds.includes(values.id)) {\r\n        form.setError('id', { type: 'manual', message: `Mã ${values.id} đã tồn tại!` });\r\n        return;\r\n      }\r\n    }\r\n    onSubmit(values);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl\">\r\n        <DialogHeader>\r\n          <DialogTitle>{isEdit ? 'Chỉnh sửa' : 'Thêm mới'} Loại khách hàng</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"id\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mã loại khách hàng <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: CT001\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: Cá nhân\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea placeholder=\"Mô tả chi tiết...\" {...field} value={field.value ?? ''} rows={3} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isDefault\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Mặc định</FormLabel>\r\n                    <FormDescription>Tự động chọn khi tạo khách hàng mới</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isActive\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Trạng thái</FormLabel>\r\n                    <FormDescription>Bật để cho phép sử dụng</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\">{isEdit ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// ============================================\r\n// Customer Group Form Dialog\r\n// ============================================\r\nexport function CustomerGroupFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: BaseFormDialogProps<CustomerGroup>) {\r\n  const isEdit = !!initialData;\r\n  const { getActive: getActivePriceLists } = usePricingPolicyStore();\r\n  const activePriceLists = getActivePriceLists();\r\n\r\n  const form = useForm<CustomerGroupFormData>({\r\n    resolver: zodResolver(customerGroupSchema) as any,\r\n    defaultValues: initialData as any || {\r\n      id: '',\r\n      name: '',\r\n      description: '',\r\n      defaultCreditLimit: 0,\r\n      defaultPriceListId: '',\r\n      isDefault: false,\r\n      isActive: true,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      form.reset((initialData as any) || {\r\n        id: '',\r\n        name: '',\r\n        description: '',\r\n        defaultCreditLimit: 0,\r\n        defaultPriceListId: '',\r\n        isDefault: false,\r\n        isActive: true,\r\n      });\r\n    }\r\n  }, [open, initialData]);\r\n\r\n  const handleSubmit = (values: CustomerGroupFormData) => {\r\n    if (!isEdit || values.id !== initialData?.id) {\r\n      if (existingIds.includes(values.id)) {\r\n        form.setError('id', { type: 'manual', message: `Mã ${values.id} đã tồn tại!` });\r\n        return;\r\n      }\r\n    }\r\n    onSubmit(values);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{isEdit ? 'Chỉnh sửa' : 'Thêm mới'} Nhóm khách hàng</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"id\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mã nhóm <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: VIP001\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: Khách hàng VIP\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"defaultCreditLimit\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Hạn mức công nợ mặc định</FormLabel>\r\n                    <FormControl>\r\n                      <CurrencyInput\r\n                        placeholder=\"VD: 50,000,000\"\r\n                        value={field.value ?? 0}\r\n                        onChange={field.onChange}\r\n                      />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"defaultPriceListId\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Bảng giá áp dụng mặc định</FormLabel>\r\n                  <Select onValueChange={field.onChange} value={field.value ?? ''}>\r\n                    <FormControl>\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Chọn bảng giá\" />\r\n                      </SelectTrigger>\r\n                    </FormControl>\r\n                    <SelectContent>\r\n                      {activePriceLists.map((policy) => (\r\n                        <SelectItem key={policy.id} value={policy.id}>\r\n                          {policy.name}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea placeholder=\"Mô tả chi tiết...\" {...field} value={field.value ?? ''} rows={3} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isDefault\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Mặc định</FormLabel>\r\n                    <FormDescription>Tự động chọn khi tạo khách hàng mới</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isActive\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Trạng thái</FormLabel>\r\n                    <FormDescription>Bật để cho phép sử dụng</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\">{isEdit ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// ============================================\r\n// Customer Source Form Dialog\r\n// ============================================\r\nexport function CustomerSourceFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: BaseFormDialogProps<CustomerSource>) {\r\n  const isEdit = !!initialData;\r\n\r\n  const form = useForm<CustomerSourceFormData>({\r\n    resolver: zodResolver(customerSourceSchema) as any,\r\n    defaultValues: initialData as any || {\r\n      id: '',\r\n      name: '',\r\n      description: '',\r\n      type: 'Online',\r\n      isDefault: false,\r\n      isActive: true,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      form.reset((initialData as any) || {\r\n        id: '',\r\n        name: '',\r\n        description: '',\r\n        type: 'Online',\r\n        isDefault: false,\r\n        isActive: true,\r\n      });\r\n    }\r\n  }, [open, initialData]);\r\n\r\n  const handleSubmit = (values: CustomerSourceFormData) => {\r\n    if (!isEdit || values.id !== initialData?.id) {\r\n      if (existingIds.includes(values.id)) {\r\n        form.setError('id', { type: 'manual', message: `Mã ${values.id} đã tồn tại!` });\r\n        return;\r\n      }\r\n    }\r\n    onSubmit(values);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{isEdit ? 'Chỉnh sửa' : 'Thêm mới'} Nguồn khách hàng</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"id\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mã nguồn <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: FB001\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: Facebook\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"type\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Loại nguồn</FormLabel>\r\n                  <Select onValueChange={field.onChange} value={field.value ?? ''}>\r\n                    <FormControl>\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Chọn loại nguồn\" />\r\n                      </SelectTrigger>\r\n                    </FormControl>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Online\">Online</SelectItem>\r\n                      <SelectItem value=\"Offline\">Offline</SelectItem>\r\n                      <SelectItem value=\"Referral\">Giới thiệu</SelectItem>\r\n                      <SelectItem value=\"Other\">Khác</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea placeholder=\"Mô tả chi tiết...\" {...field} value={field.value ?? ''} rows={3} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isDefault\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Mặc định</FormLabel>\r\n                    <FormDescription>Tự động chọn khi tạo khách hàng mới</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isActive\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Trạng thái</FormLabel>\r\n                    <FormDescription>Bật để cho phép sử dụng</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\">{isEdit ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// ============================================\r\n// Payment Term Form Dialog\r\n// ============================================\r\nexport function PaymentTermFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: BaseFormDialogProps<PaymentTerm>) {\r\n  const isEdit = !!initialData;\r\n\r\n  const form = useForm<PaymentTermFormData>({\r\n    resolver: zodResolver(paymentTermSchema) as any,\r\n    defaultValues: initialData as any || {\r\n      id: '',\r\n      name: '',\r\n      description: '',\r\n      days: 0,\r\n      isDefault: false,\r\n      isActive: true,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      form.reset((initialData as any) || {\r\n        id: '',\r\n        name: '',\r\n        description: '',\r\n        days: 0,\r\n        isDefault: false,\r\n        isActive: true,\r\n      });\r\n    }\r\n  }, [open, initialData]);\r\n\r\n  const handleSubmit = (values: PaymentTermFormData) => {\r\n    if (!isEdit || values.id !== initialData?.id) {\r\n      if (existingIds.includes(values.id)) {\r\n        form.setError('id', { type: 'manual', message: `Mã ${values.id} đã tồn tại!` });\r\n        return;\r\n      }\r\n    }\r\n    onSubmit(values);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{isEdit ? 'Chỉnh sửa' : 'Thêm mới'} Hạn thanh toán</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"id\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mã hạn thanh toán <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: NET30\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: Thanh toán trong 30 ngày\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"days\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Số ngày <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      placeholder=\"VD: 30\"\r\n                      {...field}\r\n                      value={field.value ?? 0}\r\n                      onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\r\n                    />\r\n                  </FormControl>\r\n                  <FormDescription>Số ngày khách hàng được phép trả chậm</FormDescription>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea placeholder=\"Mô tả chi tiết...\" {...field} value={field.value ?? ''} rows={3} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isDefault\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Mặc định</FormLabel>\r\n                    <FormDescription>Tự động chọn khi tạo đơn hàng mới</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isActive\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Trạng thái</FormLabel>\r\n                    <FormDescription>Bật để cho phép sử dụng</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\">{isEdit ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// ============================================\r\n// Credit Rating Form Dialog\r\n// ============================================\r\nexport function CreditRatingFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: BaseFormDialogProps<CreditRating>) {\r\n  const isEdit = !!initialData;\r\n\r\n  const form = useForm<CreditRatingFormData>({\r\n    resolver: zodResolver(creditRatingSchema) as any,\r\n    defaultValues: initialData as any || {\r\n      id: '',\r\n      name: '',\r\n      description: '',\r\n      level: 5,\r\n      maxCreditLimit: 0,\r\n      isDefault: false,\r\n      isActive: true,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      form.reset((initialData as any) || {\r\n        id: '',\r\n        name: '',\r\n        description: '',\r\n        level: 5,\r\n        maxCreditLimit: 0,\r\n        isDefault: false,\r\n        isActive: true,\r\n      });\r\n    }\r\n  }, [open, initialData]);\r\n\r\n  const handleSubmit = (values: CreditRatingFormData) => {\r\n    if (!isEdit || values.id !== initialData?.id) {\r\n      if (existingIds.includes(values.id)) {\r\n        form.setError('id', { type: 'manual', message: `Mã ${values.id} đã tồn tại!` });\r\n        return;\r\n      }\r\n    }\r\n    onSubmit(values);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{isEdit ? 'Chỉnh sửa' : 'Thêm mới'} Xếp hạng tín dụng</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"id\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mã xếp hạng <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: AAA\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: Xuất sắc\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"level\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Cấp độ (1-10) <span className=\"text-destructive\">*</span></FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        max=\"10\"\r\n                        placeholder=\"VD: 10\"\r\n                        {...field}\r\n                        value={field.value ?? 1}\r\n                        onChange={(e) => field.onChange(parseInt(e.target.value) || 1)}\r\n                      />\r\n                    </FormControl>\r\n                    <FormDescription>1 = Thấp nhất, 10 = Cao nhất</FormDescription>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"maxCreditLimit\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Hạn mức tín dụng tối đa</FormLabel>\r\n                    <FormControl>\r\n                      <CurrencyInput\r\n                        placeholder=\"VD: 100,000,000\"\r\n                        value={field.value ?? 0}\r\n                        onChange={field.onChange}\r\n                      />\r\n                    </FormControl>\r\n                    <FormDescription>Số tiền tối đa khách hàng được phép nợ</FormDescription>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea placeholder=\"Mô tả chi tiết...\" {...field} value={field.value ?? ''} rows={3} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isDefault\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Mặc định</FormLabel>\r\n                    <FormDescription>Tự động chọn khi tạo khách hàng mới</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isActive\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Trạng thái</FormLabel>\r\n                    <FormDescription>Bật để cho phép sử dụng</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\">{isEdit ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// ============================================\r\n// Lifecycle Stage Form Dialog\r\n// ============================================\r\nexport function LifecycleStageFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n  existingIds,\r\n}: BaseFormDialogProps<LifecycleStage>) {\r\n  const isEdit = !!initialData;\r\n\r\n  const form = useForm<LifecycleStageFormData>({\r\n    resolver: zodResolver(lifecycleStageSchema) as any,\r\n    defaultValues: initialData as any || {\r\n      id: '',\r\n      name: '',\r\n      description: '',\r\n      orderIndex: 0,\r\n      probability: 0,\r\n      isDefault: false,\r\n      isActive: true,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      form.reset((initialData as any) || {\r\n        id: '',\r\n        name: '',\r\n        description: '',\r\n        orderIndex: 0,\r\n        probability: 0,\r\n        isDefault: false,\r\n        isActive: true,\r\n      });\r\n    }\r\n  }, [open, initialData]);\r\n\r\n  const handleSubmit = (values: LifecycleStageFormData) => {\r\n    if (!isEdit || values.id !== initialData?.id) {\r\n      if (existingIds.includes(values.id)) {\r\n        form.setError('id', { type: 'manual', message: `Mã ${values.id} đã tồn tại!` });\r\n        return;\r\n      }\r\n    }\r\n    onSubmit(values);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{isEdit ? 'Chỉnh sửa' : 'Thêm mới'} Giai đoạn khách hàng</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"id\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mã giai đoạn <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: LEAD\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên <span className=\"text-destructive\">*</span></FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"VD: Tiềm năng\" {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"orderIndex\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Thứ tự hiển thị</FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        placeholder=\"VD: 1\"\r\n                        {...field}\r\n                        value={field.value ?? 0}\r\n                        onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\r\n                      />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"probability\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Xác suất thành công (%)</FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        max=\"100\"\r\n                        placeholder=\"VD: 10\"\r\n                        {...field}\r\n                        value={field.value ?? 0}\r\n                        onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\r\n                      />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea placeholder=\"Mô tả chi tiết...\" {...field} value={field.value ?? ''} rows={3} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isDefault\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Mặc định</FormLabel>\r\n                    <FormDescription>Tự động chọn khi tạo khách hàng mới</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"isActive\"\r\n              render={({ field }) => (\r\n                <FormItem className=\"flex items-center justify-between rounded-lg border border-border p-4\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <FormLabel className=\"text-base\">Trạng thái</FormLabel>\r\n                    <FormDescription>Bật để cho phép sử dụng</FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch checked={field.value} onCheckedChange={field.onChange} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\">{isEdit ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// ============================================\r\n// Customer SLA Setting Form Dialog\r\n// Đơn giản hóa: chỉ cho EDIT, không thêm mới\r\n// Mỗi loại SLA chỉ có 1 record cố định\r\n// ============================================\r\nexport function CustomerSlaSettingFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSubmit,\r\n}: BaseFormDialogProps<CustomerSlaSetting>) {\r\n  // SLA chỉ cho phép edit, không thêm mới\r\n  if (!initialData) {\r\n    return null;\r\n  }\r\n\r\n  const form = useForm<CustomerSlaSettingFormData>({\r\n    resolver: zodResolver(customerSlaSettingSchema) as any,\r\n    defaultValues: initialData as any,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open && initialData) {\r\n      form.reset(initialData as any);\r\n    }\r\n  }, [open, initialData]);\r\n\r\n  const handleSubmit = (values: CustomerSlaSettingFormData) => {\r\n    onSubmit(values);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle>Chỉnh sửa {SLA_TYPE_LABELS[initialData.slaType]}</DialogTitle>\r\n          <DialogDescription>\r\n            Thiết lập thời gian và ngưỡng cảnh báo\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Tên hiển thị</FormLabel>\r\n                  <FormControl>\r\n                    <Input {...field} value={field.value ?? ''} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"targetDays\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Mục tiêu</FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        {...field}\r\n                        value={field.value ?? 7}\r\n                        onChange={(e) => field.onChange(parseInt(e.target.value) || 1)}\r\n                      />\r\n                    </FormControl>\r\n                    <FormDescription className=\"text-xs\">ngày</FormDescription>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"warningDays\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Cảnh báo</FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        {...field}\r\n                        value={field.value ?? 2}\r\n                        onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\r\n                      />\r\n                    </FormControl>\r\n                    <FormDescription className=\"text-xs\">trước mục tiêu</FormDescription>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"criticalDays\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Nghiêm trọng</FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        {...field}\r\n                        value={field.value ?? 3}\r\n                        onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\r\n                      />\r\n                    </FormControl>\r\n                    <FormDescription className=\"text-xs\">quá mục tiêu</FormDescription>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"description\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Mô tả</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea placeholder=\"Mô tả chi tiết...\" {...field} value={field.value ?? ''} rows={2} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\">Cập nhật</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6807, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/components/ui/alert-dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\nimport { buttonVariants } from \"./button\"\r\n\r\nconst AlertDialog = AlertDialogPrimitive.Root\r\n\r\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\r\n\r\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\r\n\r\nconst AlertDialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80 transition-opacity duration-200 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:opacity-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\r\n\r\nconst AlertDialogContent = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPortal>\r\n    <AlertDialogOverlay />\r\n    <AlertDialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg transition-opacity duration-200 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:opacity-0 sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </AlertDialogPortal>\r\n))\r\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\r\n\r\nconst AlertDialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\r\n\r\nconst AlertDialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\r\n\r\nconst AlertDialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\r\n\r\nconst AlertDialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogDescription.displayName =\r\n  AlertDialogPrimitive.Description.displayName\r\n\r\nconst AlertDialogAction = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Action\r\n    ref={ref}\r\n    className={cn(buttonVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\r\n\r\nconst AlertDialogCancel = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Cancel\r\n    ref={ref}\r\n    className={cn(\r\n      buttonVariants({ variant: \"outline\" }),\r\n      \"mt-2 sm:mt-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\r\n\r\nexport {\r\n  AlertDialog,\r\n  AlertDialogPortal,\r\n  AlertDialogOverlay,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogFooter,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,cAAc,sLAAyB;AAE7C,MAAM,qBAAqB,yLAA4B;AAEvD,MAAM,oBAAoB,wLAA2B;AAErD,MAAM,mCAAqB,2KAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAA4B;QAC3B,WAAW,IAAA,qHAAE,EACX,wIACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,2KAAgB,OAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,qHAAE,EACX,yQACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,2KAAgB,OAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,uBAAuB,WAAW,GAChC,6LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,IAAA,gJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,2KAAgB,QAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,IAAA,gJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 6967, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/use-tab-action-registry.ts"],"sourcesContent":["import * as React from 'react';\r\n\r\nexport type RegisterTabActions = (actions?: React.ReactNode[]) => void;\r\n\r\nexport type TabActionRegistry = {\r\n  headerActions: React.ReactNode[];\r\n  registerActions: (tabValue: string) => RegisterTabActions;\r\n  setHeaderActions: React.Dispatch<React.SetStateAction<React.ReactNode[]>>;\r\n};\r\n\r\nexport function useTabActionRegistry(activeTab: string): TabActionRegistry {\r\n  const [headerActions, setHeaderActions] = React.useState<React.ReactNode[]>([]);\r\n\r\n  const registerActions = React.useCallback(\r\n    (tabValue: string) => (actions?: React.ReactNode[]) => {\r\n      if (tabValue === activeTab) {\r\n        setHeaderActions(actions ?? []);\r\n      }\r\n    },\r\n    [activeTab],\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    setHeaderActions([]);\r\n  }, [activeTab]);\r\n\r\n  return {\r\n    headerActions,\r\n    registerActions,\r\n    setHeaderActions,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAUO,SAAS,qBAAqB,SAAiB;;IACpD,MAAM,CAAC,eAAe,iBAAiB,GAAG,yKAAc,CAAoB,EAAE;IAE9E,MAAM,kBAAkB,4KAAiB;6DACvC,CAAC;qEAAqB,CAAC;oBACrB,IAAI,aAAa,WAAW;wBAC1B,iBAAiB,WAAW,EAAE;oBAChC;gBACF;;4DACA;QAAC;KAAU;IAGb,0KAAe;0CAAC;YACd,iBAAiB,EAAE;QACrB;yCAAG;QAAC;KAAU;IAEd,OAAO;QACL;QACA;QACA;IACF;AACF;GArBgB"}},
    {"offset": {"line": 7009, "column": 0}, "map": {"version":3,"sources":["file:///D:/hrm2/features/settings/customers/page.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { asSystemId } from '@/lib/id-types';\r\nimport { Plus } from 'lucide-react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../../../components/ui/card';\r\nimport { TabsContent } from '../../../components/ui/tabs';\r\nimport { SimpleSettingsTable } from '../../../components/settings/SimpleSettingsTable';\r\nimport {\r\n  getCustomerTypeColumns,\r\n  getCustomerGroupColumns,\r\n  getCustomerSourceColumns,\r\n  getPaymentTermColumns,\r\n  getCreditRatingColumns,\r\n  getLifecycleStageColumns,\r\n  getCustomerSlaColumns,\r\n} from './columns';\r\nimport { useSettingsPageHeader } from '../use-settings-page-header';\r\nimport { SettingsActionButton } from '../../../components/settings/SettingsActionButton';\r\nimport { SettingsVerticalTabs } from '../../../components/settings/SettingsVerticalTabs';\r\nimport { useCustomerTypeStore } from './customer-types-store';\r\nimport { useCustomerGroupStore } from './customer-groups-store';\r\nimport { useCustomerSourceStore } from './customer-sources-store';\r\nimport { usePaymentTermStore } from './payment-terms-store';\r\nimport { useCreditRatingStore } from './credit-ratings-store';\r\nimport { useLifecycleStageStore } from './lifecycle-stages-store';\r\nimport { useCustomerSlaStore } from './sla-settings-store';\r\nimport { \r\n  CustomerTypeFormDialog,\r\n  CustomerGroupFormDialog,\r\n  CustomerSourceFormDialog,\r\n  PaymentTermFormDialog,\r\n  CreditRatingFormDialog,\r\n  LifecycleStageFormDialog,\r\n  CustomerSlaSettingFormDialog,\r\n} from './setting-form-dialog';\r\nimport type { \r\n  CustomerType, \r\n  CustomerGroup, \r\n  CustomerSource, \r\n  PaymentTerm, \r\n  CreditRating,\r\n  LifecycleStage,\r\n  CustomerSlaSetting,\r\n} from './types';\r\nimport { toast } from 'sonner';\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from '../../../components/ui/alert-dialog';\r\nimport type { BaseSetting } from './types';\r\nimport { useTabActionRegistry } from '../use-tab-action-registry';\r\n\r\nexport default function CustomerSettingsPage() {\r\n  const [activeTab, setActiveTab] = React.useState('types');\r\n  const { headerActions, registerActions } = useTabActionRegistry(activeTab);\r\n  const registerTypeActions = React.useMemo(() => registerActions('types'), [registerActions]);\r\n  const registerGroupActions = React.useMemo(() => registerActions('groups'), [registerActions]);\r\n  const registerSourceActions = React.useMemo(() => registerActions('sources'), [registerActions]);\r\n  const registerPaymentTermActions = React.useMemo(() => registerActions('payment-terms'), [registerActions]);\r\n  const registerCreditRatingActions = React.useMemo(() => registerActions('credit-ratings'), [registerActions]);\r\n  const registerLifecycleStageActions = React.useMemo(() => registerActions('lifecycle-stages'), [registerActions]);\r\n  const registerSlaActions = React.useMemo(() => registerActions('sla'), [registerActions]);\r\n  const [dialogOpen, setDialogOpen] = React.useState(false);\r\n  const [editingItem, setEditingItem] = React.useState<any>(null);\r\n\r\n  // Stores\r\n  const customerTypes = useCustomerTypeStore();\r\n  const customerGroups = useCustomerGroupStore();\r\n  const customerSources = useCustomerSourceStore();\r\n  const paymentTerms = usePaymentTermStore();\r\n  const creditRatings = useCreditRatingStore();\r\n  const lifecycleStages = useLifecycleStageStore();\r\n  const slaSettings = useCustomerSlaStore();\r\n\r\n  // Data map - moved up to be available for handlers\r\n  const activeDataMap = React.useMemo(() => ({\r\n    types: customerTypes.getActive(),\r\n    groups: customerGroups.getActive(),\r\n    sources: customerSources.getActive(),\r\n    'payment-terms': paymentTerms.getActive(),\r\n    'credit-ratings': creditRatings.getActive(),\r\n    'lifecycle-stages': lifecycleStages.getActive(),\r\n    'sla': slaSettings.getActive(),\r\n  }), [\r\n    customerTypes.data,\r\n    customerGroups.data,\r\n    customerSources.data,\r\n    paymentTerms.data,\r\n    creditRatings.data,\r\n    lifecycleStages.data,\r\n    slaSettings.data,\r\n  ]);\r\n\r\n  const handleAdd = React.useCallback(() => {\r\n    setEditingItem(null);\r\n    setDialogOpen(true);\r\n  }, []);\r\n\r\n  const [deleteDialog, setDeleteDialog] = React.useState<{ isOpen: boolean; item: BaseSetting | null }>({ isOpen: false, item: null });\r\n\r\n  const tabLabels: Record<string, string> = {\r\n    types: 'Loại khách hàng',\r\n    groups: 'Nhóm khách hàng',\r\n    sources: 'Nguồn khách hàng',\r\n    'payment-terms': 'Hạn thanh toán',\r\n    'credit-ratings': 'Xếp hạng tín dụng',\r\n    'lifecycle-stages': 'Giai đoạn vòng đời',\r\n    'sla': 'Cài đặt SLA',\r\n  };\r\n\r\n  // Page header\r\n  useSettingsPageHeader({\r\n    title: 'Cài đặt khách hàng',\r\n    actions: headerActions,\r\n  });\r\n\r\n  const handleEdit = React.useCallback((item: any) => {\r\n    setEditingItem(item);\r\n    setDialogOpen(true);\r\n  }, []);\r\n\r\n  const handleDeleteRequest = React.useCallback((item: BaseSetting) => {\r\n    setDeleteDialog({ isOpen: true, item });\r\n  }, []);\r\n\r\n  // Toggle isActive inline\r\n  const handleToggleActive = React.useCallback((item: BaseSetting, value: boolean) => {\r\n    const updatedItem = { ...item, isActive: value };\r\n    switch (activeTab) {\r\n      case 'types':\r\n        customerTypes.update(item.systemId, updatedItem as CustomerType);\r\n        break;\r\n      case 'groups':\r\n        customerGroups.update(item.systemId, updatedItem as CustomerGroup);\r\n        break;\r\n      case 'sources':\r\n        customerSources.update(item.systemId, updatedItem as CustomerSource);\r\n        break;\r\n      case 'payment-terms':\r\n        paymentTerms.update(item.systemId, updatedItem as PaymentTerm);\r\n        break;\r\n      case 'credit-ratings':\r\n        creditRatings.update(item.systemId, updatedItem as CreditRating);\r\n        break;\r\n      case 'lifecycle-stages':\r\n        lifecycleStages.update(item.systemId, updatedItem as LifecycleStage);\r\n        break;\r\n      case 'sla':\r\n        slaSettings.update(item.systemId, updatedItem as CustomerSlaSetting);\r\n        break;\r\n    }\r\n    toast.success(value ? 'Đã kích hoạt' : 'Đã tắt');\r\n  }, [activeTab, customerTypes, customerGroups, customerSources, paymentTerms, creditRatings, lifecycleStages, slaSettings]);\r\n\r\n  // Toggle isDefault inline\r\n  // SLA không cần toggle default (chỉ có 1 record mỗi loại)\r\n  const handleToggleDefault = React.useCallback((item: BaseSetting & { isDefault?: boolean }, value: boolean) => {\r\n    // SLA không có isDefault nữa\r\n    if (activeTab === 'sla') return;\r\n\r\n    // If turning on, turn off others in the same group\r\n    if (value) {\r\n      const currentData = activeDataMap[activeTab as keyof typeof activeDataMap] || [];\r\n      currentData.forEach((otherItem: any) => {\r\n        if (otherItem.systemId !== item.systemId && otherItem.isDefault) {\r\n          const updatedOther = { ...otherItem, isDefault: false };\r\n          switch (activeTab) {\r\n            case 'types':\r\n              customerTypes.update(otherItem.systemId, updatedOther);\r\n              break;\r\n            case 'groups':\r\n              customerGroups.update(otherItem.systemId, updatedOther);\r\n              break;\r\n            case 'sources':\r\n              customerSources.update(otherItem.systemId, updatedOther);\r\n              break;\r\n            case 'payment-terms':\r\n              paymentTerms.update(otherItem.systemId, updatedOther);\r\n              break;\r\n            case 'credit-ratings':\r\n              creditRatings.update(otherItem.systemId, updatedOther);\r\n              break;\r\n            case 'lifecycle-stages':\r\n              lifecycleStages.update(otherItem.systemId, updatedOther);\r\n              break;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // Update the clicked item\r\n    const updatedItem = { ...item, isDefault: value };\r\n    switch (activeTab) {\r\n      case 'types':\r\n        customerTypes.update(item.systemId, updatedItem as CustomerType);\r\n        break;\r\n      case 'groups':\r\n        customerGroups.update(item.systemId, updatedItem as CustomerGroup);\r\n        break;\r\n      case 'sources':\r\n        customerSources.update(item.systemId, updatedItem as CustomerSource);\r\n        break;\r\n      case 'payment-terms':\r\n        paymentTerms.update(item.systemId, updatedItem as PaymentTerm);\r\n        break;\r\n      case 'credit-ratings':\r\n        creditRatings.update(item.systemId, updatedItem as CreditRating);\r\n        break;\r\n      case 'lifecycle-stages':\r\n        lifecycleStages.update(item.systemId, updatedItem as LifecycleStage);\r\n        break;\r\n    }\r\n    toast.success(value ? 'Đã đặt làm mặc định' : 'Đã bỏ mặc định');\r\n  }, [activeTab, activeDataMap, customerTypes, customerGroups, customerSources, paymentTerms, creditRatings, lifecycleStages]);\r\n\r\n  const confirmDelete = () => {\r\n    if (!deleteDialog.item) return;\r\n    // SLA không cho xóa\r\n    if (activeTab === 'sla') {\r\n      toast.error('Không thể xóa cài đặt SLA');\r\n      setDeleteDialog({ isOpen: false, item: null });\r\n      return;\r\n    }\r\n    \r\n    const { systemId } = deleteDialog.item;\r\n    switch (activeTab) {\r\n      case 'types':\r\n        customerTypes.remove(asSystemId(systemId));\r\n        break;\r\n      case 'groups':\r\n        customerGroups.remove(asSystemId(systemId));\r\n        break;\r\n      case 'sources':\r\n        customerSources.remove(asSystemId(systemId));\r\n        break;\r\n      case 'payment-terms':\r\n        paymentTerms.remove(asSystemId(systemId));\r\n        break;\r\n      case 'credit-ratings':\r\n        creditRatings.remove(asSystemId(systemId));\r\n        break;\r\n      case 'lifecycle-stages':\r\n        lifecycleStages.remove(asSystemId(systemId));\r\n        break;\r\n    }\r\n    toast.success('Đã xóa thành công');\r\n    setDeleteDialog({ isOpen: false, item: null });\r\n  };\r\n\r\n  const handleSubmit = (data: any) => {\r\n    try {\r\n      switch (activeTab) {\r\n        case 'types':\r\n          if (editingItem) {\r\n            customerTypes.update(editingItem.systemId, { ...editingItem, ...data });\r\n          } else {\r\n            customerTypes.add(data);\r\n          }\r\n          break;\r\n        case 'groups':\r\n          if (editingItem) {\r\n            customerGroups.update(editingItem.systemId, { ...editingItem, ...data });\r\n          } else {\r\n            customerGroups.add(data);\r\n          }\r\n          break;\r\n        case 'sources':\r\n          if (editingItem) {\r\n            customerSources.update(editingItem.systemId, { ...editingItem, ...data });\r\n          } else {\r\n            customerSources.add(data);\r\n          }\r\n          break;\r\n        case 'payment-terms':\r\n          if (editingItem) {\r\n            paymentTerms.update(editingItem.systemId, { ...editingItem, ...data });\r\n          } else {\r\n            paymentTerms.add(data);\r\n          }\r\n          break;\r\n        case 'credit-ratings':\r\n          if (editingItem) {\r\n            creditRatings.update(editingItem.systemId, { ...editingItem, ...data });\r\n          } else {\r\n            creditRatings.add(data);\r\n          }\r\n          break;\r\n        case 'lifecycle-stages':\r\n          if (editingItem) {\r\n            lifecycleStages.update(editingItem.systemId, { ...editingItem, ...data });\r\n          } else {\r\n            lifecycleStages.add(data);\r\n          }\r\n          break;\r\n        case 'sla':\r\n          // SLA chỉ cho edit, không cho thêm mới\r\n          if (editingItem) {\r\n            slaSettings.update(editingItem.systemId, { ...editingItem, ...data });\r\n          }\r\n          break;\r\n      }\r\n      toast.success(editingItem ? 'Cập nhật thành công' : 'Thêm mới thành công');\r\n      setDialogOpen(false);\r\n    } catch (error) {\r\n      toast.error('Có lỗi xảy ra', {\r\n        description: error instanceof Error ? error.message : 'Lỗi không xác định',\r\n      });\r\n    }\r\n  };\r\n\r\n  const getExistingIds = React.useCallback((): string[] => {\r\n    const dataset = activeDataMap[activeTab as keyof typeof activeDataMap];\r\n    return dataset ? dataset.map((item) => item.id) : [];\r\n  }, [activeDataMap, activeTab]);\r\n\r\n  React.useEffect(() => {\r\n    if (activeTab !== 'types') {\r\n      return;\r\n    }\r\n\r\n    registerTypeActions([\r\n      <SettingsActionButton key=\"add\" onClick={handleAdd}>\r\n        <Plus className=\"h-4 w-4\" />\r\n        Thêm loại khách hàng\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [activeTab, handleAdd, registerTypeActions]);\r\n\r\n  React.useEffect(() => {\r\n    if (activeTab !== 'groups') {\r\n      return;\r\n    }\r\n\r\n    registerGroupActions([\r\n      <SettingsActionButton key=\"add\" onClick={handleAdd}>\r\n        <Plus className=\"h-4 w-4\" />\r\n        Thêm nhóm khách hàng\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [activeTab, handleAdd, registerGroupActions]);\r\n\r\n  React.useEffect(() => {\r\n    if (activeTab !== 'sources') {\r\n      return;\r\n    }\r\n\r\n    registerSourceActions([\r\n      <SettingsActionButton key=\"add\" onClick={handleAdd}>\r\n        <Plus className=\"h-4 w-4\" />\r\n        Thêm nguồn khách hàng\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [activeTab, handleAdd, registerSourceActions]);\r\n\r\n  React.useEffect(() => {\r\n    if (activeTab !== 'payment-terms') {\r\n      return;\r\n    }\r\n\r\n    registerPaymentTermActions([\r\n      <SettingsActionButton key=\"add\" onClick={handleAdd}>\r\n        <Plus className=\"h-4 w-4\" />\r\n        Thêm hạn thanh toán\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [activeTab, handleAdd, registerPaymentTermActions]);\r\n\r\n  React.useEffect(() => {\r\n    if (activeTab !== 'credit-ratings') {\r\n      return;\r\n    }\r\n\r\n    registerCreditRatingActions([\r\n      <SettingsActionButton key=\"add\" onClick={handleAdd}>\r\n        <Plus className=\"h-4 w-4\" />\r\n        Thêm xếp hạng tín dụng\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [activeTab, handleAdd, registerCreditRatingActions]);\r\n\r\n  React.useEffect(() => {\r\n    if (activeTab !== 'lifecycle-stages') {\r\n      return;\r\n    }\r\n\r\n    registerLifecycleStageActions([\r\n      <SettingsActionButton key=\"add\" onClick={handleAdd}>\r\n        <Plus className=\"h-4 w-4\" />\r\n        Thêm giai đoạn\r\n      </SettingsActionButton>,\r\n    ]);\r\n  }, [activeTab, handleAdd, registerLifecycleStageActions]);\r\n\r\n  // SLA: không có nút thêm mới (chỉ có 3 loại cố định)\r\n  React.useEffect(() => {\r\n    if (activeTab !== 'sla') {\r\n      return;\r\n    }\r\n    // Không đăng ký action nào - không cho thêm mới SLA\r\n    registerSlaActions([]);\r\n  }, [activeTab, registerSlaActions]);\r\n\r\n  const tabs = React.useMemo(\r\n    () => [\r\n      { value: 'types', label: 'Loại khách hàng' },\r\n      { value: 'groups', label: 'Nhóm khách hàng' },\r\n      { value: 'sources', label: 'Nguồn khách hàng' },\r\n      { value: 'lifecycle-stages', label: 'Giai đoạn vòng đời' },\r\n      { value: 'payment-terms', label: 'Hạn thanh toán' },\r\n      { value: 'credit-ratings', label: 'Xếp hạng tín dụng' },\r\n      { value: 'sla', label: 'Cài đặt SLA' },\r\n    ],\r\n    [],\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <SettingsVerticalTabs value={activeTab} onValueChange={setActiveTab} tabs={tabs}>\r\n\r\n        {/* Loại khách hàng */}\r\n        <TabsContent value=\"types\" className=\"mt-0\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Loại khách hàng</CardTitle>\r\n              <CardDescription>\r\n                Quản lý các loại khách hàng: Cá nhân, Doanh nghiệp\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <SimpleSettingsTable\r\n                data={activeDataMap.types}\r\n                columns={getCustomerTypeColumns({\r\n                  onEdit: handleEdit,\r\n                  onDelete: handleDeleteRequest,\r\n                  onToggleActive: handleToggleActive,\r\n                  onToggleDefault: handleToggleDefault,\r\n                })}\r\n                emptyTitle=\"Chưa có loại khách hàng\"\r\n                emptyDescription=\"Tạo loại mới để nhóm khách hàng theo tiêu chí phù hợp\"\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Nhóm khách hàng */}\r\n        <TabsContent value=\"groups\" className=\"mt-0\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Nhóm khách hàng</CardTitle>\r\n              <CardDescription>\r\n                Quản lý các nhóm khách hàng: VIP, Thường xuyên, Mới, Tiềm năng\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <SimpleSettingsTable\r\n                data={activeDataMap.groups}\r\n                columns={getCustomerGroupColumns({\r\n                  onEdit: handleEdit,\r\n                  onDelete: handleDeleteRequest,\r\n                  onToggleActive: handleToggleActive,\r\n                  onToggleDefault: handleToggleDefault,\r\n                })}\r\n                emptyTitle=\"Chưa có nhóm khách hàng\"\r\n                emptyDescription=\"Tạo nhóm để phân loại khách hàng theo độ ưu tiên\"\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Nguồn khách hàng */}\r\n        <TabsContent value=\"sources\" className=\"mt-0\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Nguồn khách hàng</CardTitle>\r\n              <CardDescription>\r\n                Quản lý các kênh tiếp cận khách hàng: Website, Facebook, Zalo, Giới thiệu...\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <SimpleSettingsTable\r\n                data={activeDataMap.sources}\r\n                columns={getCustomerSourceColumns({\r\n                  onEdit: handleEdit,\r\n                  onDelete: handleDeleteRequest,\r\n                  onToggleActive: handleToggleActive,\r\n                  onToggleDefault: handleToggleDefault,\r\n                })}\r\n                emptyTitle=\"Chưa có nguồn khách hàng\"\r\n                emptyDescription=\"Thêm nguồn để theo dõi hiệu quả từng kênh\"\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Giai đoạn vòng đời */}\r\n        <TabsContent value=\"lifecycle-stages\" className=\"mt-0\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Giai đoạn vòng đời</CardTitle>\r\n              <CardDescription>\r\n                Quản lý các giai đoạn trong vòng đời khách hàng: Tiềm năng, Cơ hội, Khách hàng, Rời bỏ...\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <SimpleSettingsTable\r\n                data={activeDataMap['lifecycle-stages']}\r\n                columns={getLifecycleStageColumns({\r\n                  onEdit: handleEdit,\r\n                  onDelete: handleDeleteRequest,\r\n                  onToggleActive: handleToggleActive,\r\n                  onToggleDefault: handleToggleDefault,\r\n                })}\r\n                emptyTitle=\"Chưa có giai đoạn\"\r\n                emptyDescription=\"Thiết lập các giai đoạn để theo dõi hành trình khách hàng\"\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Hạn thanh toán */}\r\n        <TabsContent value=\"payment-terms\" className=\"mt-0\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Hạn thanh toán</CardTitle>\r\n              <CardDescription>\r\n                Quản lý các điều khoản thanh toán: COD, Net 7, Net 15, Net 30...\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <SimpleSettingsTable\r\n                data={activeDataMap['payment-terms']}\r\n                columns={getPaymentTermColumns({\r\n                  onEdit: handleEdit,\r\n                  onDelete: handleDeleteRequest,\r\n                  onToggleActive: handleToggleActive,\r\n                  onToggleDefault: handleToggleDefault,\r\n                })}\r\n                emptyTitle=\"Chưa có hạn thanh toán\"\r\n                emptyDescription=\"Cấu hình điều khoản thanh toán để đồng bộ với báo giá\"\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Xếp hạng tín dụng */}\r\n        <TabsContent value=\"credit-ratings\" className=\"mt-0\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Xếp hạng tín dụng</CardTitle>\r\n              <CardDescription>\r\n                Quản lý các mức xếp hạng tín dụng: AAA, AA, A, B, C, D\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <SimpleSettingsTable\r\n                data={activeDataMap['credit-ratings']}\r\n                columns={getCreditRatingColumns({\r\n                  onEdit: handleEdit,\r\n                  onDelete: handleDeleteRequest,\r\n                  onToggleActive: handleToggleActive,\r\n                  onToggleDefault: handleToggleDefault,\r\n                })}\r\n                emptyTitle=\"Chưa có xếp hạng tín dụng\"\r\n                emptyDescription=\"Thiết lập thang điểm để đánh giá khách hàng vay nợ\"\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Cài đặt SLA */}\r\n        <TabsContent value=\"sla\" className=\"mt-0\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Cài đặt SLA</CardTitle>\r\n              <CardDescription>\r\n                Quản lý thời gian và ngưỡng cảnh báo SLA: Liên hệ định kỳ, Kích hoạt lại, Nhắc công nợ\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <SimpleSettingsTable\r\n                data={activeDataMap['sla']}\r\n                columns={getCustomerSlaColumns({\r\n                  onEdit: handleEdit,\r\n                  onDelete: handleDeleteRequest,\r\n                  onToggleActive: handleToggleActive,\r\n                  onToggleDefault: handleToggleDefault,\r\n                })}\r\n                emptyTitle=\"Chưa có cài đặt SLA\"\r\n                emptyDescription=\"Thiết lập thời gian và ngưỡng cảnh báo cho từng loại SLA\"\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </SettingsVerticalTabs>\r\n\r\n      {/* Form Dialogs */}\r\n      {activeTab === 'types' && (\r\n        <CustomerTypeFormDialog\r\n          open={dialogOpen}\r\n          onOpenChange={setDialogOpen}\r\n          initialData={editingItem}\r\n          onSubmit={handleSubmit}\r\n          existingIds={getExistingIds()}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'groups' && (\r\n        <CustomerGroupFormDialog\r\n          open={dialogOpen}\r\n          onOpenChange={setDialogOpen}\r\n          initialData={editingItem}\r\n          onSubmit={handleSubmit}\r\n          existingIds={getExistingIds()}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'sources' && (\r\n        <CustomerSourceFormDialog\r\n          open={dialogOpen}\r\n          onOpenChange={setDialogOpen}\r\n          initialData={editingItem}\r\n          onSubmit={handleSubmit}\r\n          existingIds={getExistingIds()}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'payment-terms' && (\r\n        <PaymentTermFormDialog\r\n          open={dialogOpen}\r\n          onOpenChange={setDialogOpen}\r\n          initialData={editingItem}\r\n          onSubmit={handleSubmit}\r\n          existingIds={getExistingIds()}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'credit-ratings' && (\r\n        <CreditRatingFormDialog\r\n          open={dialogOpen}\r\n          onOpenChange={setDialogOpen}\r\n          initialData={editingItem}\r\n          onSubmit={handleSubmit}\r\n          existingIds={getExistingIds()}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'lifecycle-stages' && (\r\n        <LifecycleStageFormDialog\r\n          open={dialogOpen}\r\n          onOpenChange={setDialogOpen}\r\n          initialData={editingItem}\r\n          onSubmit={handleSubmit}\r\n          existingIds={getExistingIds()}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'sla' && (\r\n        <CustomerSlaSettingFormDialog\r\n          open={dialogOpen}\r\n          onOpenChange={setDialogOpen}\r\n          initialData={editingItem}\r\n          onSubmit={handleSubmit}\r\n          existingIds={getExistingIds()}\r\n        />\r\n      )}\r\n\r\n      <AlertDialog\r\n        open={deleteDialog.isOpen}\r\n        onOpenChange={(isOpen) =>\r\n          setDeleteDialog((prev) => ({ isOpen, item: isOpen ? prev.item : null }))\r\n        }\r\n      >\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Xác nhận xóa {tabLabels[activeTab] || 'mục'}</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Bạn sắp xóa \"{deleteDialog.item?.name}\" ({deleteDialog.item?.id}). Hành động này không thể hoàn tác và có thể ảnh hưởng tới các chứng từ đang dùng loại cấu hình này.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel className=\"h-9\" onClick={() => setDeleteDialog({ isOpen: false, item: null })}>Hủy</AlertDialogCancel>\r\n            <AlertDialogAction className=\"h-9\" onClick={confirmDelete}>Xóa</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}